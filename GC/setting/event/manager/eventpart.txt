EventId	PartId	Name	SubKind	ExClass	StartDate	EndDate	ExParam1	ExParam2	ExParam3	ExParam4	ExParam5	ExParam6	ExParam7	ExParam8	ExParam9	ExParam10	ExParam11	ExParam12	ExParam13	ExParam14	ExParam15	ExParam16	ExParam17	ExParam18	ExParam19	ExParam20	ExParam21	ExParam22	ExParam23	ExParam24	ExParam25	_showall
0	0																															
5	1	接受拜祭英灵任务	npc_getaward		0	0	Npc:3566			CheckLevel:60,"你的等级不到60级，去练练再来吧。"	CheckTaskDay:1,51,52,"你今天已经拜祭过英灵，明天再来。"	CheckTask:53,1,"你已经接受了拜祭任务或者上次的任务还没交，仔细查看一下吧。"	CheckFreeBag:1,"背包空间不足，需要1格空间。"	CheckTask:55,15,"活动期间最多只能完成5次拜祭英灵的任务。"				AddSelect:"我这里有个香炉，先借给你用用。如果你身上有三个青团，三束沉水香的话就可以去城外进行拜祭，完了将“祭祀过的青团”交给我就行了。愿意吗？","我愿意去拜祭英灵"	SetTask:53,1	SetMsg:1,"这是我的家传香炉，先借你用用，别弄丢了，快去祭奠义军英灵吧，还磨蹭什么？"	AddItem:"18,1,310,1",1,1,0											
5	2	我完成拜祭英灵的任务了	npc_getaward		0	0	Npc:3566			CheckItemInBag:"18,1,310,1",1,0,"你有香炉和拜祭过的青团吗？东西都拿来给我看。"	CheckItemInBag:"18,1,311,1",1,0,"你有香炉和拜祭过的青团吗？东西都拿来给我看。"							AddTaskDay:51,52	SetTask:53,0	DelItem:"18,1,310,1",1	DelItem:"18,1,311,1",1	AddItem:"18,1,319,1",1,1,1440	SetMsg:1,"成功完成拜祭英灵的任务。"									
5	3	了解清明节活动	npc_multdialog		0	0	Npc:3566											SetLayer1Msg:"你要了解什么内容呢？"	SetLayer2Msg:"了解青团及沉香制作","活动开始后，游戏中的精英首领会掉落做青团生活技能材料，酒楼老板处也会出售。玩家在游戏维护后，生活技能达50级的能学到如下配方：<enter>    加工系技能：糯米研磨，豆沙加工；<enter>    制作系技能：青团制作<enter>    如果你有足够的精力以及活力就可以制作出“青团”。青团可以用来进行拜祭英灵的任务，也可以直接食用以获取经验。"	SetLayer2Msg:"了解青团祭英灵","    活动开始后，酒楼老板大老白会要求玩家去祭拜义军英魂，与其对话并接受任务后，会得到道具“香炉”。在野外使用香炉会出现一个巨大的祭拜炉鼎，在附近使用“沉水香”就能进行祭拜英灵的任务，从而获得“祭祀过的青团”，交给大老白就能获得奖励。<enter>    注意：完成任务需要3个青团，3束沉水香。沉水香各地酒楼老板处均有售。<enter>    该任务每天1次，共可参加5次。"												
5	4	玩家使用道具香炉	item_useitem		0	0	Item:"xianglu",10080,2,0			CheckInMapType:"fight",0,"在野外地图才能进行拜祭活动"	CheckTaskCurTime:54,300,0,"你已经将香炉放置在了某处，快去那里进行祭拜任务吧。"	CheckTask:53,4,"你今天已经完成了拜祭英灵的任务，赶快把“祭祀过的青团”给大老白看看吧。",""	CheckDialogNpcAtNear:"附近已经有其他的npc在，请到空旷的地方再使用香炉。"					SetTaskCurTime:54	AddNpcInNear:3640,300,1													
5	5	玩家使用沉水香	item_useitem		0	0	Item:"chenxiang",0,2,1			CheckNpcAtNear:3640,1,"你离香炉太远或你没有放置香炉在附近，不能将沉香插进去，快去香炉附近或放下香炉再试试吧。"	CheckItemInBag:"18,1,308,1",1,0,"祭拜英魂怎可无祭品，去找点青团再来祭拜吧！"	CheckTask:53,4,"拜祭英灵任务完成了，赶快将“祭祀过的青团”交给酒楼老板大老白看看。",""	CheckFreeBag:1,"背包空间不足，需要1格空间。"	CheckTask:55,15,"活动期间最多只能完成5次拜祭英灵的任务。"	CheckTaskCurTime:57,10,0,"祭拜不能心急，等会再来。"	CheckTaskLt:53,1,"还没接取拜祭任务。",""	CheckTaskGotoEvent:53,3,0,6	AddTask:53,1	AddTask:55,1	SetTaskCurTime:57	DelItem:"18,1,308,1",1	AddBaseExp:1350,1	SetMsg:2,"你成功点燃了一束沉水香！"									
5	6	玩家使用沉水香第三次	default		0	0												SetTask:53,4	AddTask:55,1	DelItem:"18,1,308,1",1	AddItem:"18,1,311,1",1,1,10080	AddBaseExp:1350,1	SetMsg:2,"您今天的祭拜英灵任务成功完成了！赶快去找大老白领取奖励吧。"	SetMsg:0,"您今天的祭拜英灵任务成功完成了！"								
5	7	使用青团【获得经验】	item_useitem		0	0	Item:"qingtuan",0,0,1			CheckTask:56,50,"最多只能食用50个青团哦！"	CheckLevel:50,"需要达到50级才能食用青团，你等级未达到50级。"							AddTask:56,1	AddBaseExp:60	SetTaskMsg:0,"你已经使用了<color=yellow>%s个<color>青团，每个角色最多使用50个。",56,0,0,0,0												
5	8	精英首领掉落糯米豆沙	boss_dropitem		0	0	DropNpcType:"_JINGYING"	DropNpcType:"_SHOULING"										SetDropItemId:1,6														
5	9	清明节材料商店	npc_getaward		0	0	Npc:3566											OpenShop:148,1,100														
6	1	激活领取角色	npc_getaward		0	0	Npc:2601	AddSelect:"您确定激活当前角色领奖资格吗？激活后当前账号下其他角色就不能领取奖励了哦。","确定激活"		CheckMonthPay:50,"您当月充值不足<color=yellow>50元<color>，不能参加活动啊！",""	CheckTaskEq:58,0,"你已经激活了领奖资格！",""	CheckExt:1,0,"您账号下的其他角色已经激活了领奖资格。当前角色不能激活。",""						SetTask:58,1	SetExt:1,1	SetMsg:2,"您成功激活了当前角色的领奖资格！"	SetMsg:0,"您成功激活了当前角色的领奖资格！"											
6	2	领取50元充值奖励	npc_getaward		0	0	Npc:2601			CheckTaskEq:58,1,"当前角色没激活领奖资格，激活领奖资格或使用已激活的角色再来领取奖励吧！",""	CheckMonthPay:50,"你本月充值不足<color=yellow>50月<color>不能获得充值优惠奖励！",""	CheckTaskEq:59,0,"您已经领取过该项奖励！",""						SetAwardId:1	SetTask:59,1	SetMsg:1,"您成功领取了充值50元的优惠奖励！"												
6	3	领取100到200元的充值奖励	npc_getaward		0	0	Npc:2601			CheckTaskEq:58,1,"当前角色没激活领奖资格，激活领奖资格或使用已激活的角色再来领取奖励吧！",""	CheckMonthPay:100,"您本月充值不足<color=yellow>100元<color>，不能领取奖励哦！",""	CheckTask:60,3,"您已经领取过该项奖励！",""					CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>if nPay < 150 then<enter><tab>if EventManager:GetTask(60) > 0 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到100元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>if nPay < 200 then<enter><tab>if EventManager:GetTask(60) > 1 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到150元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>if nPay < 250 then<enter><tab>if EventManager:GetTask(60) > 2 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到200元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>return 0",""	SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local tbT = {{200, 3},{150, 2},{100, 1}};<enter>local nTask = EventManager:GetTask(60);<enter>for _, tb in ipairs(tbT) do<enter><tab>if nPay >= tb[1] then<enter><tab><tab>local nAddBindMoney = (tb[2] - nTask) * 5000;<enter><tab><tab>if nAddBindMoney > 0 then<enter><tab><tab><tab>EventManager:SetTask(60, tb[2]);<enter><tab><tab><tab>me.AddBindCoin(nAddBindMoney);<enter><tab><tab><tab>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddBindMoney, nTask));<enter><tab><tab>end<enter><tab><tab>Dialog:Say(string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddBindMoney));<enter><tab><tab>return 0;<enter><tab>end<enter>end"														
6	4	领取250元以上充值奖励	npc_getaward		0	0	Npc:2601			CheckTaskEq:58,1,"当前角色没激活领奖资格，激活领奖资格或使用已激活的角色再来领取奖励吧！",""	CheckMonthPay:250,"您本月充值不足<color=yellow>250元<color>，不能领取奖励哦！",""						CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 200)/ 50);<enter>if EventManager:GetTask(61) >= nCount then<enter><tab>return 1,  string.format(\"赠送的%s绑定金币已经成功领取完毕，继续充值才可以再次领奖。\", nCount*1000)<enter>end<enter>return 0;",""	SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 200)/ 50);<enter>local nTask = EventManager:GetTask(61);<enter>local nAddCoin = (nCount - nTask) * 1000;<enter>EventManager:SetTask(61, nCount);<tab><enter>me.AddBindCoin(nAddCoin);<enter>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddCoin, nTask));<enter>Dialog:Say(string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddCoin));<tab><enter>return 0;"														
6	5	查询领取绑金明细	npc_getaward		0	0	Npc:2601			CheckMonthPay:50,"你本月累计充值不足50元，不能参加活动。",""	CheckTaskEq:58,1,"你还未激活本角色的领奖资格。",""							SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nTsk1 = EventManager:GetTask(59);<enter>local nTsk2 = EventManager:GetTask(60);<enter>local nTsk3 = EventManager:GetTask(61);<enter>local nGet2 = math.floor((nPay - 50)/50);<enter>if nGet2 > 3 then<enter>   nGet2 = 3;<enter>end<enter>local nGet3 = math.floor((nPay - 200)/50);<enter>if nGet3 < 0 then<enter>   nGet3 = 0;<enter>end<enter>local nSum  = (150 + nGet2*50 + nGet3*10)*100;<enter>local nGetSum = (nTsk1*150 + nTsk2*50 + nTsk3*10)*100;<enter>local szTip = [[<enter> <color=green>---绑金领奖明细---<color><enter><enter>本月累计充值  ：<color=yellow>%s元<color><enter>总共可领取绑金：<color=yellow>%s绑定金币<color><enter>已领取绑金总数：<color=yellow>%s绑定金币<color><enter>未领取绑金数  ：<color=yellow>%s绑定金币<color><enter>]]<enter>local szMsg = string.format(szTip, nPay, nSum, nGetSum, (nSum - nGetSum));<enter>Dialog:Say(szMsg);<enter>return 0;"														
7	1	领取祈福令牌	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取祈福令牌吗？领取此项奖励后将<color=yellow>不能<color>领取玄晶奖励！","确定"		CheckTaskEq:58,1,"当前角色没激活领奖资格，激活领奖资格或使用已激活的角色再来领取奖励吧！",""	CheckMonthPay:500,"您本月充值不足<color=yellow>500元<color>，不能领取奖励！",""	CheckTaskEq:62,0,"您已经领取过冲值达<color=yellow>500元<color>的额外奖励！",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间，去整理下背包再来吧！",""					SetAwardId:2	SetTask:62,1	SetMsg:2,"您成功领取了充值500元的额外奖励！"												
7	2	领取9玄	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取9玄奖励吗？领取后您将<color=yellow>不能<color>领取祈福令牌作为奖励！","确定"		CheckTaskEq:58,1,"当前角色没激活领奖资格，激活领奖资格或使用已激活的角色再来领取奖励吧！",""	CheckMonthPay:500,"您本月充值不足<color=yellow>500元<color>，不能领取奖励！",""	CheckTaskEq:62,0,"您已经领取过冲值达<color=yellow>500元<color>的额外奖励！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间，去整理下背包再来吧！",""					SetAwardId:3	SetTask:62,1	SetMsg:2,"您成功领取了充值500元的额外奖励！"												
8	1	强化费用降低优惠领取	npc_getaward		0	0	Npc:3571	AddSelect:"您确定领取<color=yellow>强化费用降低<color>的优惠效果吗？此效果可持续<color=yellow>一周<color>时间，活动期间您随时都能来领取，不过只有<color=yellow>1次<color>机会哦！","确定领取"		CheckTaskEq:63,0,"您已经领取过此项奖励哦！",""								AddSkillBuff:892,1,10080	AddTask:63,1	SetMsg:1,"您已经成功领取强化费用降低的效果！"	SetMsg:2,"您成功领取了强化费用降低的效果！"	SetMsg:0,"您成功领取了强化费用降低的效果！"										
8	2	领取惩治大盗奖励	npc_getaward		0	0	Npc:3571	AddSelect:"每完成<color=yellow>6次江湖通缉任务<color>就可以获得绑银奖励，你确定领取吗？","确定领取"		CheckTask:65,5,"    干得好，孩子！<enter>    惩治江洋大盗的任务你已经成功完成<color=yellow>5次<color>，你的侠义父老乡亲会铭记于心！",""	CheckTaskLt:64,6,"    你好像还没有完成<color=yellow>6次<color>江湖通缉任务啊，去惩治些强盗再来领奖吧，不劳而获是不对的！",""							AddBaseMoney:200000,7,200000	AddTask:65,1	MinusTask:64,6	SetTaskMsg:1,"您成功完成<color=yellow>1次<color>劳动节惩治江洋大盗的任务，获得了绑银奖励！<enter>已完成：<color=yellow>%s次<color><enter>最多完成：<color=yellow>5次<color><enter>",65,0,0,0,0											
8	3	完成大盗任务	action_finishtask		0	0	TaskFinish:"FinishWanted",0			CheckTask:65,5,"",""								AddTask:64,1														
8	4	查询活动细节	npc_getaward		0	0	Npc:3571											SetTaskMsg:1,"<color=yellow>***活动明细***<color><enter>    活动期间去各大城市<color=yellow>刑部捕头<color>处接取江湖通缉任务，每完成<color=yellow>6次<color>可以到老朽这里来领取绑银奖励。孩子，加油吧！<enter><enter>已完成活动次数：<color=yellow>%s次<color>；<enter>可完成活动次数：<color=yellow>5次<color>；<enter><enter>通缉任务有效完成次数：<color=yellow>%s次<color>。",65,64,0,0,0														
9	1	激活角色	npc_getaward		0	0	Npc:2601	AddSelect:"你确定激活当前角色参加活动的资格吗?激活后,账号下其他角色就不能参加活动了。","确定"		CheckMonthPay:15,"本月充值不足<color=yellow>15元<color>，不能参加活动哦！",""	CheckTaskEq:66,0,"当前角色已经激活过了~~不需要再激活！",""	CheckExt:1,0,"账号下其他角色已激活了活动资格！当前角色不能激活了~~",""	CheckLevel:60,"你的等级不足<color=yellow>60级<color>啊，先修炼一段时间再来吧！",""					AddTask:66,1	SetMsg:0,"成功激活当前角色的活动参与资格！"	SetExt:1,1	SetMsg:2,"恭喜您成功激活当前角色的活动参与资格！"											
9	2	领取充值达15元的金贝壳	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取充值<color=yellow>15元<color>赠送的<color=yellow>金贝壳<color>吗？","确定"		CheckTaskEq:66,1,"不能领奖呀，领奖资格未激活或其他角色已激活领奖资格！",""	CheckTaskEq:67,0,"不能再领了，你已经领取了充值<color=yellow>15元<color>赠送的金贝壳呀！",""	CheckMonthPay:15,"你本月累计充值不足<color=yellow>15元<color>，不能参加活动哦！",""	CheckFreeBag:6,"领取奖励需要<color=yellow>6格<color>背包空间，去整理下再来吧！",""					SetAwardId:4	AddTask:67,1	SetMsg:0,"你成功领取了五月充值优惠赠送的<color=yellow>金贝壳6个<color>！"												
9	3	领取充值达48元的金贝壳	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取充值<color=yellow>48元<color>赠送的金贝壳吗？","确定"		CheckTaskEq:66,1,"不能领奖呀，领奖资格未激活或其他角色已激活领奖资格！",""	CheckTaskEq:68,0,"不能再领了，你已经领取了充值<color=yellow>48元<color>赠送的金贝壳呀！",""	CheckMonthPay:48,"你本月累计充值不足<color=yellow>48元<color>，不能领取赠送的金贝壳哦！",""	CheckFreeBag:14,"领取奖励需要<color=yellow>14格<color>背包空间，去整理下再来吧！",""					SetAwardId:5	AddTask:68,1	SetMsg:0,"你成功领取了五月充值优惠赠送的<color=yellow>金贝壳14个<color>！"												
10	1	激活领奖资格	npc_getaward		0	0	Npc:2601	AddSelect:"你确定激活当前角色的领奖资格吗？激活后，其他角色就不能领奖了哦","确定"		CheckTaskEq:69,0,"当前角色已激活了领奖资格！",""	CheckExt:2,0,"账号下其他角色已激活了领奖资格啊，不能再激活了！",""							SetTask:69,1	SetExt:2,1	SetMsg:0,"恭喜您成功激活当前角色的端午节充值优惠领奖资格！"	SetMsg:2,"恭喜您激活当前角色的领奖资格！"											
10	2	领取9玄	npc_getaward		0	0	Npc:2601	AddSelect:"　　您确定领取充值达<color=yellow>150元<color>奖励的<color=yellow>9玄<color>吗？","确定"		CheckTaskEq:69,1,"不能领奖啊，你还没激活领奖资格呢！",""	CheckTaskEq:70,0,"您已经领取过9玄奖励了！",""	CheckMonthPay:150,"您当月充值不足<color=yellow>150元<color>，不能领取奖励，快去充值吧，过时不候哦！",""	CheckFreeBag:1,"背包空间不足，需要<color=yellow>1格<color>空间才能领奖哦！",""					SetAwardId:6	AddTask:70,1	SetMsg:2,"恭喜您获得端午充值优惠奖励的<color=yellow>9级玄晶<color>！"												
10	3	金币消费奖励绑金	action_opentask		0	0												OpenIBReturen:2														
10	4	领取祈福令牌	npc_getaward		0	0	Npc:2601	AddSelect:"    您确定领取充值达<color=yellow>500元<color>奖励的<color=yellow>3个中级祈福令牌<color>吗？","确定"		CheckTaskEq:69,1,"不能领奖啊，你还没激活领奖资格呢！",""	CheckTaskEq:71,0,"您已经领取过了祈福令牌！",""	CheckMonthPay:500,"您本月累计充值不足<color=yellow>500元<color>，不能领取奖励！",""	CheckFreeBag:3,"背包空间不足，领取需要3格背包空间！",""					SetAwardId:7	AddTask:71,1	SetMsg:2,"恭喜您获得端午充值优惠奖励的3个中级祈福令牌！"												
10	5	了解端午充值消费优惠活动！	npc_multdialog		0	0	Npc:2601											SetLayer1Msg:"端午节共2个优惠活动，你想了解哪个活动呢？"	SetLayer2Msg:"关于充值送大礼","　　活动期间，当月累积充值达到<color=yellow>150元<color>可在礼官处领取<color=yellow>9玄<color>一个，若当月累计充值达到<color=yellow>500元<color>，更可以额外领取<color=yellow>3个中级祈福令牌<color>。奖励必须在<color=yellow>31日24点<color>前领取，否则将视为自动放弃。<enter>　　<color=yellow>注：<color>领取前需要激活角色领奖资格，每个账号下只有1个角色可以领取奖励。"	SetLayer2Msg:"关于金币消费奖绑金","　　活动期间，玩家只要在奇珍阁消费金币每次达到<color=yellow>500金<color>就能马上获得<color=yellow>500绑金<color>的奖励，当消费到<color=yellow>15000金币<color>后，每500金币返还<color=yellow>100绑金<color>。但是能够获取返还的金币数，最多不超过<color=yellow>当月累计的最大充值<color>金币数<enter>　　注：不足500金的部分会累积下去，直到够500金就会奖励绑金，不过务必在<color=yellow>31日24点前<color>，否则就领不到绑金了。"												
12	1	激活角色领奖资格	npc_getaward		0	0	Npc:2601	AddSelect:"您确定激活当前角色的领奖资格么？激活后其他角色就不能领奖了。","确定"		CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能激活领奖资格！",""	CheckTaskEq:72,0,"当前角色已激活领奖资格，可以放心领奖了！",""	CheckExt:1,0,"您账号下的<color=yellow>其他角色<color>激活了领奖资格，不能在激活了！",""						AddTask:72,1	SetExt:1,1	SetMsg:0,"恭喜您成功激活当前角色的领奖资格了！"	SetMsg:2,"恭喜您成功激活当前角色的领奖资格了！"											
12	2	领取周年庆典包	npc_getaward		0	0	Npc:2601	AddSelect:"您确定现在就领取周年庆典包吗？","确定"		CheckTaskEq:72,1,"您当前角色还没激活领奖资格哦，激活再领奖或使用已激活的角色来领奖吧！",""	CheckFreeBag:1,"领取周年庆典包需要<color=yellow>1格<color>背包空间，去整理下再来吧！",""	CheckTaskEq:73,0,"您已经领取过周年庆典包了，每个人只能领取<color=yellow>一次<color>哦！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领取周年庆典包！",""					AddItem:"18,1,342,1",1,1,""	AddTask:73,1	SetMsg:0,"恭喜您成功领取了周年庆典包!"	SetMsg:2,"恭喜您成功领取了周年庆典包!"											
12	3	使用周年庆典包	item_useitem		0	0	Item:"zhounianbao",0,0,1,""			CheckFreeBag:5,"背包空间不足，需要<color=yellow>5格<color>背包空间才能打开庆典包！",""								SetAwardId:8	SetAwardId:9													
12	4	领取强化费用降低	npc_getaward		0	0	Npc:2601	AddSelect:"您确定现在就领取强化费用降低20%的效果吗？领取后持续5天。","确定"		CheckTaskEq:72,1,"您当前角色未激活领奖资格，激活后再领奖或使用已激活的角色来领奖吧！",""	CheckTaskEq:74,0,"您已经领取过强化费用降低的效果！",""							AddSkillBuff:892,1,7200	AddTask:74,1	SetMsg:0,"恭喜您成功领取强化费用降低的效果！"	SetMsg:2,"恭喜您成功领取强化费用降低的效果！"											
12	5	烟花周年庆	boss_dropitem		0	0	DropNpcType:"_ALLNPC"											SetDropItemId:2,1														
12	6	家族插旗经验翻倍	action_opentask		0	0												OpenDuKinQizi:2														
14	1	逍遥谷通过5关产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"XoyoGame",1,""											SetLuaScript:"local tbXoyo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFinishCount = tonumber(tbXoyo[4]) or 0;<enter>local nWinCount = tonumber(tbXoyo[3]) or 0;<enter>if nFinishCount == 5 and nWinCount >= 5 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,373,1\",1,0,\"\");<enter>end"														
14	2	商会40轮产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"MerchantTask",1,""											AddItem:"18,1,373,1",2,0,""														
14	3	军营剧情任务产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"ArmyCampTask",1,""											AddItem:"18,1,373,1",1,0,""														
14	4	白虎堂通3层产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"BaiHuTang",1,""											SetLuaScript:"local tbBaiHua = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHua[2]) or 0;<enter>if nLevel == 3 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,373,1\",1,0,\"\");<enter>end"														
14	5	武林联赛胜者产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"Wlls",1,""											AddItem:"18,1,373,1",1,0,""														
14	6	门派竞技按名次产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"FactionBattle",1,""											SetLuaScript:"local tbFaction = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbFaction[2]) or 0;<enter>if nGrade == 2 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,373,1\",1,0,\"\");<enter>elseif nGrade == 1 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,373,1\",2,0,\"\");<enter>end<enter>"														
14	7	周末钓鱼产出玫瑰	action_finishtask		2012/03/05/00/00	2012/03/31/00/00	TaskFinish:"WeeklyFish",1,""											AddItem:"18,1,373,1",1,0,""														
15	1	激活角色领奖资格！	npc_getaward		0	0	Npc:2601	AddSelect:"你确定激活当前角色的领奖资格吗？激活后，账号下其他角色就不可以领奖了哦！","确定"		CheckMonthPay:50,"本月累计充值达到<color=yellow>50元<color>才可以参加活动哦！",""	CheckTaskEq:75,0,"你已经激活了参加活动的资格，快去领奖吧！",""	CheckExt:2,0,"账号下其他角色已经激活了领奖资格哦，本角色不能激活了！",""						SetTask:75,1	SetExt:2,1	SetMsg:0,"恭喜您成功激活了当前角色的领奖资格！"	SetMsg:2,"恭喜您成功激活了当前角色的领奖资格！"											
15	2	领取50元充值奖励！	npc_getaward		0	0	Npc:2601			CheckTaskEq:75,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:76,0,"您已经领取过该项奖励了！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckFreeBag:1,"背包空间不足,领奖需要<color=yellow>1格<color>背包空间！",""					SetAwardId:10	SetTask:76,1	SetMsg:2,"恭喜您领取了充值达到50元的奖励！"												
15	3	领取100到200元充值奖励！	npc_getaward		0	0	Npc:2601			CheckTaskEq:75,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:100,"您本月累计充值不足<color=yellow>100元<color>，不能领取该奖励！",""	CheckTask:77,3,"该项奖励您已经领取完毕！",""	CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>if nPay < 150 then<enter><tab>if EventManager:GetTask(77) > 0 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到100元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>if nPay < 200 then<enter><tab>if EventManager:GetTask(77) > 1 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到150元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>if nPay < 250 then<enter><tab>if EventManager:GetTask(77) > 2 then<enter><tab><tab>return 1, string.format(\"你本月累计充值为<color=yellow>%s元<color>，你已经领取过累计充值达到200元赠送的绑定金币了。\", nPay);<enter><tab>end<enter>end<enter>return 0",""					SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local tbT = {{200, 3},{150, 2},{100, 1}};<enter>local nTask = EventManager:GetTask(77);<enter>for _, tb in ipairs(tbT) do<enter><tab>if nPay >= tb[1] then<enter><tab><tab>local nAddBindMoney = (tb[2] - nTask) * 5000;<enter><tab><tab>if nAddBindMoney > 0 then<enter><tab><tab><tab>EventManager:SetTask(77, tb[2]);<enter><tab><tab><tab>me.AddBindCoin(nAddBindMoney);<enter><tab><tab><tab>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddBindMoney, nTask));<enter><tab><tab>end<enter><tab><tab>Dialog:Say(string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddBindMoney));<enter><tab><tab>return 0;<enter><tab>end<enter>end"														
15	4	领取250元以上充值奖励！	npc_getaward		0	0	Npc:2601			CheckTaskEq:75,1,"当前角色未激活领奖资格,不能领奖！",""	CheckMonthPay:250,"您本月累计充值不足<color=yellow>250元<color>，不能领取该项奖励！",""		CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 200)/ 50);<enter>if EventManager:GetTask(78) >= nCount then<enter><tab>return 1,  string.format(\"赠送的%s绑定金币已经成功领取完毕，继续充值才可以再次领奖。\", nCount*1000)<enter>end<enter>return 0;",""					SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 200)/ 50);<enter>local nTask = EventManager:GetTask(78);<enter>local nAddCoin = (nCount - nTask) * 1000;<enter>EventManager:SetTask(78, nCount);<enter>me.AddBindCoin(nAddCoin);<enter>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddCoin, nTask));<enter>Dialog:Say(string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddCoin));<tab><enter>return 0;"														
15	5	查询奖励明细！	npc_getaward		0	0	Npc:2601			CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能参加活动哦！",""	CheckTaskEq:75,1,"当前角色未激活领奖资格，不能查询！",""							SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nTsk1 = EventManager:GetTask(76);<enter>local nTsk2 = EventManager:GetTask(77);<enter>local nTsk3 = EventManager:GetTask(78);<enter>local nGet2 = math.floor((nPay - 50)/50);<enter>if nGet2 > 3 then<enter>   nGet2 = 3;<enter>end<enter>local nGet3 = math.floor((nPay - 200)/50);<enter>if nGet3 < 0 then<enter>   nGet3 = 0;<enter>end<enter>local nMoney = 0;<enter>local nStone = 0;<enter>if nTsk1 > 0 then<enter><tab>nMoney = 1500000;<enter><tab>nStone = 750;<enter>end<enter>local nSum  = (50 + nGet2*50 + nGet3*10)*100;<enter>local nGetSum = (nTsk1*50 + nTsk2*50 + nTsk3*10)*100;<enter>local szTip = [[<enter> <color=green>---绑金领奖明细---<color><enter><enter>本月累计充值  ：<color=yellow>%s元<color><enter>总共可领取绑金：<color=yellow>%s绑定金币<color><enter>已领取绑金总数：<color=yellow>%s绑定金币<color><enter>已领取绑银总数：<color=yellow>%s绑定银两<color><enter>已领取魂石总数：<color=yellow>%s绑定魂石<color><enter>未领取绑金数  ：<color=yellow>%s绑定金币<color><enter>]]<enter>local szMsg = string.format(szTip, nPay, nSum, nGetSum, nMoney, nStone, (nSum - nGetSum));<enter>Dialog:Say(szMsg);<enter>return 0;"														
15	6	开启金条返还获得绑银的50%绑银	action_opentask		0	0	OpenJinTiaoFuLi:50																									
15	7	开启帮会银锭返还获得银两的1%绑金	action_opentask		0	0	OpenTongYinFuLi:1																									
16	1	领取祈福令牌！	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>中级祈福令牌<color>吗？领取后就不能领取其他<color=yellow>2项<color>奖励了！","确定"		CheckTaskEq:75,1,"当前角色未激活领奖资格,不能领奖哦！",""	CheckTaskEq:79,0,"您已经领取过该项奖励,不能领取了！",""	CheckMonthPay:588,"您本月累计充值不足588元,不能领取奖励！",""	CheckFreeBag:3,"背包空间不足，领奖需要<color=yellow>3格<color>背包空间！",""					SetAwardId:11	SetTask:79,1	SetMsg:0,"恭喜您成功领取了《剑侠世界》庆新版公测回馈活动的<color=yellow>588元<color>额外奖励！"	SetMsg:2,"恭喜您成功领取了庆新版公测活动的<color=yellow>588元<color>额外奖励！"											
16	2	领取九级玄晶	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>9玄<color>吗？领取后就不能领取其他<color=yellow>2项<color>奖励了！","确定"		CheckTaskEq:75,1,"当前角色未激活领奖资格,不能领奖哦！",""	CheckTaskEq:79,0,"您已经领取过该项奖励,不能领取了！",""	CheckMonthPay:588,"您本月累计充值不足588元,不能领取奖励！",""	CheckFreeBag:1,"背包空间不足，领奖需要<color=yellow>1格<color>背包空间！",""					SetAwardId:12	SetTask:79,1	SetMsg:0,"恭喜您成功领取了《剑侠世界》庆新版公测回馈活动的<color=yellow>588元<color>额外奖励！"	SetMsg:2,"恭喜您成功领取了庆新版公测活动的<color=yellow>588元<color>额外奖励！"											
16	3	领取辅修门派机会	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>辅修门派转换机会<color>吗？领取后就不能领取其他<color=yellow>2项<color>奖励了！","确定"		CheckTaskEq:75,1,"当前角色未激活领奖资格,不能领奖哦！",""	CheckTaskEq:79,0,"您已经领取过该项奖励,不能领取了！",""	CheckMonthPay:588,"您本月累计充值不足588元,不能领取奖励！",""						AddFactionExSum:1	SetTask:79,1	SetMsg:0,"恭喜您成功领取了《剑侠世界》庆新版公测回馈活动的<color=yellow>588元<color>额外奖励，获得<color=yellow>辅修门派转换<color>机会，请去<color=yellow>掌门<color>处查询！"	SetMsg:2,"恭喜您领取了庆新版活动的<color=yellow>588<color>额外奖，获得门派辅修转换机会！"											
18	1	激活角色领奖资格！	npc_getaward		0	0	Npc:2601	AddSelect:"你确定激活当前角色的领奖资格吗？激活后，账号下其他角色就不可以领奖了哦！","确定"		CheckMonthPay:50,"本月累计充值达到<color=yellow>50元<color>才可以参加活动哦！",""	CheckTaskEq:111,0,"你已经激活了参加活动的资格，快去领奖吧！",""	CheckExt:2,0,"账号下其他角色已经激活了领奖资格哦，本角色不能激活了！",""						SetTask:111,1	SetExt:2,1	SetMsg:0,"恭喜您成功激活了当前角色的领奖资格！"	SetMsg:2,"恭喜您成功激活了当前角色的领奖资格！"											
18	2	领取50元充值奖励！	npc_getaward		0	0	Npc:2601			CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:112,0,"您已经领取过该项奖励了！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""						SetAwardId:13	SetTask:112,1	SetMsg:2,"恭喜您领取了充值达到50元的奖励！"												
18	3	领取150元充值奖励！	npc_getaward		0	0	Npc:2601			CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:113,0,"您已经领取过该项奖励了！",""	CheckMonthPay:150,"您本月累计充值不足<color=yellow>150元<color>，不能领奖！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间！",""					SetAwardId:14	SetTask:113,1	SetMsg:2,"恭喜您领取了充值达到150元的奖励！"												
18	4	领取1000元以上绑金返还！	npc_getaward		0	0	Npc:2601			CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领奖！",""	CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>if EventManager:GetTask(116) >= nCount then<enter><tab>return 1,  string.format(\"赠送的%s绑定金币已经成功领取完毕，继续充值才可以再次领奖。\", nCount*1000)<enter>end<enter>return 0;",""						SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>local nTask = EventManager:GetTask(116);<enter>local nAddCoin = (nCount - nTask) * 1000;<enter>EventManager:SetTask(116, nCount);<enter>me.AddBindCoin(nAddCoin);<enter>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddCoin, nTask));<enter>local szMsg = string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddCoin);<enter>Dialog:Say(szMsg);<enter>me.Msg(szMsg);<enter>return 0;"														
19	1	领取玄晶宝箱！	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>玄晶宝箱<color>的奖励？领取后就<color=yellow>不<color>可以领取<color=yellow>其他2项<color>奖励了哦！","确定"		CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:114,0,"您已经领取过该项奖励了！",""	CheckMonthPay:500,"您本月累计充值不足<color=yellow>500元<color>，不能领奖！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间！",""					SetAwardId:15	SetTask:114,1	SetMsg:2,"恭喜您领取了充值达到500元的奖励！"												
19	2	领取祈福令牌！	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>3个中级祈福令牌<color>的奖励吗？领取后就<color=yellow>不<color>可以领取<color=yellow>其他2项<color>奖励了哦！","确定"		CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:114,0,"您已经领取过该项奖励了！",""	CheckMonthPay:500,"您本月累计充值不足<color=yellow>500元<color>，不能领奖！",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间！",""					SetAwardId:16	SetTask:114,1	SetMsg:2,"恭喜您领取了充值达到500元的奖励！"												
19	3	领取购买2个和氏璧的资格！	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>购买2个和氏璧资格<color>的奖励吗？领取后就<color=yellow>不<color>可以领取<color=yellow>其他2项<color>奖励了哦！","确定"		CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:114,0,"您已经领取过该项奖励了！",""	CheckMonthPay:500,"您本月累计充值不足<color=yellow>500元<color>，不能领奖！",""						AddBuyHeShiBiSum:2	SetTask:114,1	SetMsg:1,"恭喜您领取了充值达到500元的奖励，可以购买2个和氏璧！"	SetMsg:2,"恭喜您领取了充值达到<color=yellow>500元<color>的奖励，可以购买<color=yellow>2个和氏璧<color>！"	SetMsg:3,"你的好友[<%me.szName%>]参加七月充值优惠获得了两次<color=yellow>购买和氏壁的资格。<color>"	SetMsg:4,"参加七月充值优惠获得了<color=yellow>两次购买和氏壁的资格<color>。"	SetMsg:0,"恭喜您领取了充值达到500元的奖励，<color=yellow>可以购买2个和氏璧<color>！"								
20	1	【平台开启】开启金币消费返还功能	action_opentask		0	0																										
20	2	【平台开启】开启白虎堂boss掉落翻倍功能	action_opentask		0	0																										
20	3	【平台开启】开启宋金奖励翻倍功能	action_opentask		0	0																										
20	4	【平台开启】开启门派竞技积分兑换奖励翻倍功能	action_opentask		0	0																										
20	5	【平台开启】开启家族关卡铜钱奖励翻倍功能	action_opentask		0	0																										
20	6	【平台开启】开启领土征战奖励翻倍功能	action_opentask		0	0																										
20	7	<color=green>额外购买五个四折精气散<color>	item_useitem		2011/08/04/00/00	2011/08/08/23/59	Item:"xiulianzhu","",0,0,""			CheckFuliJingHuoWeiWang:"你没有资格购买四折精活"								SetLuaScript:"if tonumber(os.date(\"%Y%m%d\",me.GetTask(2172,1))) < tonumber(os.date(\"%Y%m%d\",GetTime())) then<enter>  me.SetTask(2172,1,GetTime());<enter>  EventManager:ExeFun(\"AddBuyItemSum\",1,22);<enter>  EventManager:ExeFun(\"AddExMKPUse\",5);<enter>end<enter>"	CoinBuyItem:22													
20	8	<color=green>额外购买五个四折活气散<color>	item_useitem		2011/08/04/00/00	2011/08/08/23/59	Item:"xiulianzhu","",0,0,""			CheckFuliJingHuoWeiWang:"你没有资格购买四折精活"								SetLuaScript:"if tonumber(os.date(\"%Y%m%d\",me.GetTask(2172,2))) < tonumber(os.date(\"%Y%m%d\",GetTime())) then<enter>  me.SetTask(2172,2,GetTime());<enter>  EventManager:ExeFun(\"AddBuyItemSum\",1,23);<enter>  EventManager:ExeFun(\"AddExGTPUse\",5);<enter>end<enter>"	CoinBuyItem:23													
20	9	【平台开启】开启家族种植翻倍功能	action_opentask		0	0																										
20	10	【平台开启】开启藏宝图箱子翻倍功能	action_opentask		0	0																										
20	11	【平台开启】开启逍遥谷开卡奖励翻倍功能	action_opentask		0	0																										
24	1	领取经验补偿	npc_getaward		0	0	Npc:2601			CheckTask:185,1,"你已经领取过了。",""	CheckLevel:"60","对不起，您还没有达到60级无法领取补偿。"							SetTask:185,1	AddBaseExp:"120","0"													
24	2	领取绑银补偿	npc_getaward		0	0	Npc:2601			CheckTask:186,1,"你已经领取过了。",""	CheckLevel:"60","对不起，您还没有达到60级无法领取补偿。"							SetTask:186,1	AddBindMoney:"100000"													
24	3	领取黄金福袋	npc_getaward		0	0	Npc:2601			CheckTask:187,1,"你已经领取过了。",""	CheckLevel:"60","对不起，您还没有达到60级无法领取补偿。"							SetTask:187,1	AddItem:"18,1,80,1","10","1","43200","0","0"													
31	1	获取3次购买和氏璧资格！	npc_getaward		0	0	Npc:2601			CheckTaskEq:111,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:115,0,"您已经领取过该项奖励了！",""	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领奖！",""						AddBuyHeShiBiSum:3	SetTask:115,1	SetMsg:2,"恭喜您领取了充值达到<color=yellow>1000元<color>的奖励，可再多购买<color=yellow>3个和氏璧<color>！"	SetMsg:1,"恭喜您领取了充值达到<color=yellow>1000元<color>的奖励，可以再多购买<color=yellow>3个和氏璧<color>！"	SetMsg:0,"恭喜您领取了充值达到<color=yellow>1000元<color>的奖励，可以再多购买<color=yellow>3个和氏璧<color>！"										
31	2	购买和氏璧	npc_getaward		0	0	Npc:2601			CheckTaskEq:111,1,"当前角色未激活领奖资格，不能购买和氏壁！",""	CheckMonthPay:500,"您本月累计充值不足<color=yellow>500元<color>，恐怕没有购买和氏璧的资格！",""	CheckFreeBag:1,"您的背包空间不够，需要1格背包空间！",""						CoinBuyHeShiBi:"您将以8000金币的价格购买1个和氏璧！"														
32	1	领取花酒诗剑	npc_getaward		0	0	Npc:3691			CheckNpcTaskEq:1,0,"您已经在我这里领取了奖励，东西不多还是给他人留点吧。"	CheckFreeBag:2,"你包包都塞满了，留<color=yellow>2格<color>空间再来吧！",""							SetLuaScript:"local tbTemp = EventManager:GetTempTable(32,1);<enter>tbTemp.nGMin = 1;<enter>tbTemp.nGMax = 3;<enter>tbTemp.nGType = 0;<enter>return 0;<enter>"	SetNpcTask:1,1	GoToEvent:2												
32	2	获得花与酒诗与剑通用接口			0	0												SetLuaScript:"local tbTemp = EventManager:GetTempTable(32,1);<enter>local nRMin = tonumber(tbTemp.nGMin) or 0;<enter>local nRMax = tonumber(tbTemp.nGMax) or 0;<enter>local nType = tonumber(tbTemp.nGType)or 0;<enter>local tbSex = {[0]={83,85},[1]={87,89}};<enter>if nType == 0 then<enter>     local nCount = MathRandom(nRMin,nRMax);<enter>     if nCount > 0 then<enter>       for i=1, nCount do<enter>          local nItem = MathRandom(1,2);<enter>          me.AddStackItem(22,1,tbSex[me.nSex][nItem],1,{bForceBind=1},1);<enter>       end<enter>     end<enter>end<enter><enter>if nType == 1 then<enter>  for i=1, 2 do<enter>     local nCount = MathRandom(nRMin,nRMax);<enter>     if nCount > 0 then<enter>       me.AddStackItem(22,1,tbSex[me.nSex][i],1,{bForceBind=1},nCount);<enter>     end<enter>  end<enter>end<enter>tbTemp.nGMin = 0;<enter>tbTemp.nGMax = 0;<enter>tbTemp.nGType = 0;<enter>return 0;"														
32	3	开启精英首领死亡召唤白水牛	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",0											AddNpcInNear:3691,60,0														
32	4	逍遥谷过关获得花酒诗剑	action_finishtask		0	0	TaskFinish:"XoyoGame",0											SetLuaScript:"local nFloor = tonumber(EventManager:GetLibTable().tbTaskFinishArg[1]) or 0;<enter>local tbAward = {<enter>   [1] = 1,<enter>   [2] = 2,<enter>   [3] = 2,<enter>   [4] = 3,<enter>   [5] = 3,<enter>};<enter>local nCount = tonumber(tbAward[nFloor]) or 0;<enter>if nCount <= 0 then<enter>  return 0;<enter>end<enter>EventManager:GetTempTable(32,1).nGMin = 1;<enter>EventManager:GetTempTable(32,1).nGMax = nCount;<enter>EventManager:GetTempTable(32,1).nGType= 0;<enter>return 0;<enter>"	GoToEvent:2													
32	5	开启白虎堂时召唤白水牛	action_touchtask		0	0	TaskTouch:"CallNpc_BaiHuTang"											SetLuaScriptNotMe:"local nMapId = EventManager:GetLibTable().tbTaskTouchArg[1];<enter>local nLevel = EventManager:GetLibTable().tbTaskTouchArg[2];<enter>local nFloor = EventManager:GetLibTable().tbTaskTouchArg[3];<enter>local nBoss  = EventManager:GetLibTable().tbTaskTouchArg[4];<enter>if nBoss == 0 then<enter> local tbR = {<enter>   [1]={20,1},<enter>   [2]={30,2},<enter>   [3]={50,2},<enter> };<enter> local tbPos = {{1607, 3125},{1604, 3124}};<enter> if tbR[nFloor] then<enter>   for i=1, tbR[nFloor][2] do<enter>    local nR = MathRandom(1,100);<enter>     if nR <= tbR[nFloor][1] then<enter>       local nPx = tbPos[i][1];<enter>       local nPy = tbPos[i][2];<enter>       local pNpc = KNpc.Add2(3691,1,-1,nMapId,nPx,nPy,0,0);<enter>       pNpc.SetLiveTime(1800 * Env.GAME_FPS);<enter>     end<enter>   end<enter> end<enter>end<enter>return 0;"														
32	6	开启宋金召唤白水牛	action_touchtask		0	0	TaskTouch:"Open_Battle"											SetLuaScriptNotMe:"local nMapId = EventManager:GetLibTable().tbTaskTouchArg[1];<enter>local nLevel = EventManager:GetLibTable().tbTaskTouchArg[2];<enter>local nRuleType = EventManager:GetLibTable().tbTaskTouchArg[3];<enter>local nSeqNum  = EventManager:GetLibTable().tbTaskTouchArg[4];<enter>local nBattleMapType  = EventManager:GetLibTable().tbTaskTouchArg[5];<enter>local tbMapPos = {<enter>  [1] = {{1622, 3274},{1694, 3469},{1776, 3284}}, --九曲之战<enter>  [2] = {{1605, 3159},{1746, 3332},{1705, 3289}}, --五丈原之战<enter>  [3] = {{2156, 3625},{2046, 3730},{2216, 3705}}, --蟠龙谷之战<enter>};<enter><enter>if not tbMapPos[nBattleMapType] then<enter> return 0;<enter>end<enter>for i=1, 3 do<enter>   local nPx = tbMapPos[nBattleMapType][i][1]; <enter>   local nPy = tbMapPos[nBattleMapType][i][2]; <enter>   local pNpc = KNpc.Add2(3691,1,-1,nMapId,nPx,nPy,0,0);<enter>   pNpc.SetLiveTime(Battle.TIMER_GAME);<enter>end<enter>return 0;<enter>"														
32	7	开启门派竞技召唤白水牛	action_touchtask		0	0	TaskTouch:"Open_FactionBattle"											SetLuaScriptNotMe:"local nFaction = EventManager:GetLibTable().tbTaskTouchArg[1];<enter>local nMapId = EventManager:GetLibTable().tbTaskTouchArg[2];<enter>local tbMapPos ={<enter>  {1470, 3464},{1650, 3479},{1521, 3310},<enter>}<enter>for i=1, 3 do<enter>   local nPx = tbMapPos[i][1];<enter>   local nPy = tbMapPos[i][2];<enter>   local pNpc = KNpc.Add2(3691,1,-1,nMapId,nPx,nPy,0,0);<enter>   pNpc.SetLiveTime(3600 * Env.GAME_FPS);<enter>end<enter>return 0;<enter>"														
32	8	商会完成一轮获得花酒诗剑	action_finishtask		0	0	TaskFinish:"MerchantTask",2											SetLuaScript:"local tbTemp = EventManager:GetTempTable(32,1);<enter>tbTemp.nGMin = 10;<enter>tbTemp.nGMax = 15;<enter>tbTemp.nGType = 1;<enter>return 0;<enter>"	GoToEvent:2													
33	1	接受七夕情人节任务			0	0	Npc:3692			CheckTaskEq:117,0,"我交给你的事还没办完，怎么又来烦我？",""	CheckLevel:60,"    像你这样的江湖阅历，又懂得什么？<color=yellow>60级<color>以后再来找我吧。",""	CheckTaskEq:119,0,"我交给你的事还没办完，怎么又来烦我？",""	CheckLuaScript:"local nCount1 = me.GetItemCountInBags(18,1,362,1);--【赠品】花与酒<enter>local nCount2 = me.GetItemCountInBags(18,1,364,1);--【赠品】诗与剑<enter>local nCount3 = me.GetItemCountInBags(18,1,359,1);--花与酒<enter>local nCount4 = me.GetItemCountInBags(18,1,361,1);--诗与剑<enter>local szMsg = \"如果你有“花与酒”及“诗与剑”作为信物，表明你是个有情的人，或许我会与你聊几句。世俗粗人就不要来打扰我观雪数梅了。\";<enter>if me.nSex == 0 then<enter>  if nCount2 > 0 and nCount3 > 0 then<enter>    return 0;<enter>  end<enter>  return 1, szMsg;<enter>end<enter>if nCount1 > 0 and nCount4 > 0 then<enter>  return 0;<enter>end<enter>return 1, szMsg;<enter>",""	CheckFreeBag:1,"    你这人真是奇怪，带这么多东西在身上不累么？整理<color=yellow>1格<color>背包空间再来吧。",""	CheckTask:118,10,"    我已没有需要你代办的事情，不如一起观雪数梅如何？昆仑的白色七夕节，是不是很有趣。（说完，她脸上浮起一丝微笑，眼睛微眯形成弯弯的弧形。）<enter><enter><color=yellow>已完成任务<%EventManager:GetTask(118)%>次<color>",""			SetLuaScript:"if me.nSex == 0 then<enter>   me.ConsumeItemInBags(1,18,1,364,1);<enter>   me.ConsumeItemInBags(1,18,1,359,1);<enter>else<enter>   me.ConsumeItemInBags(1,18,1,361,1);<enter>   me.ConsumeItemInBags(1,18,1,362,1);<enter>end<enter>return 0;<enter>"	SetTask:117,1	AddItem:"18,1,365,1",1,1,0	SetMsg:1,"    七夕到来，这是一个快乐而又忧伤的节日，相会与离别都在同一天发生。<enter>    你看那天边的银河，两岸有孤寂却又明亮的星。那就是传说中的织女及牵牛，我这里有<color=yellow>七支七色玄香<color>，你去找个地方帮我燃香拜星吧！"											
33	2	完成玄香拜星任务			0	0	Npc:3692			CheckTaskLt:117,1,"    你还没接玄香拜星任务呢。",""	CheckTaskEq:117,8,"    我叫你去燃起<color=yellow>七支<color>香，你明明还没燃完，却来哄我？",""	CheckFreeBag:1,"    你真是一个痴人，难道把全副身家都带身上了么？快整理<color=yellow>1格背包<color>再说。",""						AddItem:"18,1,367,1",1,1,0	SetTask:117,0	SetMsg:1,"    香已燃完了么？这有些东西你拿去吧，我留着也没啥用。<enter>    听说在燃起七色玄香的地方，可能会出现一种叫作<color=yellow>七彩幻蛛<color>的蜘蛛，它会织很神奇的蛛网，我这有个<color=yellow>星月匣<color>，可以用来养蜘蛛。你去抓一只然后把它的<color=yellow>网<color>拿来给我吧，我会根据网的好坏给与你不同奖励的。"	AddBaseExp:28,0											
33	3	完成采蛛观网任务			0	0	Npc:3692	AddSelect:"    我正在寻找七彩蜘蛛网呢，越漂亮的网越珍贵，如果你有网，愿意交给我吗？我愿将用等价值的物品和你交换。","愿意交换"		CheckLuaScript:"<enter>local nCountMax = 0;<enter>for i=1,5 do<enter>  nCountMax = nCountMax + me.GetItemCountInBags(18,1,386,i);<enter>end<enter>local szMsg = \"你不是说要带一个七彩幻蛛网来见我么？可是现在蛛网在哪呢？\";<enter>if nCountMax <= 0 then<enter> return 1,szMsg;<enter>end<enter>return 0;<enter><enter>",""	CheckFreeBag:1,"    你真是一个痴人，难道把全副身家都带身上了么？快整理<color=yellow>1格<color>背包再说。",""									SetTask:119,0	AddTask:118,1	SetLuaScript:"local tbAward = {<enter> {{\"18,1,1,9\",1}},<enter> {[0]={\"1,13,29,1\",0},[1]={\"1,13,30,1\",0}},<enter> {{\"18,1,1,8\",1}},<enter> {{\"18,1,1,7\",1}},<enter> {{\"18,1,1,6\",1}},<enter>}<enter>local tbCount = {};<enter>for i=1,5 do<enter>  tbCount[i] = me.GetItemCountInBags(18,1,386,i);<enter>end<enter>for i, nCount in ipairs(tbCount) do<enter>  if nCount > 0 then<enter>    me.ConsumeItemInBags(1,18,1,386,i);<enter>    EventManager:GetTempTable(33,3).szDelName = KItem.GetNameById(18,1,386,i)<enter>    local tbItem = tbAward[i][me.nSex] or tbAward[i][1]<enter>    EventManager:ExeFun(\"AddItem\", tbItem[1], 1,tbItem[2],43200)<enter>    EventManager:ExeFun(\"AddSkillBuff\", 879, 8, 60)<enter>    EventManager:ExeFun(\"AddSkillBuff\", 880, 4, 60)<enter>    EventManager:ExeFun(\"AddSkillBuff\", 385, 7, 60)<enter>    EventManager:ExeFun(\"AddSkillBuff\", 386, 7, 60)<enter>    EventManager:ExeFun(\"AddSkillBuff\", 387, 7, 60)<enter>    local nFCount = EventManager:GetTask(118)<enter>    if nFCount >= 10 then<enter>      EventManager:ExeFun(\"AddTitle\",\"6,12,1,0\");<enter>    end<enter>     EventManager:ExeFun(\"WriteLog\", string.format(\"完成一轮七夕活动，上交1个%s等级蜘蛛网\", i));<enter>    return 0;<enter>  end<enter>end<enter>return 0;<enter>"	SetMsg:1,"    这就是传说中的七彩幻蛛蛛网么？果然非比寻常。<enter>    恩，这是<%EventManager:GetTempTable(33,3).szDelName%>，我能给你的就这些东西，你收着吧。<enter>    顺便问一句，你真的明白了我叫你做这一切的用意了么？<enter>"									
33	4	使用花与酒	item_useitem		0	0	Item:"huayujiu",10080,0,0,""	AddSelect:"    您准备送给你的异性队友吗？她必须与您的亲密度等级达到<color=yellow>3级<color>哦。","确定"		CheckLuaScript:"local szMsg = \"必须和你的女性朋友两人组队并且在附近才能送出祝福。\";<enter>if me.nTeamId <= 0 then<enter>  return 1,szMsg;<enter>end<enter><enter>local tbTeamMemberList = me.GetTeamMemberList();<enter>if not tbTeamMemberList or #tbTeamMemberList ~= 2 then<enter>  return 1,szMsg;<tab><enter>end<enter>local pPlayer;<enter>for _, pMemPlayer in ipairs(tbTeamMemberList) do<enter>   if pMemPlayer.nId ~= me.nId then<enter>     pPlayer = pMemPlayer;<enter>     break;<enter>   end<enter>end<enter>if not pPlayer then<enter>  return 1, szMsg;<enter>end<enter>Setting:SetGlobalObj(pPlayer)<enter>if EventManager:GetTask(125) >= 20 then<enter>  Setting:RestoreGlobalObj()<enter>  return 1, \"你赠送的好友，被赠送次数已达20次，每个玩家最多只能接受20次赠送。\";<enter>end<enter>Setting:RestoreGlobalObj()<enter>if me.GetFriendFavorLevel(pPlayer.szName) < 3 then<enter>  return 1, \"抱歉，你们不是好友关系或亲密度未达3级。\";<enter>end<enter>if pPlayer.CountFreeBagCell() < 1 then<enter>  return 1, \"你要赠送的好友背包空间不足。\";<enter>end<enter>return 0;<enter>",""	CheckSex:0,"必须是男性玩家才能使用",""							SetLuaScript:"<enter>local tbTeamMemberList = me.GetTeamMemberList();<enter>local pPlayer;<enter>for _, pMemPlayer in ipairs(tbTeamMemberList) do<enter>   if pMemPlayer.nId ~= me.nId then<enter>     pPlayer = pMemPlayer;<enter>     break;<enter>   end<enter>end<enter>pPlayer.AddStackItem(18,1,362,1,{bForceBind=1},1);<enter>me.AddFriendFavor(pPlayer.szName,100);<enter>local szMsg1 = \"她回应你：蒙君所赐，岂敢不喜！\";<enter>local szMsg2 = \"花有附言：赠卿一花，把酒共赏！\";<enter>me.Msg(szMsg1);<enter>Dialog:SendBlackBoardMsg(me, szMsg1);<enter>pPlayer.Msg(szMsg2);<enter>Dialog:SendBlackBoardMsg(pPlayer, szMsg2);<enter>Setting:SetGlobalObj(pPlayer)<enter>local nCount = EventManager:GetTask(125);<enter>EventManager:SetTask(125,nCount+1);<enter>Setting:RestoreGlobalObj()<enter>return 0;<enter><enter>"	DelLinkUseItem:"删除"													
33	5	使用诗与剑	item_useitem		0	0	Item:"shiyujian",10080,0,0,""	AddSelect:"    您准备送给你的异性队友吗？他必须与您的亲密度等级达到<color=yellow>3级<color>哦。","确定"		CheckLuaScript:"local szMsg = \"必须和你的男性朋友两人组队并且在附近才能送出祝福。\";<enter>if me.nTeamId <= 0 then<enter>  return 1,szMsg;<enter>end<enter><enter>local tbTeamMemberList = me.GetTeamMemberList();<enter>if not tbTeamMemberList or #tbTeamMemberList ~= 2 then<enter>  return 1,szMsg;<tab><enter>end<enter>local pPlayer;<enter>for _, pMemPlayer in ipairs(tbTeamMemberList) do<enter>   if pMemPlayer.nId ~= me.nId then<enter>     pPlayer = pMemPlayer;<enter>     break;<enter>   end<enter>end<enter>if not pPlayer then<enter>  return 1, szMsg;<enter>end<enter>Setting:SetGlobalObj(pPlayer)<enter>if EventManager:GetTask(125) >= 20 then<enter>  Setting:RestoreGlobalObj()<enter>  return 1, \"你赠送的好友，被赠送次数已达20次，每个玩家最多只能接受20次赠送。\";<enter>end<enter>Setting:RestoreGlobalObj()<enter>if me.GetFriendFavorLevel(pPlayer.szName) < 3 then<enter>  return 1, \"抱歉，你们不是好友关系或亲密度未达3级。\";<enter>end<enter>if pPlayer.CountFreeBagCell() < 1 then<enter>  return 1, \"你要赠送的好友背包空间不足。\";<enter>end<enter>return 0;<enter><enter>",""	CheckSex:1,"必须是女性玩家才能使用",""							SetLuaScript:"<enter>local tbTeamMemberList = me.GetTeamMemberList();<enter>local pPlayer;<enter>for _, pMemPlayer in ipairs(tbTeamMemberList) do<enter>   if pMemPlayer.nId ~= me.nId then<enter>     pPlayer = pMemPlayer;<enter>     break;<enter>   end<enter>end<enter>pPlayer.AddStackItem(18,1,364,1,{bForceBind=1},1);<enter>me.AddFriendFavor(pPlayer.szName,100);<enter>local szMsg1 = \"他回应你：卿心悠悠，岂敢见忘！\";<enter>local szMsg2 = \"诗云：赠君名剑，伴君天涯！\";<enter>me.Msg(szMsg1);<enter>Dialog:SendBlackBoardMsg(me, szMsg1);<enter>pPlayer.Msg(szMsg2);<enter>Dialog:SendBlackBoardMsg(pPlayer, szMsg2);<enter>Setting:SetGlobalObj(pPlayer)<enter>local nCount = EventManager:GetTask(125);<enter>EventManager:SetTask(125,nCount+1);<enter>Setting:RestoreGlobalObj()<enter>return 0;<enter><enter>"	DelLinkUseItem:"删除"													
33	6	使用七色玄香	item_useitem		0	0	Item:"qisexuanxiang",10080,5,0,""			CheckTask:117,8,"    你已经完成了七色玄香燃香任务，不能再进行燃香。",""	CheckTaskGotoEvent:119,0,0,8	CheckLuaScript:"local tbPos = {<enter> {1,1548,3114},<enter> {2,1801,3409},<enter> {3,1821,3153},<enter> {4,1561,3374},<enter> {5,1657,3232},<enter> {6,1549,3304},<enter> {7,1426,3201},<enter>};<enter>local nType = EventManager:GetTask(119);<enter>local nMapId, nX, nY = me.GetWorldPos();<enter>local nGoMapId, nGoX, nGoY = unpack(tbPos[nType]);<enter>if nMapId ~=  nGoMapId or ((nX - nGoX)^2 + (nY - nGoY)^2) >= 200 then<enter>  return 1,string.format(\"您需要到%s（%s，%s）处才能燃香，快去吧！\", GetMapNameFormId(nGoMapId), math.floor(nGoX/8), math.floor(nGoY/16)); <enter>end<enter>return 0;<enter>",""	CheckTaskCurTime:120,10,0,"燃香需心静，如此急躁未免太不诚心！",""					SetLuaScript:"local tbMsg = <enter>{<enter>[1] = \"燃起一支香，拜织女，情若天长！\",<enter>[2]  = \"再燃一支香，祭牵牛，岂在朝暮！\",<enter>[3]  = \"第三支香，叩星河，何时为竭?\",<enter>[4]  = \"四香已燃，天地不合不敢绝！\",<enter>[5]  = \"第五支香，云雾缥缈，痴心达天听！\",<enter>[6]  = \"六香齐燃，海枯石烂，地老天荒！\",<enter>[7]  = \"玄香燃毕，七彩烟雾缭绕。快去告知洁羽公主吧！\",<enter>};<enter>local nCount = EventManager:GetTask(117);<enter>local szMsg = tbMsg[nCount] or tbMsg[1];<enter>if nCount == 7 then<enter>  EventManager:ExeFun(\"DelLinkUseItem\", \"删除\");<enter>end<enter>EventManager:ExeFun(\"SetMsg\", 0, szMsg);<enter>EventManager:ExeFun(\"SetMsg\", 2, szMsg);<enter>return 0;<enter>"	AddTask:117,1	SetTaskCurTime:120	AddBaseExp:4,0											
33	7	使用星月匣·虹	item_useitem		0	0	Item:"xingyuexia1",10080,1,0,""			CheckTaskCurTime:121,60,0,"幻蛛正在织网，还是不要过多打扰的好！",""									SetTaskCurTime:121	SetLuaScript:"local tbMsg = <enter>{<enter>  {\"身如彩凤双飞翼，心有灵犀一点通！\",\"好像七彩幻蛛还没开始织网，耐心等待一下吧！\",20,5},<enter>  {\"天若有情天亦老！\",\"你感觉到七彩幻蛛正在织网，还是不要去打扰的好！\",60,60},<enter>  {\"情人的眼神正如此网一样难以捉摸！\",\"你打开匣子一看，却吓了七彩幻蛛一跳，网破了！\",80,30},<enter>  {\"人说最难忍受的是热恋后的平淡如水！\",\"网才织了一半，还得等等！\",300,150},<enter>  {\"情路未乱，只是你的心，乱了！\", \"可爱的小蜘蛛，你快织网快些织~~~\",540,755},<enter>};<enter>local nCount = EventManager:GetTask(122);<enter>local nLevel = nCount + 1;<enter>if nLevel > 5 then<enter> nLevel = 5;<enter>end<enter>local nCR =  MathRandom(1,1000);<enter>local nSum = 0;<enter>local nL = 5;<enter>local nType = 4;<enter>if TimeFrame:GetState(\"OpenLevel99\") == 1 then<enter>     nType = 3;<enter>end<enter>for nT, tbI in ipairs(tbMsg) do<enter>  local ntmR = tbI[nType];<enter>  nSum = nSum + ntmR;<enter>  if nSum >= nCR then<enter>     nL = nT;<enter>     break;<enter>  end<enter>end<enter>local nR = MathRandom(1,100);<enter>if nCount > 7 then<enter>  nR = 1;<enter>  nL = 5;<enter>end<enter>if nR <= 40 then<enter>  EventManager:ExeFun(\"DelLinkUseItem\",\"删除\");<enter>  local szItem = string.format(\"18,1,386,%d\", nL);<enter>  EventManager:SetTask(122, 0);<enter>  EventManager:ExeFun(\"AddItem\",szItem,1,1,10080);<enter>  EventManager:ExeFun(\"SetMsg\",0,tbMsg[nL][1]);<enter>  EventManager:ExeFun(\"SetMsg\",2,tbMsg[nL][1]);<enter>  local szItemName = KItem.GetNameById(18,1,386,nL);<enter>  local szDialog = string.format(\"恭喜获得一张%s。这是不是公主想要的网呢？去昆仑问问她吧。\",szItemName);<enter>  EventManager:ExeFun(\"SetMsg\",1,szDialog );<enter>  EventManager:ExeFun(\"AddBaseExp\",80,0);<enter>  return 0;<enter>end<enter>EventManager:SetTask(122, nCount+1);<enter>EventManager:ExeFun(\"SetMsg\",0,tbMsg[nLevel][2]);<enter>EventManager:ExeFun(\"SetMsg\",2,tbMsg[nLevel][2]);<enter>return 0;"												
33	8	使用七色燃香确定燃香地点			0	0												SetLuaScript:"local tbPos = {<enter> {1,1548,3114},<enter> {2,1801,3409},<enter> {3,1821,3153},<enter> {4,1561,3374},<enter> {5,1657,3232},<enter> {6,1549,3304},<enter> {7,1426,3201},<enter>};<enter>local nR = MathRandom(1,7);<enter>EventManager:SetTask(119,nR);<enter>local szMsg = string.format(\"您需要到%s（%s，%s）处才能燃香，快去吧！\", GetMapNameFormId(nR), math.floor(tbPos[nR][2]/8),  math.floor(tbPos[nR][3]/16));<enter>EventManager:ExeFun(\"SetMsg\", 0, szMsg);<enter>EventManager:ExeFun(\"SetMsg\", 2, szMsg);<enter>return 0;<enter>"														
33	9	使用星月匣	item_useitem		0	0	Item:"xingyuexia",10080,1,0,""			CheckTaskCurTime:123,5,0,"你确定发现七彩幻蛛踪迹了？再找找吧。",""	CheckLuaScript:"local tbPos = {<enter> {1,1548,3114},<enter> {2,1801,3409},<enter> {3,1821,3153},<enter> {4,1561,3374},<enter> {5,1657,3232},<enter> {6,1549,3304},<enter> {7,1426,3201},<enter>};<enter>local nMapId, nX, nY = me.GetWorldPos();<enter>local nR = MathRandom(1,7);<enter>local nGoMapId, nGoX, nGoY = unpack(tbPos[nR]);<enter>local szMsg = string.format(\"只有燃着七色玄香的地方才可能有七彩幻蛛出没，比如%s（%s，%s）处，快去吧！\", GetMapNameFormId(nGoMapId), math.floor(nGoX/8), math.floor(nGoY/16)); <enter>if not tbPos[nMapId] or ((nX - tbPos[nMapId][2])^2 + (nY - tbPos[nMapId][3])^2) >= 200 then<enter>  return 1,szMsg;<enter>end<enter>return 0;<enter>",""							SetTaskCurTime:123	SetLuaScript:"local tbMsg = <enter>{<enter>  [1]= \"发现目标，但一眨眼幻蛛消失在草丛中！\",<enter>  [2] = \"你一手抓去，幻蛛化为道道彩虹从指间飘散！\",<enter>  [3] = \"抓住了，可是张开手却空无一物！\",<enter>  [4] = \"只要不放弃追求终会拥有属于自己的七彩幻蛛！\",<enter>};<enter>local szMsg2 = \"人说情人的心似七彩幻蛛变幻万端！其网何样？\";<enter>local nCount = EventManager:GetTask(124);<enter>local nLevel = nCount + 1;<enter>if nLevel > 4 then<enter> nLevel = 4;<enter>end<enter>local nR = MathRandom(1,100);<enter>if nCount > 7 then<enter> nR = 1;<enter>end<enter>if nR <= 40 then<enter>  EventManager:ExeFun(\"DelLinkUseItem\",\"删除\");<enter>  local szItem = \"18,1,368,1\";<enter>  EventManager:SetTask(124, 0);<enter>  EventManager:ExeFun(\"AddItem\",szItem,1,1,0);<enter>  EventManager:ExeFun(\"SetMsg\",0,szMsg2);<enter>  EventManager:ExeFun(\"SetMsg\",2,szMsg2);<enter>  EventManager:ExeFun(\"AddBaseExp\",8,0);<enter>  return 0;<enter>end<enter>EventManager:SetTask(124, nCount+1);<enter>EventManager:ExeFun(\"SetMsg\",0,tbMsg[nLevel]);<enter>EventManager:ExeFun(\"SetMsg\",2,tbMsg[nLevel]);<enter>return 0;"													
33	10	了解七夕情人节活动	npc_getaward		0	0	Npc:3692	CreateLink:"你来找我难道只是想了解一下七夕节么？（她似乎有点不耐烦。）"																								
33	11	如何参加七夕活动			0	0	SetLink:10											SetMsg:1,"    要参加七夕活动，首先需要<color=yellow>“花与酒”<color>及<color=yellow>“诗与剑”<color>各一作为信物，这样我就会叫你帮我办些事情。每个玩家最多只能完成<color=yellow>10次<color>。<enter>    “花与酒”及“诗与剑”可以通过参加游戏活动（如宋金，白虎，逍遥谷，门派竞技，商会任务等，在这些活动场地可能出现<color=yellow>npc七夕水牛<color>，与其对话也能获得各种原材料。），获得道具“七菱花”，“七味酒”，“七言古诗”及“七寸小剑”经过生活技能加工制作得到。<enter>    七菱花及七味酒只有<color=yellow>男玩家<color>可得到，七言古诗及七寸小剑只有<color=yellow>女玩家<color>可得到。制作出花与酒及诗与剑后，你可与亲密度<color=yellow>3级<color>以上的好友组队送给他（她）。"														
33	12	了解玄香拜星任务			0	0	SetLink:10											SetMsg:1,"    当你拥有信物<color=yellow>“花与酒”<color>及<color=yellow>“诗与剑”<color>，我就会给你<color=yellow>七支七色玄香<color>，你只要到各<color=yellow>新手村<color>指定地点点燃所有玄香，就可以来找我领取奖励。"														
33	13	了解采蛛观网任务			0	0	SetLink:10											SetMsg:1,"    如果你完成了玄香拜星任务，就会得到一个星月匣，拿着匣子去各新手村燃香地点，抓取一只<color=yellow>七彩幻蛛<color>，养起来直至其织出蛛网，将网交给我，根据你所获得的蛛网类型会获得不同奖励。"														
34	1	修炼时间任你拿	npc_getaward		0	0	Npc:2601			CheckLevel:20,"对不起，你的等级不满20级，无法领取。",""	CheckTaskDay:1,127,128,"你今日已经领过修炼时间了。",""	CheckAddXiulianTime:2,"你的修炼时间已满，无法领取。"	CheckTask:126,3,"你已经领取满3次了。",""						AddTask:126,1	AddTaskDay:127,128	AddXiulianTime:2											
34	2	财宝兔	action_finishtask		0	0	TaskFinish:"PickGouhuoTeam",0			CheckRandom:125,1000,""								CallRabbit:""														
34	3	打怪掉国庆烟花	boss_dropitem		0	0	DropNpcType:"_ALLNPC"											SetDropItemId:3,1														
34	4	财宝兔掉落(初级)	boss_dropitem		0	0	DropNpc:1487											SetDropItemId:4,13														
34	5	财宝兔掉落(中级)	boss_dropitem		0	0	DropNpc:1494											SetDropItemId:5,13														
34	6	财宝兔掉落(高级)	boss_dropitem		0	0	DropNpc:1495											SetDropItemId:6,13														
34	7	小财宝兔掉落(初级)	boss_dropitem		0	0	DropNpc:1488											SetDropItemId:4,1														
34	8	小财宝兔掉落(中级)	boss_dropitem		0	0	DropNpc:1496											SetDropItemId:5,1														
34	9	小财宝兔掉落(高级)	boss_dropitem		0	0	DropNpc:1497											SetDropItemId:6,1														
35	1	2009年11月充值抽奖活动	npc_getaward		0	0	Npc:2601											SetLuaScript:"NewLottery:OnDialog();<enter>"														
36	1	购买和氏璧	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"不能购买,当前角色未激活领奖资格!",""	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>,不能购买和氏璧!",""	CheckFreeBag:1,"购买和氏璧需要<color=yellow>1格<color>背包空间,去整理下再来吧!",""						CoinBuyHeShiBi:"你将以<color=yellow>8000金币<color>购买1个和氏璧!"														
36	2	月桂花换取玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"    如果你有<color=yellow>一个<color>广寒月桂花，可以在我这里换取<color=yellow>一个<color>玄晶宝箱，你有花吗？","我有"										SetAwardIdUi:22														
37	1	领取购买和氏璧的资格	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>购买3个和氏璧的资格<color>吗？成功后就不能领取其他奖励了。","确定"		CheckTaskEq:129,1,"不能领奖，当前角色未激活领奖资格！",""	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领取奖励！",""	CheckTaskEq:136,0,"您已经领取过此处的<color=yellow>三选一奖励<color>，不能再领奖了！",""						SetTask:136,1	AddBuyHeShiBiSum:3	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>1000元<color>的<color=yellow>购买3个和氏璧资格<color>奖励！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>1000元<color>的<color=yellow>购买3个和氏璧资格<color>奖励！"											
37	2	领取购买帮会银锭(大)优惠券	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>3张5折购买帮会银锭（大）的优惠券<color>吗？成功后就不能领取其他奖励了。","确定"		CheckTaskEq:129,1,"不能领奖，当前角色未激活领奖资格！",""	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领取奖励！",""	CheckTaskEq:136,0,"您已经领取过此处的<color=yellow>三选一奖励<color>，不能再领奖了！",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间，去整理下再来吧！",""					SetTask:136,2	SetAwardId:20	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>1000元<color>的<color=yellow>3张5折购买帮会银锭（大）的优惠券<color>奖励！"	SetMsg:2,"恭喜您成功领取了<color=yellow>3张5折购买帮会银锭（大）的优惠券<color>奖励！"											
37	3	领取玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>2个玄晶宝箱<color>吗？成功后就不能领取其他奖励了。","确定"		CheckTaskEq:129,1,"不能领奖，当前角色未激活领奖资格！",""	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领取奖励！",""	CheckTaskEq:136,0,"您已经领取过此处的<color=yellow>三选一奖励<color>，不能再领奖了！",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来吧！",""					SetTask:136,3	SetAwardId:19	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>1000元<color>的<color=yellow>2个玄晶宝箱<color>奖励！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>1000元<color>的<color=yellow>2个玄晶宝箱<color>奖励！"											
38	1	领取玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取<color=yellow>2个玄晶宝箱<color>吗?成功后就<color=yellow>不能领取<color>其他奖励了!","确定领取"		CheckTaskEq:129,1,"不能领奖,该角色未激活领奖资格!",""	CheckMonthPay:588,"你本月累计充值不足<color=yellow>588元<color>,不能领奖!",""	CheckTaskEq:135,0,"你已经<color=yellow>领取过<color>本处<color=yellow>四选一奖励<color>,不能再领奖了!",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间,整理下再来吧!",""					SetTask:135,1	SetAwardId:19	SetMsg:0,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>2个玄晶宝箱<color>奖励!"	SetMsg:2,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>2个玄晶宝箱<color>奖励!"											
38	2	领取中级祈福令	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取<color=yellow>3个中级祈福令牌<color>吗?成功后就<color=yellow>不能领取<color>其他奖励了!","确定领取"		CheckTaskEq:129,1,"不能领奖,该角色未激活领奖资格!",""	CheckMonthPay:588,"你本月累计充值不足<color=yellow>588元<color>,不能领奖!",""	CheckTaskEq:135,0,"你已经<color=yellow>领取过<color>本处<color=yellow>四选一奖励<color>,不能再领奖了!",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间,整理下再来吧!",""					SetTask:135,2	SetMsg:0,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>3个中级祈福令牌<color>奖励!"	SetMsg:2,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>3个中级祈福令牌<color>奖励!"	SetAwardId:21											
38	3	领取购买和氏璧的资格	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取<color=yellow>购买2个和氏璧的资格<color>吗?成功后就<color=yellow>不能领取<color>其他奖励了!","确定领取"		CheckTaskEq:129,1,"不能领奖,该角色未激活领奖资格!",""	CheckMonthPay:588,"你本月累计充值不足<color=yellow>588元<color>,不能领奖!",""	CheckTaskEq:135,0,"你已经<color=yellow>领取过<color>本处<color=yellow>四选一奖励<color>,不能再领奖了!",""						SetTask:135,3	AddBuyHeShiBiSum:2	SetMsg:0,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>购买2个和氏璧的资格<color>奖励!"	SetMsg:2,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>购买2个和氏璧的资格<color>奖励!"											
38	4	领取赤兔宝马（已开150级）	npc_getaward		0	0	Npc:2601	AddSelect:"你确定领取<color=yellow>马牌（赤兔）<color>吗?成功后就<color=yellow>不能领取<color>其他奖励了!","确定领取"		CheckTaskEq:129,1,"不能领奖,该角色未激活领奖资格!",""	CheckMonthPay:588,"你本月累计充值不足<color=yellow>588元<color>,不能领奖!",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间,整理下再来吧!",""	CheckTaskEq:135,0,"你已经<color=yellow>领取过<color>本处<color=yellow>四选一奖励<color>,不能再领奖了!",""	CheckTimeFrame:"OpenLevel150",1,"当前服务器未开放<color=yellow>150级<color>等级上限，不能领取此奖励！"				SetTask:135,4	AddItem:"1,12,10,4",1,1,259200	SetMsg:0,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>1个马牌（赤兔）<color>奖励!"	SetMsg:2,"恭喜您成功领取了本月充值达<color=yellow>588元<color>的<color=yellow>1个马牌（赤兔）<color>奖励!"											
39	1	充值15元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:15,"本月累计充值不足<color=yellow>15元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:147,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间，去整理下再来！",""				SetTask:147,1	AddItem:"18,1,524,1",5,1,""	SetMsg:0,"恭喜你成功领取充值15元的奖励，获得5张战书·游龙密室！"	SetMsg:2,"恭喜你成功领取充值15元的奖励，获得5张战书·游龙密室！"											
39	2	充值50元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:50,"本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:130,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间，去整理下再来！",""				SetTask:130,1	SetAwardId:23	SetMsg:0,"恭喜你成功领取充值50元的奖励，获得10张战书·游龙密室及2张幸运奖券！"	SetMsg:2,"恭喜你成功领取充值50元的奖励，获得战书·游龙密室及幸运奖券！"											
39	3	充值100元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:100,"本月累计充值不足<color=yellow>100元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:131,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来！",""				AddItem:"18,1,524,1",10,1,""	AddItem:"18,1,397,1",1,1,43200	SetMsg:0,"恭喜你成功领取充值100元的奖励，获得10张战书·游龙密室及1张幸运奖券！"	SetMsg:2,"恭喜你成功领取充值100元的奖励，获得战书·游龙密室及幸运奖券！"	SetTask:131,1										
39	4	充值200元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:200,"本月累计充值不足<color=yellow>200元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:132,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来！",""				AddItem:"18,1,524,1",10,1,""	AddItem:"18,1,397,1",1,1,43200	SetMsg:0,"恭喜你成功领取充值200元的奖励，获得10张战书·游龙密室及1张幸运奖券！"	SetMsg:2,"恭喜你成功领取充值200元的奖励，获得战书·游龙密室及幸运奖券！"	SetTask:132,1										
39	5	充值300元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:300,"本月累计充值不足<color=yellow>300元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:133,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来！",""				AddItem:"18,1,524,1",10,1,""	AddItem:"18,1,397,1",1,1,43200	SetMsg:0,"恭喜你成功领取充值300元的奖励，获得10张战书·游龙密室及1张幸运奖券！"	SetMsg:2,"恭喜你成功领取充值300元的奖励，获得战书·游龙密室及幸运奖券！"	SetTask:133,1										
39	6	充值400元奖励领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"当前角色未激活领奖资格，不能领奖！",""	CheckMonthPay:400,"本月累计充值不足<color=yellow>400元<color>，不能领奖！",""	CheckTimeFrame:"OpenLevel150",1,"本服务器未开放<color=yellow>150级<color>等级上限，不能领奖！"	CheckTaskEq:134,0,"你已经领取过该项奖励，不能再领取了。",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来！",""				AddItem:"18,1,524,1",10,1,""	AddItem:"18,1,397,1",1,1,43200	SetMsg:0,"恭喜你成功领取充值400元的奖励，获得10张战书·游龙密室及1张幸运奖券！"	SetMsg:2,"恭喜你成功领取充值400元的奖励，获得战书·游龙密室及幸运奖券！"	SetTask:134,1										
39	7	充值1000元以上绑金领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"不能领奖,当前角色未激活领奖资格!",""	CheckMonthPay:1000,"你本月累计充值不足<color=yellow>1000元<color>,没绑金返还可领取!",""	CheckTimeFrame:"OpenLevel150",1,"你所在服务器未开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"	CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>if EventManager:GetTask(137) >= nCount then<enter><tab>return 1,  string.format(\"赠送的%s绑定金币已经成功领取完毕，继续充值才可以再次领奖。\", nCount*1000)<enter>end<enter>return 0;",""					SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>local nTask = EventManager:GetTask(137);<enter>local nAddCoin = (nCount - nTask) * 1000;<enter>EventManager:SetTask(137, nCount);<enter>me.AddBindCoin(nAddCoin);<enter>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddCoin, nTask));<enter>local szMsg = string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddCoin);<enter>Dialog:Say(szMsg);<enter>me.Msg(szMsg);<enter>return 0;"														
40	1	充值50元奖券领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取该项奖励吗？","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:130,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的<color=yellow>3张<color>奖券奖励！",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:130,1	SetAwardId:17	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>50元<color>奖励的<color=yellow>3张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>50元<color>奖励的<color=yellow>3张幸运奖券<color>！"											
40	2	充值100元奖券领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取该项奖励吗？","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:100,"您本月累计充值不足<color=yellow>100元<color>，不能领奖！",""	CheckTaskEq:131,0,"不能领奖，您已经领取过充值达<color=yellow>100元<color>的<color=yellow>2张<color>奖券奖励！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:131,1	SetAwardId:18	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>100元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>100元<color>奖励的<color=yellow>2张幸运奖券<color>！"											
40	3	充值200元奖券领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取该项奖励吗？","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:200,"您本月累计充值不足<color=yellow>200元<color>，不能领奖！",""	CheckTaskEq:132,0,"不能领奖，您已经领取过充值达<color=yellow>200元<color>的<color=yellow>2张<color>奖券奖励！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:132,1	SetAwardId:18	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>200元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>200元<color>奖励的<color=yellow>2张幸运奖券<color>！"											
40	4	充值300元奖券领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取该项奖励吗？","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:300,"您本月累计充值不足<color=yellow>300元<color>，不能领奖！",""	CheckTaskEq:133,0,"不能领奖，您已经领取过充值达<color=yellow>300元<color>的<color=yellow>2张<color>奖券奖励！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:133,1	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>300元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>300元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetAwardId:18											
40	5	充值400元奖券领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取该项奖励吗？","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:400,"您本月累计充值不足<color=yellow>400元<color>，不能领奖！",""	CheckTaskEq:134,0,"不能领奖，您已经领取过充值达<color=yellow>400元<color>的<color=yellow>2张<color>奖券奖励！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:134,1	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>400元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>400元<color>奖励的<color=yellow>2张幸运奖券<color>！"	SetAwardId:18											
40	6	充值1000元以上绑金领取	npc_getaward		0	0	Npc:2601			CheckTaskEq:129,1,"不能领奖,当前角色未激活领奖资格!",""	CheckMonthPay:1000,"你本月累计充值不足<color=yellow>1000元<color>,没绑金返还可领取!",""	CheckLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>if EventManager:GetTask(137) >= nCount then<enter><tab>return 1,  string.format(\"赠送的%s绑定金币已经成功领取完毕，继续充值才可以再次领奖。\", nCount*1000)<enter>end<enter>return 0;",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"					SetLuaScript:"local nPay = me.GetExtMonthPay();<enter>local nCount = math.floor((nPay - 1000)/ 50);<enter>local nTask = EventManager:GetTask(137);<enter>local nAddCoin = (nCount - nTask) * 1000;<enter>EventManager:SetTask(137, nCount);<enter>me.AddBindCoin(nAddCoin);<enter>me.PlayerLog(Log.emKPLAYERLOG_TYPE_JOINSPORT, string.format(\"[活动]活动获得绑定金币：%s，标记：%s\",nAddCoin, nTask));<enter>local szMsg = string.format(\"您本次成功领取了<color=yellow>%s绑定金币<color>。\", nAddCoin);<enter>Dialog:Say(szMsg);<enter>me.Msg(szMsg);<enter>return 0;"														
40	7	充值50元领取强化优惠效果	npc_getaward		2009/09/22/00/00	2009/10/01/00/00	Npc:2601	AddSelect:"你确定领取强化优惠效果吗？领取后持续时间只有<color=yellow>5天<color>。","确定"		CheckTaskEq:129,1,"不能领奖，当前角色<color=yellow>未激活<color>领奖资格！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:143,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的<color=yellow>3张<color>奖券奖励！",""						SetTask:143,1	AddSkillBuff:892,1,7200	SetMsg:0,"恭喜您成功领取强化优惠效果！"	SetMsg:2,"恭喜您成功领取强化优惠效果！"											
41	1	<color=yellow>十一月充值领奖激活<color>	npc_getaward		0	0	Npc:2601	AddSelect:"您确定激活当前角色领奖资格吗？激活后账号下其他角色就不可以领奖了。","确定"		CheckMonthPay:15,"您本月累计充值不足<color=yellow>15元<color>，不能激活！",""	CheckTaskEq:129,0,"当前角色已激活领奖资格，快去领奖吧！",""	CheckExt:1,0,"不能激活呀，账号下其他角色已激活领奖资格了！",""						SetTask:129,1	SetExt:1,1	SetMsg:0,"恭喜您成功激活本月充值优惠领奖资格！"	SetMsg:2,"恭喜您成功激活本月充值优惠领奖资格！"											
43	1	【产出卡片】包万同第一轮	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLuaScript:"local tbArg = EventManager:GetLibTable().tbTaskFinishArg;<enter>if not tbArg[1] or tbArg[1] ~= 10 then<enter>   return 1,\"只有完成第一轮才能获得卡片\";<enter>end<enter>return 0;<enter>",""								AddItem:"18,1,402,1",1,1,4320														
43	2	【产出卡片】完成商会任务	action_finishtask		0	0	TaskFinish:"MerchantTask",4,""											AddItem:"18,1,402,1",4,1,4320														
43	3	【产出卡片】宋金战场	action_finishtask		0	0	TaskFinish:"Battle",0,"local tbArg =EventManager:GetLibTable().tbTaskFinishArg;<enter>local nScore = tbArg[1] or 0;<enter>local nLevel = tbArg[2] or 0;<enter>if nScore <=0 or nLevel <= 0 then<enter> return 0;<enter>end<enter>local tbCard = {<enter> [1] = {2,3},<enter> [2] = {1,2},<enter> [3] = {1,1},<enter>};<enter>if nScore >= 8000 then<enter>  return tbCard[1][nLevel] or 0;<enter>end<enter>if nScore >= 5000 then<enter>  return tbCard[2][nLevel] or 0;<enter>end<enter>if nScore >= 3000 then<enter>  return tbCard[3][nLevel] or 0;<enter>end<enter>return 0;"											SetLuaScript:"local tbArg =EventManager:GetLibTable().tbTaskFinishArg;<enter>local nScore = tbArg[1] or 0;<enter>local nLevel = tbArg[2] or 0;<enter>if nScore <=0 or nLevel <= 0 or nLevel >=3 then<enter> return 0;<enter>end<enter>local tbCard = {<enter> [1] = {2,3},<enter> [2] = {1,2},<enter> [3] = {1,1},<enter>};<enter>if nScore >= 8000 then<enter>  EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",tbCard[1][nLevel],1,4320);<enter>  return 0;<enter>end<enter>if nScore >= 5000 then<enter>  EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",tbCard[2][nLevel],1,4320);<enter>  return 0;<enter>end<enter>if nScore >= 3000 then<enter>  EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",tbCard[3][nLevel],1,4320);<enter>  return 0;<enter>end<enter>return 0;<enter>"														
43	4	【产出卡片】白虎堂Boss掉落（初级一层）	boss_dropitem		0	0	DropNpc:2661											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",1														
43	5	【产出卡片】白虎堂Boss掉落（初级二层）	boss_dropitem		0	0			DropNpc:2682									SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",2														
43	6	【产出卡片】白虎堂Boss掉落（初级三层）	boss_dropitem		0	0	DropNpc:2686											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",3														
43	7	【产出卡片】白虎堂Boss掉落（高级一层）	boss_dropitem		0	0	DropNpc:2663											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",2														
43	8	【产出卡片】白虎堂Boss掉落（高级二层）	boss_dropitem		0	0	DropNpc:2684											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",3														
43	9	【产出卡片】白虎堂Boss掉落（高级三层）	boss_dropitem		0	0	DropNpc:2688											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",4														
43	10	【产出卡片】白虎堂Boss掉落（黄金一层）	boss_dropitem		0	0	DropNpc:3684											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",3														
43	11	【产出卡片】白虎堂Boss掉落（黄金二层）	boss_dropitem		0	0	DropNpc:3686											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",4														
43	12	【产出卡片】白虎堂Boss掉落（黄金三层）	boss_dropitem		0	0	DropNpc:3688											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",6														
43	13	【产出卡片】门派竞技	action_finishtask		0	0	TaskFinish:"FactionBattle",0,"local tbArg =EventManager:GetLibTable().tbTaskFinishArg;<enter>local nScore = tbArg[1] or 0;<enter>local nRank = tbArg[2] or 0;<enter>local nXiang = tbArg[3] or 0;<enter>local nCard = 0;<enter>if nRank > 0 then<enter>  if nRank <= 4 then<enter>     nCard = nCard + 2;<enter>  elseif nRank <= 16 then<enter>     nCard = nCard + 2;<enter>  end<enter>end<enter>nCard = nCard + nXiang*2;<enter>return nCard;<enter>"											SetLuaScript:"local tbArg =EventManager:GetLibTable().tbTaskFinishArg;<enter>local nScore = tbArg[1] or 0;<enter>local nRank = tbArg[2] or 0;<enter>local nXiang = tbArg[3] or 0;<enter>local nCard = 0;<enter>if nRank > 0 then<enter>  if nRank <= 4 then<enter>     nCard = nCard + 2;<enter>  elseif nRank <= 16 then<enter>     nCard = nCard + 2;<enter>  end<enter>end<enter>nCard = nCard + nXiang*2;<enter>EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",nCard,1,4320);<enter>return 0;<enter>"														
43	14	【产出卡片】家族关卡	action_finishtask		0	0	TaskFinish:"KinGame",1,""											AddItem:"18,1,402,1",1,1,4320														
43	15	【产出卡片】家族周目标	action_finishtask		0	0	TaskFinish:"KinWeekAction",0,"local tbArg = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nXiangzi = tbArg[1] or 0;<enter>return nXiangzi;<enter>"											SetLuaScript:"local tbArg = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nXiangzi = tbArg[1] or 0;<enter>EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",nXiangzi,1,4320);<enter>return 0;<enter>"														
43	16	【产出卡片】逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""											SetLuaScript:"local tbArg = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFloor = tbArg[1];<enter>local tbCard = {<enter> [2]= 1,<enter> [3] =1,<enter> [4] =1,<enter> [5] =1,<enter>};<enter>if not tbCard[nFloor] then<enter> return 0;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,402,1\",tbCard[nFloor],1,4320);<enter>return 0;<enter>"														
43	17	【产出卡片】联赛礼包领取时	action_finishtask		0	0	TaskFinish:"Wlls",1,""											AddItem:"18,1,402,1",1,1,4320														
43	18	【产出卡片】击杀55级boss	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckLuaScript:"if him.nLevel ~= 55 then<enter>  return 1;<enter>end<enter>return 0;<enter>",""								SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",4														
43	19	【产出卡片】击杀75级boss	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckLuaScript:"if him.nLevel ~= 75 then<enter>  return 1;<enter>end<enter>return 0;<enter>",""								SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",6														
43	20	【产出卡片】击杀95级boss	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckLuaScript:"if him.nLevel ~= 95 then<enter>  return 1;<enter>end<enter>return 0;<enter>",""																SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",8						
43	21	【产出卡片】击杀秦始皇Boss	boss_dropitem		0	0	DropNpc:2426											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",12														
43	22	【产出卡片】击杀秦始皇身边小Boss(兵马佣)	boss_dropitem		0	0	DropNpc:2440											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",6														
43	23	【产出卡片】击杀秦始皇身边小Boss(招魂师)	boss_dropitem		0	0	DropNpc:2439											SetDroprate:"\setting\npc\droprate\eventmanager\43_dropratecard.txt",6														
44	1	领取今日赠送卡	npc_getaward		2009/09/21/00/00	2009/10/11/00/00	Npc:2601			CheckTaskDay:1,141,142,"每天只能领取一次，你今天已经领取过了。",""	CheckFuliJingHuoWeiWang:"福利江湖威望判断"	CheckFreeBag:2,"必须需要2格背包空间",""						AddTaskDay:141,142	AddItem:"18,1,402,1",2,1,4320													
44	2	领取收集卡片最终奖励	npc_getaward		2009/10/11/00/05	2009/10/21/00/00	Npc:2601											SetLuaScript:"SpecialEvent.CollectCard:OnAward_Card_Bag();<enter>return 0;"														
44	3	月桂花换玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"    如果你给我一个月桂花可换取一个玄晶宝箱，现在你有一朵月桂花给我吗？<enter>","我有月桂花"										SetAwardIdUi:22														
44	4	充值60元送民族大团圆卡	npc_getaward		2009/10/01/00/00	2009/10/11/00/00	Npc:2601			CheckGTaskLt:2093,13,60,"你在9月没有获得赠送资格，无法领取赠送卡片。",""	CheckTaskDay:1,144,145,"每天只能领取一次，今天你已经领取过了。",""	CheckFreeBag:2,"你的背包已满，无法领取卡片。",""						AddTaskDay:144,145	AddItem:"18,1,402,1",2,1,4320													
44	5	充值120元送民族大团圆卡	npc_getaward		2009/10/10/00/00	2009/10/11/00/00	Npc:2601			CheckGTaskLt:2093,13,120,"你在9月没有获得赠送资格，无法领取赠送卡片。",""	CheckTask:146,1,"你已经领取过20张卡片，无法再领取了。",""	CheckFreeBag:20,"你的背包已满，无法领取卡片。",""						SetTask:146,1	AddItem:"18,1,402,1",20,1,4320													
45	1	领取锦瑟琉璃石	npc_getaward		0	0	Npc:7058,0			CheckItemInAll:"18,1,1465,1",1,1,"你已经领取过“锦瑟琉璃石”了，快去救助那些可怜又可爱的玉兔吧。",""	CheckFreeBag:1,"必须需要1格背包空间",""	CheckLevel:60,"要60级才有资格领取锦瑟琉璃石。",""	CheckFaction:13,"需要加入门派才能领取锦瑟琉璃石。",""					AddItem:"18,1,1465,1",1,1,"2011/09/14/00/00"														
45	2	【兔子产出】首领精英	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""				CheckNpcLevel:65	CheckLuaScript:"<enter>if him.GetNpcType() > 0 then<enter>   return 0;<enter>end<enter>return 1;",""						SetLuaScript:"local nMapId,nX,nY = him.GetWorldPos();<enter>for i=1, 5 do<enter>  SpecialEvent.CollectCard.CallAiRabbit:CallRabbit(nMapId, nX*32, nY*32, 3707);<enter>end<enter>return 0;"														
46	1	中秋抽奖领奖	npc_getaward		0	0	Npc:2601											SetLuaScript:"Lottery:OnDialog();<enter>return 0;<enter>"														
57	1	精英首领掉落雪堆	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",0,""											SetLuaScript:"local tbNpc<tab>= Npc:GetClass(\"xmas_snowheap\");<enter>local nNpcMapId, nNpcPosX, nNpcPosY = him.GetWorldPos();<enter>local pNpc = KNpc.Add2(tbNpc.nNpcId, 1, -1, nNpcMapId, nNpcPosX, nNpcPosY);<tab><enter>if pNpc then<enter>  pNpc.SetLiveTime(60 * Env.GAME_FPS);<enter>  local tbNpcTemp = pNpc.GetTempTable(\"Npc\");<enter>  tbNpcTemp.nMaxUse = 10;<enter>end<enter>"														
57	2	圣诞掉烟花	boss_dropitem		0	0	DropNpcType:"_ALLNPC"											SetDropItemId:3,1														
58	1	2010年8月充值抽奖活动	npc_getaward		0	0	Npc:2601											SetLuaScript:"NewLottery:OnDialog();<enter>"														
58	2	八月抽奖	action_opentask		2010/08/22/00/00	2010/08/31/00/00	SetLotterData:"八月充值"																									
59	1	充值588和988元购买和氏璧	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>，不能购买和氏璧！",""	CheckFreeBag:1,"购买和氏璧需要<color=yellow>1格<color>背包空间，去整理下再来！",""						CoinBuyHeShiBi:"你将以<color=yellow>8000金币<color>购买1个和氏璧!"														
59	2	月桂花换玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"    如果你有<color=yellow>一个<color>广寒月桂花，可以在我这里换取<color=yellow>一个<color>玄晶宝箱，你有花吗？","我有"										SetAwardIdUi:22,0														
59	3	菩提果兑换特别的精魄	npc_getaward		0	0	Npc:2601	AddSelect:"    这位客官，如果你有<color=yellow>菩提果<color>，我想用<color=yellow>5个特别的精魄<color>和你换，你要换吗？","我要兑换"										SetAwardIdUi:25,0														
59	4	充值188元购买一折黄金智慧精华	npc_getaward		0	0	Npc:2601			CheckMonthPay:188,"您本月累计充值不足188元，不能购买智慧精华！",""	CheckTaskEq:173,1,"您尚未领取188奖励，获得购买黄金智慧精华的资格！",""	CheckFreeBag:1,"购买黄金精华需要1格背包空间，去整理下再来！",""						CoinBuyItem:3														
59	5	充值4988元购买八折和氏璧	npc_getaward		0	0	Npc:2601			CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:174,1,"您尚未领取4988奖励称号，获得购买八折和氏璧的资格！",""	CheckFreeBag:1,"购买和氏璧需要1格背包空间，去整理下再来！",""						CoinBuyItem:4														
59	6	充值4988元购买武林大会英雄令牌	npc_getaward		0	0	Npc:2601			CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:166,1,"您尚未领取4988奖励称号，获得购买英雄令牌的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:1														
59	7	充值4988元购买2010盛夏纪念徽章	npc_getaward		0	0	Npc:2601			CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:175,1,"您尚未领取4988奖励称号，获得购买盛夏徽章的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:2														
60	1	领取玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>玄晶宝箱<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""					SetTask:153,1	SetAwardId:19	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>玄晶宝箱<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>玄晶宝箱<color>奖励！"											
60	2	领取购买和氏璧机会	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>购买3个和氏璧资格<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""						SetTask:153,1	AddBuyHeShiBiSum:3	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>优惠购买和氏璧机会<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>优惠购买和氏璧机会<color>奖励！"											
60	3	领取9玄的3折优惠券	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>9玄的3折优惠券<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,395,1",3,1,43200	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>9玄3折优惠券<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>9玄3折优惠券<color>奖励！"											
60	4	六技能同伴叶静	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>六技能同伴叶静<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,666,3",1,1,""	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>六技能同伴<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>六技能同伴<color>奖励！"											
60	5	领取祈福令牌	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>祈福令牌<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间，去整理下再来！",""					SetTask:153,1	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>中级祈福令牌<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>中级祈福令牌<color>奖励！"	SetAwardId:16											
60	7	领取游龙古币	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>500个游龙古币<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	SetMsg:0,"恭喜您成功领取了本月充值988元的<color=yellow>500个游龙古币<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值988元的<color=yellow>500个游龙古币<color>奖励！"	AddItem:"18,1,553,1",500,1,""											
61	1	领取玄晶宝箱	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>玄晶宝箱<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	SetAwardId:19	SetMsg:0,"恭喜您成功领取充值588元的2个<color=yellow>玄晶宝箱<color>奖励！"	SetMsg:2,"恭喜您成功领取充值588元的2个<color=yellow>玄晶宝箱<color>奖励！"											
61	2	领取中级祈福令牌	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>中级祈福令牌<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	SetAwardId:16	SetMsg:0,"恭喜您成功领取充值588元的3个<color=yellow>中级祈福令牌<color>奖励！"	SetMsg:2,"恭喜您成功领取充值588元的3个<color=yellow>中级祈福令牌<color>奖励！"											
61	3	领取购买和氏璧资格	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>购买和氏璧机会的<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddBuyHeShiBiSum:2	SetMsg:0,"恭喜您成功领取充值588元的优惠<color=yellow>购买2个和氏璧<color>的资格奖励！"	SetMsg:2,"恭喜您成功领取充值588元的优惠<color=yellow>购买2个和氏璧<color>的资格奖励！"											
61	4	领取游龙古币	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>500游龙古币<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	AddItem:"18,1,553,1",500,1,""	SetMsg:0,"恭喜您成功领取充值588元的<color=yellow>500游龙古币<color>奖励！"	SetMsg:2,"恭喜您成功领取充值588元的<color=yellow>500游龙古币<color>奖励！"											
61	5	领取9玄的3折优惠券	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>9玄的3折优惠券<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:2,"领取奖励需要2格背包空间，去整理下再来吧！",""					SetTask:152,1	AddItem:"18,1,395,1",2,1,43200	SetMsg:0,"恭喜您成功领取充值588元的<color=yellow>9玄的3折优惠券<color>奖励！"	SetMsg:2,"恭喜您成功领取充值588元的<color=yellow>9玄的3折优惠券<color>奖励！"											
61	7	五技能同伴萧不实	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>五技能同伴萧不实<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"18,1,666,2",1,1,""	SetMsg:0,"恭喜您成功领取五技能同伴萧不实奖励！"	SetMsg:2,"恭喜您成功领取五技能同伴萧不实奖励！"											
62	1	充值50元奖励领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:149,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的奖励！",""	CheckFreeBag:8,"领奖需要<color=yellow>8格<color>背包空间，去整理下再来！",""					SetTask:149,1	SetAwardId:18	AddItem:"18,1,524,3",1,1,""	AddItem:"18,1,544,2",5,1,""	AddItem:"18,1,674,1",1,1,4320	SetMsg:2,"恭喜您成功领取充值50元的奖励！"	AddItem:"18,1,553,1",60,1,""	AddItem:"18,1,205,1",750,1,""	SetAwardId:28	SetMsg:0,"恭喜您成功领取充值50元的奖励！"					
62	2	充值188元奖励领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckTaskEq:150,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""		CheckFreeBag:8,"领奖需要<color=yellow>8格<color>背包空间，去整理下再来！",""				SetTask:150,1	SetAwardId:18	AddItem:"18,1,524,2",1,1,""	SetMsg:2,"恭喜您成功领取充值188元的奖励！"	SetMsg:0,"恭喜您成功领取充值188元的奖励！"	AddItem:"18,1,675,1",1,1,4320	AddItem:"18,1,205,1",750,1,""	AddItem:"18,1,544,2",5,1,""	SetAwardId:28	AddItem:"18,1,597,1",9,1,""					
62	3	充值50元强化优惠奖励领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取强化优惠效果吗？该效果只能持续<color=yellow>5天<color>","确定"		CheckPayIsAction:1	CheckTaskEq:151,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""						SetTask:151,1	AddSkillBuff:892,1,7200	SetMsg:0,"恭喜您成功领取充值50元的强化优惠奖励！"	SetMsg:2,"恭喜您成功领取充值50元的强化优惠奖励！"											
62	5	充值588元基本奖励领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckTaskEq:155,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>，不能领奖！",""		CheckFreeBag:8,"领奖需要<color=yellow>8格<color>背包空间，去整理下再来！",""				SetTask:155,1	AddItem:"18,1,524,2",1,1,""	AddItem:"18,1,205,1",1500,1,""	SetMsg:0,"恭喜您成功领取充值588元的奖励！"	SetMsg:2,"恭喜您成功领取充值588元的奖励！"	SetAwardId:28	AddItem:"18,1,924,1",2,1,43200	AddItem:"1,12,10,4",1,0,57600	AddItem:"18,1,597,1",49,1,""						
62	6	充值988元基本奖励领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckTaskEq:162,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:6,"领奖需要<color=yellow>6格<color>背包空间，去整理下再来！",""					SetTask:162,1	SetMsg:0,"恭喜您成功领取充值988元的奖励！"	SetMsg:2,"恭喜您成功领取充值988元的奖励！"	SetAwardId:28	AddItem:"18,1,924,1",2,1,43200	AddItem:"1,12,27,4",1,1,57600	AddItem:"18,1,597,1",99,1,""								
62	7	充值4988元购买武林大会英雄令牌资格[三选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>以优惠价格21888金币购买武林大会英雄令牌资格<color>奖励吗？共可购买<color=yellow>16<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:166,0,"您已经领取过4988充值奖励，不能再领奖了！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""				SetTask:166,1	AddBuyItemSum:16,1	SetMsg:2,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	SetMsg:0,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	AddTitle:"6,31,1,0"										
62	8	充值4988元八折购买和氏璧成品资格[三选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>以每个8000金币的优惠价格购买和氏璧资格<color>奖励吗？共可购买<color=yellow>50<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:174,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""				SetTask:174,1	AddBuyItemSum:50,4	SetMsg:2,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	SetMsg:0,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	AddTitle:"6,33,1,0"										
62	9	充值4988元购买2010年盛夏纪念徽章资格[三选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>以优惠价格7000金币购买2010年盛夏纪念徽章资格<color>奖励吗？共可购买<color=yellow>150<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckTaskEq:166,0,"您已经领取过4988充值奖励，不能再领奖了！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""					SetTask:175,1	AddBuyItemSum:150,2	SetMsg:0,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	SetMsg:2,"恭喜您已成功领取充值<color=yellow>4988元<color>的优惠奖励！"	AddTitle:"6,32,1,0"										
62	10	188元四技能同伴夏侯小小领取[五选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>四技能同伴夏侯小小<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,666,1",1,1,""	SetMsg:0,"恭喜您成功领取充值188元的四技能同伴夏侯小小奖励！"	SetMsg:2,"恭喜您成功领取充值188元的四技能同伴夏侯小小奖励！"											
62	11	188元3折9玄优惠券领取[五选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>3折9玄优惠券<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,395,1",1,1,43200	SetMsg:0,"恭喜您成功领取充值188元的3折9玄优惠券奖励！"	SetMsg:2,"恭喜您成功领取充值188元的3折9玄优惠券奖励！"											
62	12	188元游龙古币领取[五选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>150游龙古币<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,553,1",150,1,""	SetMsg:2,"恭喜您成功领取充值188元的150游龙古币奖励！"	SetMsg:0,"恭喜您成功领取充值188元的150游龙古币奖励！"											
62	13	188元一折购买黄金智慧精华[五选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>一折购买50个黄金智慧精华资格<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:173,0,"您已经激活了该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""					SetTask:173,1	SetMsg:0,"恭喜您成功领取充值188元的一折购买黄金智慧精华资格！"	SetMsg:2,"恭喜您成功领取充值188元的一折购买黄金智慧精华资格！"	AddBuyItemSum:50,3	SetTask:158,1										
62	14	188元菩提果领取[五选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>菩提果<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,564,1",1,1,""	SetMsg:0,"恭喜您成功领取充值188元的菩提果奖励！"	SetMsg:2,"恭喜您成功领取充值188元的菩提果奖励！"											
62	15	充值1000元以上绑金返还领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领奖！",""							AddExBindCoinByPay:154,1000,0,20														
63	1	充值50元领奖	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:149,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的奖励！",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:149,1	SetAwardId:17	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>50元<color>奖励的<color=yellow>3张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>50元<color>奖励的<color=yellow>3张幸运奖券<color>！"											
63	2	充值188元领奖	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckTaskEq:150,0,"不能领奖，您已经领取过充值达<color=yellow>188元<color>的奖励！",""	CheckFreeBag:5,"领奖需要<color=yellow>5格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:150,1	AddItem:"18,1,397,1",4,1,43200	SetMsg:1,"恭喜您成功领取了充值达<color=yellow>188元<color>的奖励！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>188元<color>的奖励！"	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>188元<color>的奖励！"										
63	3	充值50元强化优惠资格领取	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取强化优惠效果吗？该效果只能持续<color=yellow>5天<color>","确定"		CheckPayIsAction:1	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:151,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的<color=yellow>强化优惠<color>奖励！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"					SetTask:151,1	AddSkillBuff:892,1,7200	SetMsg:0,"恭喜您成功领取强化优惠效果！"	SetMsg:2,"恭喜您成功领取强化优惠效果！"											
63	4	充值1000元以上绑金领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，没有绑金返还可领取！",""		CheckTimeFrame:"OpenLevel150",0,"您所在服务器已开放150级不能领取此处的奖励！"					AddExBindCoinByPay:154,1000,0,20														
63	5	充值588元基本奖励领取	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>，不能领奖！",""	CheckTaskEq:155,0,"不能领奖，您已经领取过充值达<color=yellow>588元<color>的奖励！",""	CheckFreeBag:4,"领奖需要<color=yellow>4格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:155,1	AddItem:"18,1,397,1",4,1,43200	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>588元<color>奖励的<color=yellow>4张幸运奖券<color>！"	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>588元<color>奖励的<color=yellow>4张幸运奖券<color>！"											
63	6	188元领取扩展箱令牌lv2[二选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>二选一<color>的<color=yellow>储物箱扩展令Lv2<color>的奖励嘛？领取后就不能领取额外的<color=yellow>1张幸运奖券<color>了！","确定"		CheckPayIsAction:1	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckTaskEq:158,0,"不能领奖，您已经领取过充值达<color=yellow>188元<color>的奖励！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"	CheckLuaScript:"local nTask = me.GetTask(2027, 22);<enter>if math.mod(math.floor(nTask/10), 10) > 0 then<enter><tab>return 1,\"您已经使用过了该类型的扩展箱分页道具。\";<enter>end",""			SetTask:158,1	AddItem:"18,1,216,2",1,1,43200	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>188元<color>的<color=yellow>储物箱扩展令Lv2<color>奖励！"	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>188元<color>的<color=yellow>储物箱扩展令Lv2<color>奖励！"											
63	7	188元领取幸运奖券[二选一]	npc_getaward		0	0	Npc:2601	AddSelect:"您确定领取<color=yellow>二选一<color>的<color=yellow>1张幸运奖券<color>的奖励嘛？领取后就不能领取额外的<color=yellow>储物箱扩展令Lv2<color>了！","确定"		CheckPayIsAction:1	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckTaskEq:158,0,"不能领奖，您已经领取过该项奖励！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""	CheckTimeFrame:"OpenLevel150",0,"你所在服务器已开放<color=yellow>150级<color>等级上限，不能领取此项奖励！"				SetTask:158,1	AddItem:"18,1,397,1",1,1,43200	SetMsg:2,"恭喜您成功领取了充值达<color=yellow>188元<color>的<color=yellow>幸运奖券<color>奖励！"	SetMsg:0,"恭喜您成功领取了充值达<color=yellow>188元<color>的<color=yellow>幸运奖券<color>奖励！"											
64	1	<color=yellow>本月充值优惠领奖激活<color>	npc_getaward		0	0	Npc:2601	AddSelect:"您确定激活当前角色的领奖资格么？激活后其他角色就不可以领奖了！","确定"				CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能激活领奖资格！",""						SetPayAction:1		SetMsg:0,"恭喜您成功激活了当前角色本月的领奖资格！"	SetMsg:2,"恭喜您成功激活了当前角色本月的领奖资格！"											
66	1	逍遥谷产出	action_finishtask		0	0	TaskFinish:"XoyoGame",0,""			CheckLuaScript:"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg;<enter>if (tonumber(tbXoYo[1]) or 0) >= 2 then<enter>   return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nNewYearType = 1;<enter>return 0;"	GoToEvent:2													
66	2	新年活动统一产出接口			0	0												SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>local tbChanChuRant = 1400;<enter>local tbChanChuType = {<enter>[1] = 1, --逍遥2级以上房子1个<enter>[2] = 10,  --商会任务10个<enter>[3] = 1,   --白虎每层1个<enter>[4] = 1,   --宋金1500以上1个<enter>[5] = 2,   --宋金3000以上2个<enter>[6] = 3,   --宋金4500以上3个<enter>[7]  = 1,  --通缉1个<enter>};<enter>local tbRandom = {500,300,600};<enter>local tbItem = {[1]=\"18,1,552,1\",[2]=\"18,1,555,1\",[3] =\"18,1,557,1\" };<enter>if not tbChanChuType[tbTemp.nNewYearType] then<enter>  return 1;<enter>end<enter>for j = 1, tbChanChuType[tbTemp.nNewYearType] do <enter>  local nSumR = 0;<enter>  local nGetType = 0;<enter>  local nCurR = MathRandom(1, tbChanChuRant);<enter>  for i = 1, #tbRandom do<enter>     nSumR = nSumR + tbRandom[i];<enter>     if nCurR < nSumR then<enter>       nGetType = i;<enter>       break; <enter>     end<enter>  end<enter>  if tbItem[nGetType] then<enter>     EventManager:ExeFun(\"AddItem\",tbItem[nGetType],1,1,0);<enter>  end<enter>end<enter>return 0;<enter>"														
66	3	商会任务产出	action_finishtask		0	0	TaskFinish:"MerchantTask",10,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nNewYearType = 2;<enter>return 0;"	GoToEvent:2													
66	4	白虎堂产出	action_finishtask		0	0	TaskFinish:"BaiHuTang",0,""			CheckLuaScript:"local tbBaiHU = EventManager:GetLibTable().tbTaskFinishArg;<enter>if (tonumber(tbBaiHU[2]) or 0) < 1 then<enter>   return 1;<enter>end<enter>return 0;",""								SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nNewYearType = 3;<enter>return 0;"	GoToEvent:2													
66	5	军营产出	action_finishtask		0	0	TaskFinish:"Battle",3,""											SetLuaScript:"local tbJunYing = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>if (tonumber(tbJunYing[1]) or 0) >= 4500 then<enter>   tbTemp.nNewYearType = 6;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 3000 then<enter>   tbTemp.nNewYearType = 5;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 1500 then<enter>   tbTemp.nNewYearType = 4;<enter>else<enter>   return 1;<enter>end<enter>return 0;"	GoToEvent:2													
66	6	通缉产出	action_finishtask		0	0	TaskFinish:"FinishWanted",1,""											SetLuaScript:"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nNewYearType = 7;<enter>return 0;<enter><enter>"	GoToEvent:2													
67	1	激活极品同伴领取资格	npc_getaward		0	0	Npc:3601	AddSelect:"您确定激活当前角色的领奖资格吗？激活后其他角色就不能领奖了。","确定"		CheckTaskEq:156,0,"当前角色已激活了领奖资格，不需要再次激活！",""	CheckExt:2,0,"账号下其他角色已激活了领奖资格，不能再激活了！",""	CheckMonthPay:1500,"您本月累计充值不足1500元，不能激活领奖资格！",""						SetTask:156,1	SetExt:2,1	SetMsg:0,"恭喜您激活了领取极品同伴的资格，请在本月内来领奖！"	SetMsg:2,"恭喜您激活了领取极品同伴的资格，请在本月内来领奖！"											
67	2	充值1500元领取极品同伴	npc_getaward		0	0	Npc:3601	AddSelect:"您确定领取极品同伴奖励吗？","确定"		CheckTaskEq:156,1,"当前角色未激活领奖资格，不能领奖！",""	CheckTaskEq:157,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:1500,"您本月累计充值不足<color=yellow>1500元<color>，不能领取奖励！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间，去整理下再来吧！",""					SetTask:157,1	SetAwardId:24	SetMsg:0,"恭喜您领取了新年极品同伴“叶静”！"	SetMsg:2,"恭喜您领取了新年极品同伴“叶静”！"											
68	1	新年大抽奖领奖	npc_getaward		0	0	Npc:2601											SetLuaScript:"Lottery:OnDialog();<enter>"														
70	1	胜利徽章，争夺令产出统一接口			0	0												SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>local nNum1 = tonumber(tbTemp.nWorkerType) or 0;<enter>local nNum2 = tonumber(tbTemp.nZhengduo) or 0;<enter>local szItem1 = \"18,1,920,1\";   --胜利徽章<enter>local szItem2 = \"18,1,930,1\";   --争夺令<enter>if SpecialEvent.LaborDay .IVER_nHero == 1 then<enter>   for i = 1, nNum1 do  <enter>       EventManager:ExeFun(\"AddItem\",szItem1,1,1,0); <enter>   end<enter>end<enter>if SpecialEvent.LaborDay .IVER_nTogether == 1 then<enter>   for i = 1, nNum2 do<enter>       EventManager:ExeFun(\"AddItem\",szItem2,1,1,0); <enter>   end<enter>end<enter>return 0;<enter><enter>"														
70	2	打开商店	npc_getaward		0	0	Npc:3571											OpenShop:170,3,100														
70	3	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""											SetLuaScript:"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>if (tonumber(tbXoYo[1]) or 0) > 2 then   <enter>   tbTemp.nWorkerType = tonumber(tbXoYo[1]) - 2;<enter>   tbTemp.nZhengduo = 1;<enter>elseif (tonumber(tbXoYo[1]) or 0) == 2 then<enter>  tbTemp.nWorkerType = 1;<enter>  tbTemp.nZhengduo = 1;  <enter>else<enter>  return 1;<enter>end<enter>return 0;"	GoToEvent:1													
70	4	宋金产出	action_finishtask		0	0	TaskFinish:"Battle",1,""											SetLuaScript:"local tbJunYing = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>if (tonumber(tbJunYing[1]) or 0) >= 8000 then<enter>   tbTemp.nWorkerType = 5;<enter>   tbTemp.nZhengduo = 3;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 6000 then<enter>   tbTemp.nWorkerType = 4;<enter>   tbTemp.nZhengduo = 3;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 4500 then<enter>   tbTemp.nWorkerType = 3;<enter>   tbTemp.nZhengduo = 3;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 3000 then<enter>   tbTemp.nWorkerType = 2;<enter>   tbTemp.nZhengduo = 2;<enter>elseif (tonumber(tbJunYing[1]) or 0) >= 1500 then<enter>   tbTemp.nWorkerType = 1;<enter>   tbTemp.nZhengduo = 1;<enter>else<enter>   return 1;<enter>end<enter>return 0;"	GoToEvent:1													
70	5	白虎	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""											SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>if (tonumber(tbBaiHu[2]) or 0) >= 1 then<enter>   local tbTemp = EventManager:GetTempTable();<enter>   tbTemp.nWorkerType = tonumber(tbBaiHu[2]);<enter>   tbTemp.nZhengduo = 1;<enter>   return 0;   <enter>end<enter>return 1;"	GoToEvent:1													
70	6	通缉产出	action_finishtask		0	0	TaskFinish:"FinishWanted",2,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nWorkerType = 1;<enter>tbTemp.nZhengduo = 1;<enter>return 0;<enter><enter>"	GoToEvent:1													
70	7	门派竞技	action_finishtask		0	0	TaskFinish:"FactionBattle",2,""			CheckLuaScript:"local tbCompete = EventManager:GetLibTable().tbTaskFinishArg;<enter>if tonumber(tbCompete[1]) >= 100 then<enter>   local tbTemp = EventManager:GetTempTable();<enter>   tbTemp.nWorkerType = 2;<enter>   tbTemp.nZhengduo = 2;<enter>   return 0;<enter>end<enter>return 1;",1								GoToEvent:1														
70	8	领土战	action_finishtask		0	0	TaskFinish:"DomainbattleTask",2,""				CheckLuaScript:"local tbCompete = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>if tonumber(tbCompete[1]) >= 5000 then   <enter>   tbTemp.nWorkerType = 10;<enter>   tbTemp.nZhengduo = 8;  <enter>elseif tonumber(tbCompete[1]) >= 4500 then   <enter>   tbTemp.nWorkerType = 10;<enter>   tbTemp.nZhengduo = 4;<enter>elseif tonumber(tbCompete[1]) >= 3000 then<enter>   tbTemp.nWorkerType = 8;<enter>   tbTemp.nZhengduo = 4;<enter>elseif tonumber(tbCompete[1]) >= 1500 then<enter>   tbTemp.nWorkerType = 5;<enter>   tbTemp.nZhengduo = 2;<enter>elseif tonumber(tbCompete[1]) >= 800 then<enter>   tbTemp.nWorkerType = 3; <enter>   tbTemp.nZhengduo = 2;<enter>else<enter>   return 1;<enter>end<enter>return 0;<enter>",1							GoToEvent:1														
70	9	名扬英雄-金	boss_dropitem		2010/04/09/00/00	2010/04/30/00/00	DropNpc:2421			CheckLuaScript:"if SpecialEvent.LaborDay.IVER_nHero_Famous == 1 then<enter>   return 0;<enter>end<enter>return 1;",""									SetDroprate:"\setting\npc\droprate\loaryday\boss_jin.txt",1													
70	10	名扬英雄-木	boss_dropitem		2010/04/09/00/00	2010/04/15/00/00	DropNpc:2422			CheckLuaScript:"if SpecialEvent.LaborDay.IVER_nHero_Famous == 1 then<enter>   return 0;<enter>end<enter>return 1;",""									SetDroprate:"\setting\npc\droprate\loaryday\boss_mu.txt",1													
70	11	名扬英雄-水	boss_dropitem		2010/04/09/00/00	2010/04/15/00/00	DropNpc:2423			CheckLuaScript:"if SpecialEvent.LaborDay.IVER_nHero_Famous == 1 then<enter>   return 0;<enter>end<enter>return 1;",""									SetDroprate:"\setting\npc\droprate\loaryday\boss_shui.txt",1													
70	12	名扬英雄-火	boss_dropitem		2010/04/09/00/00	2010/04/15/00/00	DropNpc:2424			CheckLuaScript:"if SpecialEvent.LaborDay.IVER_nHero_Famous == 1 then<enter>   return 0;<enter>end<enter>return 1;",""									SetDroprate:"\setting\npc\droprate\loaryday\boss_huo.txt",1													
70	13	名扬英雄-土	boss_dropitem		2010/04/09/00/00	2010/04/15/00/00	DropNpc:2425			CheckLuaScript:"if SpecialEvent.LaborDay.IVER_nHero_Famous == 1 then<enter>   return 0;<enter>end<enter>return 1;",""									SetDroprate:"\setting\npc\droprate\loaryday\boss_tu.txt",1													
70	14	90级以上怪物掉落	boss_dropitem		2009/11/18/00/00	2009/12/09/00/00	DropNpcType:"_ALLNPC"			CheckNpcLevel:90								SetDropItemId:26,1														
70	15	首领掉落胜利徽章	boss_dropitem		2009/11/18/00/00	2009/12/09/00/00	DropNpcType:"_SHOULING"											SetDropItemId:27,1														
70	16	精英怪掉落胜利徽章	boss_dropitem		2009/11/18/00/00	2009/12/09/00/00	DropNpcType:"_JINGYING"											SetDropItemId:27,1														
71	1	金秋庆典活动兑换战神礼包	npc_getaward		0	0	Npc:3570	AddSelect:"    你有<color=yellow>10个胜利徽章,2个荣誉徽章<color>和<color=yellow>1个辉煌徽章<color>吗,我这里用这几样可以换奖品哦?","我有"		CheckLevel:60,"你的等级不足60级还不能兑换,还是先提升一下等级在说吧?",""								SetAwardId:42														
71	9	英雄荣耀兑换战功礼包	npc_getaward		0	0	Npc:3570	AddSelect:"    你有<color=yellow>5个胜利徽章,5个荣誉徽章<color>和<color=yellow>1个辉煌徽章<color>吗,我这里用这几样可以换奖品哦?","我有"		CheckLevel:60,"你的等级不足60级还不能兑换,还是先提升一下等级在说吧?",""	CheckTask:161,30,"您已经领取了足够多了，机会还是留给其他人吧！",""	CheckGTaskDay:2,2026,160,159,"您今天已经领取足够多了，还是明天再来吧！",""						SetAwardId:26	SetLuaScript:"local nTimes = EventManager:GetTask(160)<enter>local nTimes_All = EventManager:GetTask(161)<enter>EventManager:SetTask(160,nTimes + 1);<enter>EventManager:SetTask(161,nTimes_All + 1);"													
71	10	名扬英雄兑换宝箱	npc_getaward		0	0	Npc:3571	AddSelect:"你有没有集齐的boss令牌手册呢？我这里有丰富的奖励，需要兑换吗？","我有"		CheckGTaskEq:2119,1,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2119,2,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2119,3,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2119,4,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2119,5,1,"你确定你已经收集齐五行令牌了吗？",""				SetAwardId:27	SetLuaScript:"for i =1, 5 do<enter>   me.SetTask(2119,i,0);<enter>end"													
72	1	了解植树节活动		event_arbor_day_09_intro	0	0	Npc:3569																									
72	2	上交"饱满的树种"		event_arbor_day_09_handup_seed	0	0	Npc:3569																									
72	3	植树节种子		item_seed_arbor_day_09	2010/05/04/00/00	2010/05/06/00/00	Item:"old_seed_arbor_day_09","",0,0,""																									
72	4	领取水壶		event_arbor_day_09_get_seed	2010/05/04/00/00	2010/05/05/00/00	Npc:3569																									
72	5	请帮我装满洒水壶		event_arbor_day_09_fill_jug	2010/05/04/00/00	2010/05/05/00/00	Npc:3569																									
73	1	领取开心棒	npc_getaward		0	0	Npc:3571			CheckLevel:60,"你的等级不足60哦",""	CheckGTaskEq:2119,6,0,"你已经领取过了",""							AddItem:"18,1,923,1",1,1,"2010/05/12/00/00"	SetGTask:2119,6,1													
76	1	帮会选举	npc_getaward		0	0	Npc:2606			CheckLevel:60,"你的等级不足60哦",""								SetLuaScript:"SpecialEvent.Tong_Vote.tbDialogNpc:VoteTickets();"														
76	2	查询帮会票数			0	0	Npc:2606			CheckLevel:60,"你的等级不足60哦",""								SetLuaScript:"SpecialEvent.Tong_Vote.tbDialogNpc:QueryIntPutName();"														
79	1	世界杯卡片产出	action_finishtask		0	0																										
79	2	输入活动名			0	0																										
80	1	宋金第一名	action_finishtask		0	0	TaskFinish:"BattleFirst",1,""			CheckLuaScript:"local tbSongjin = EventManager:GetLibTable().tbTaskFinishArg<enter>if tbSongjin[1] == 1 then<enter>   return 0;<enter>end<enter>return 1;",""								GoToEvent:4														
80	2	宋金5000分以上	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLuaScript:"local tbSongjin = EventManager:GetLibTable().tbTaskFinishArg<enter>if tbSongjin[1] >= 5000 then<enter>   return 0;<enter>end<enter>return 1;<enter>",""								GoToEvent:4														
80	3	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTangBoss",1,""			CheckLuaScript:"local tbBaihu = EventManager:GetLibTable().tbTaskFinishArg<enter>if tbBaihu[2] >= 2 then<enter>   return 0;<enter>end<enter>return 1;<enter>",""								GoToEvent:4														
80	4	给水晶			0	0												SetLuaScript:" EventManager:ExeFun(\"AddItem\",\"18,1,950,1\",1,0,0); "														
80	5	逍遥谷第３关关卡	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg<enter>if tbXoYo[1] == 3 then<enter>   return 0;<enter>end<enter>return 1;<enter><enter>",""								GoToEvent:4														
80	6	55级怪物	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckNpcLevel:55								SetDropItemId:14,1														
81	1	我想制作水晶	npc_getaward		0	0	Npc:3574											SetLuaScript:"SpecialEvent.tbComCrystal:ComCrystal();"														
82	1	逍遥谷奖励卡片	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if (nLevel ~= 3) then<enter>return 1;<enter>end<enter>return 0;",""								AddItem:"18,1,658,1",1,1,"2010/07/13/00/00"														
82	2	商会奖励卡片	action_finishtask		0	0	TaskFinish:"MerchantTask",5,""											AddItem:"18,1,658,1",5,1,"2010/07/13/00/00"														
82	5	联赛奖励卡片	action_finishtask		0	0	TaskFinish:"Wlls",1,""											AddItem:"18,1,658,1",1,1,"2010/07/13/00/00"														
82	6	门派竞技奖励卡片	action_finishtask		0	0	TaskFinish:"FactionBattle",0,"return EventManager:GetLibTable().tbTaskFinishArg[3] or 0;"			CheckLuaScript:"local nBoxNum = EventManager:GetLibTable().tbTaskFinishArg[3];<enter>if (not nBoxNum) then<enter>return 1;<enter>end<enter>return 0;",""								SetLuaScript:"local nBoxNum = EventManager:GetLibTable().tbTaskFinishArg[3];<enter>if (not nBoxNum) then<enter>return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,658,1\",nBoxNum,1,\"2010/07/13/00/00\");"														
82	7	家族周目标奖励卡片	action_finishtask		0	0	TaskFinish:"KinWeekAction",0,"return EventManager:GetLibTable().tbTaskFinishArg[2] or 0;"			CheckLuaScript:"local nBaseNum = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nBaseNum) then<enter>return 1;<enter>end<enter>if (nBaseNum <= 0) then<enter>return 1;<enter>end<enter>return 0;",""								SetLuaScript:"local nBaseNum = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nBaseNum) then<enter>return 1;<enter>end<enter>if (nBaseNum <= 0) then<enter>return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,658,1\",nBaseNum,1,\"2010/07/13/00/00\");"														
83	1	统一接口			0	0												SetLuaScript:"local tbItem = {\"18,1,966,1\",\"18,1,967,1\"};   --鹊羽 ,琉璃石<enter>local tbTemp = EventManager:GetTempTable();<enter>local nAwardNum = tonumber(tbTemp.nAwardNum) or 0;<enter>local nState = tonumber(tbTemp.nState) or 0;<enter>if nAwardNum <= 0 then<enter>   return 0;<enter>end<enter>if nState == 0 then   <enter>   for i = 1, nAwardNum do<enter>      local nId = MathRandom(2);<enter>      EventManager:ExeFun(\"AddItem\",tbItem[nId],1,1,0); <enter>   end<enter>else  <enter>   EventManager:ExeFun(\"AddItem\",tbItem[1],nAwardNum,1,0); <enter>   EventManager:ExeFun(\"AddItem\",tbItem[2],nAwardNum,1,0); <enter>end"														
83	2	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",0,"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbXoYo[1]) or 0;<enter>local nNeedBag = 2;<enter>if nLevel >= 5 then<enter>   nNeedBag = 4;<enter>end<enter>return nNeedBag;"											SetLuaScript:"local tbXoYo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>if (tonumber(tbXoYo[1]) or 0) == 3 then   <enter>   tbTemp.nAwardNum = 1;<enter>   tbTemp.nState = 0;<enter>elseif (tonumber(tbXoYo[1]) or 0) == 4 then<enter>   tbTemp.nAwardNum = 1;<enter>   tbTemp.nState = 1; <enter>elseif (tonumber(tbXoYo[1]) or 0) == 5 then<enter>   tbTemp.nAwardNum = 2;<enter>   tbTemp.nState = 1;  <enter>else<enter>   return 1;  <enter>end<enter>return 0;"	GoToEvent:1													
83	3	官府通缉	action_finishtask		0	0	TaskFinish:"FinishWanted",2,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nAwardNum = 1;<enter>tbTemp.nState = 1;<enter>return 0<enter>"	GoToEvent:1													
83	4	商会	action_finishtask		0	0	TaskFinish:"MerchantTask",6,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nAwardNum = 3;<enter>tbTemp.nState = 1;<enter>return 0;"	GoToEvent:1													
83	5	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTangBoss",2,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nAwardNum = 2;<enter>tbTemp.nState = 0;<enter>return 0"	GoToEvent:1													
83	6	 宋金	action_finishtask		0	0	TaskFinish:"Battle",2,""											SetLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>local tbTemp = EventManager:GetTempTable();<enter>if nGrade >= 3000 then<enter>   tbTemp.nAwardNum = 1;<enter>   tbTemp.nState = 1;<enter>   return 0;<enter>end<enter>return 1;"	GoToEvent:1													
83	7	精英首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",2,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();   <enter>tbTemp.nAwardNum = 1;<enter>tbTemp.nState = 1;<enter>return 0"	GoToEvent:1													
83	8	军营副本击杀最终boss	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",2,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nAwardNum = 1;<enter>tbTemp.nState = 1;<enter>return 0<enter>"	GoToEvent:1													
83	9	我劝您听我一言	npc_getaward		0	0	Npc:6869			CheckLevel:60,"就你的这点能力也想来我面前劝说我，不自量力，还是提升到60级再来吧！",""	CheckFaction:13,"就你的这点能力也想来我面前劝说我，不自量力，还是加入门派再来吧！",""	CheckTaskDay:3,167,168,"你今天劝我的次数够多了吧，你不嫌烦我都嫌烦了！",""		CheckItemInBag:"18,1,968,1",1,0,"你身上没有金鹊琉璃钗，我不跟你说了",""				SetLuaScript:"local tbWangMuMsg = {\"为什么人人都来劝我，难道我真的做错了吗？\",\"爱情是暴风雨和雷鸣闪电，凡人甘愿在其中受尽苦痛折磨。\",\"七月初七，便是牛郎织女相会之日。\",\"牛郎和织女之间的感情已经不是爱，而是难舍的亲情。\",\"好吧，就让这对有情人见面吧。\",\"是你们的真诚打动了了我。\",\"一年的苦痛还一日的幸福，就让他们如愿吧。\",};<enter>local tbPlayerMsg = {\"你有没有听说过相见不如怀念。\",\"得不到的东西才是最美的，就让这美的时间再久一点。\",\"思念是一种病，短短的一天并不能治好他们。\",\"距离产生美，他们应该感谢我才是。\",\"爱上了不该爱的人，这是来自天界的惩罚。\",\"选择遗忘会让你们更坚强。\",\"爱情只是因为寂寞，不会有任何结局。\"};<enter>local nRant = 60;<enter>local nRantEx = MathRandom(100);<enter>local nState = 1;<enter>if nRantEx <= nRant then<enter>    nState = 2;<enter>end<enter>local szMsg = \"\";<enter>if nState == 1 then<enter><tab>szMsg = tbPlayerMsg[MathRandom(#tbPlayerMsg)];<enter><tab>szMsg = \"王母：\"..szMsg;<enter>        me.Msg(\"王母好像没有听进去你的话啊！\");<enter>else<enter><tab>szMsg = tbWangMuMsg[MathRandom(#tbWangMuMsg)]<enter><tab>szMsg = \"王母：\"..szMsg;<enter>        me.Msg(\"王母听了你的劝告！\");<enter>end<enter>Dialog:SendBlackBoardMsg(me, szMsg);<enter>if nState == 1 then<enter><tab>return 1;<enter>else<enter><tab>return 0;<enter>end<enter>"	AddItem:"18,1,969,1",1,1,43200	DelItem:"18,1,968,1",1	AddTask:167,1											
84	1	上交相思石	npc_getaward		0	0	Npc:6873			CheckLevel:60,"您还是提升到60级再给我上交吧！",""	CheckFaction:13,"还是加入了门派再来我这里交吧！",""	CheckItemInBag:"18,1,974,1",1,0,"你身上没有相思石啊",""						DelItem:"18,1,974,1",1	AddSkillBuff:879,1,60	AddSkillBuff:387,7,60	AddSkillBuff:385,7,60	AddSkillBuff:880,4,60	AddSkillBuff:386,7,60	AddTask:169,1	SetLuaScript:"local nNum = me.GetTask(2026,169);<enter>if nNum >= 5 then<enter>  EventManager:ExeFun(\"AddItem\",\"18,1,977,1\",1,1,\"2010/08/22/00/00\"); <enter>  me.SetTask(2026,169,0);<enter>else<enter>  me.Msg(string.format(\"你只要再上交%s个就可以获得一个金鹊礼包！\",5-nNum));<enter>end"							
85	1	宋金剑刃	action_finishtask		0	0	TaskFinish:"Battle",1,""											SetLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>if nGrade >= 3000 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,980,1\",15,0,0); <enter>end"														
85	2	军营剑柄	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""											SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,981,1\",15,0,0); "														
85	3	拆解金犀	npc_getaward		0	0	Npc:3561											SetLuaScript:"SpecialEvent.tbZhongJunAiGuo:OnDialog()"														
85	4	打造武器	npc_getaward		0	0	Npc:3561											SetAwardId:31														
85	5	缴纳长剑	npc_getaward		0	0	Npc:2601			CheckTask:171,150,"你已经交了足够多了，这里先感谢你对国家人民的贡献！",""								SetAwardId:32	AddTask:171,1													
85	6	兑换千年人参	npc_getaward		0	0	Npc:2965			CheckTaskEq:171,150,"您只有上交了150个长剑，为国家做出了巨大贡献才能这我这里兑换千年人参！",""	CheckTask:172,1,"您已经兑换过了，不要那么贪婪了！",""							SetAwardId:33	SetTask:172,1													
87	1	领取冲级奖励	npc_getaward		0	0	Npc:2601											SetLuaScript:"SpecialEvent.tbVnChongji:OnDialog()"														
88	1	击杀65以上小怪	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckNpcLevel:65	CheckNpcType:0	CheckLevel:60,"",""						SetDropItemId:17,1														
88	2	击杀精英	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckNpcLevel:65	CheckNpcType:1	CheckRandom:50,100,""	CheckLevel:60,"",""					AddItem:"18,1,1081,1",2,0,""														
88	3	击杀首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""					CheckNpcType:2	CheckNpcLevel:65	CheckLevel:60,"",""				AddItem:"18,1,1081,1",5,0,""														
88	4	老包50轮	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLevel:60,"",""					CheckLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local tbTemp = EventManager:GetTempTable();<enter>local nCount = tbLaoBao[1] or 0;<enter>if nCount>= 50 then<tab><enter><tab>return 0;<enter>end<enter>return 1;",""			AddItem:"18,1,1081,1",10,0,""														
88	5	统一接口			0	0												SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>local nType = tonumber(tbTemp.nState) or 0;<enter>local szItem = \"18,1,676,1\";  --陈旧袋子<enter>local tbType = {[1] = 5,[2] = 10};<enter>if tbType[nType] then<enter><tab>EventManager:ExeFun(\"AddItem\",szItem,tbType[nType],0,0);<enter>end<enter>return 0;"														
88	6	领取礼包	npc_getaward		0	0	Npc:7221			CheckLevel:60,"你的等级不足60级！",""	CheckFreeBag:1,"背包不足1格，还是整理下在来吧！",""	CheckTaskDay:1,189,188,"您今天已经领取过了，明天再来吧！",""						AddItem:"18,1,1081,1",10,0,""	SetTask:189,1													
88	7	烤鸭	npc_getaward		0	0	Npc:7221											SetAwardIdUi:44,""														
88	8	烤鹅	npc_getaward		0	0	Npc:7221													SetAwardIdUi:45,""												
88	9	查询食用烤鸭烤鹅情况	npc_getaward		0	0	Npc:7221											SetLuaScript:"SpecialEvent.tbVnChristmas:OnDialog()"														
88	10	圣诞杂货店	npc_getaward		0	0	Npc:7221											OpenShop:180,1,100														
88	11	名扬英雄-金	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcSeries:1									SetDroprate:"\setting\npc\droprate\loaryday\boss_jin.txt",1													
88	12	名扬英雄-木	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcSeries:2									SetDroprate:"\setting\npc\droprate\loaryday\boss_mu.txt",1													
88	13	名扬英雄-水	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcSeries:3									SetDroprate:"\setting\npc\droprate\loaryday\boss_shui.txt",1													
88	14	名扬英雄-火	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcSeries:4									SetDroprate:"\setting\npc\droprate\loaryday\boss_huo.txt",1													
88	15	名扬英雄-土	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcSeries:5									SetDroprate:"\setting\npc\droprate\loaryday\boss_tu.txt",1													
88	16	查询烘暖卖火柴小妹情况	npc_getaward		0	0	Npc:7221											SetLuaScript:"SpecialEvent.tbVnChristmas:OnDialogEx()"														
88	17	购买奔宵马	npc_getaward		0	0	Npc:7221											SetLuaScript:"SpecialEvent.tbVnChristmas:OnDialog_Buy()"														
89	1	掉落月饼	boss_dropitem		2011/08/01/00/00	2011/08/09/00/00	DropNpcType:"_ALLNPC"			CheckInMapLevel:35,0,"",""								SetDropItemId:15,1														
89	2	我要给你花晨月夕月饼	npc_getaward		0	0	Npc:7058				CheckLuaScript:"local nDateTime = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>if Lib:GetDate2Time(nDateTime) > EventManager:GetTask(177) then<enter><tab>return 0;<enter>end<enter>return 1, \"您今天已经上交过花晨月夕月饼！\"",""	CheckItemInBag:"18,1,1461,1",1,0,"您背包中的花晨月夕月饼的数量不够。",""						SetLuaScript:"EventManager:SetTask(177, GetTime())"	DelItem:"18,1,1461,1",1	AddItem:"18,1,1460,1",1,1,""	SetMsg:2,"人虽不至，心向往之。"	AddTask:176,1	AddTaskDay:208,209		SetLuaScript:"if EventManager:GetTask(208) == 2 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,86,1,1\");<enter>end<enter>if EventManager:GetTask(176) == 15 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,87,1,1\");<enter>end<enter>"							
89	3	我要给你众星拱月月饼	npc_getaward		0	0	Npc:7058			CheckLuaScript:"local nDateTime = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>if Lib:GetDate2Time(nDateTime) > EventManager:GetTask(178) then<enter><tab>return 0;<enter>end<enter>return 1, \"您今天已经上交过众星拱月月饼！\"",""	CheckItemInBag:"18,1,1462,1",1,0,"您背包中的众星拱月月饼的数量不够。",""							SetLuaScript:"EventManager:SetTask(178, GetTime())"	DelItem:"18,1,1462,1",1	AddTask:176,1	AddItem:"18,1,1460,1",1,1,""	SetMsg:2,"海上生明月，天涯共此时。"	AddTaskDay:208,209	SetLuaScript:"if EventManager:GetTask(208) == 2 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,86,1,1\");<enter>end<enter>if EventManager:GetTask(176) == 15 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,87,1,1\");<enter>end<enter>"								
89	4	我要给你风月无双月饼	npc_getaward		0	0	Npc:7058			CheckLuaScript:"local nDateTime = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>if Lib:GetDate2Time(nDateTime) > EventManager:GetTask(179) then<enter><tab>return 0;<enter>end<enter>return 1, \"您今天已经上交过风月无双月饼！\"",""	CheckItemInBag:"18,1,1463,1",1,0,"您背包中的风月无双月饼的数量不够。",""	CheckFreeBag:1,"您的背包空间不够，必须需要1格背包空间！",""						SetLuaScript:"EventManager:SetTask(179, GetTime())"	DelItem:"18,1,1463,1",1	AddItem:"18,1,1460,1",1,1,""		SetMsg:2,"谢谢你的月饼，我会永远记得你！"	AddTask:176,1	AddTaskDay:208,209	SetLuaScript:"if EventManager:GetTask(208) == 2 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,86,1,1\");<enter>end<enter>if EventManager:GetTask(176) == 15 then<enter>  EventManager:ExeFun(\"AddTitle\",\"6,87,1,1\");<enter>end<enter>"							
89	5	地图召唤NPC	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"if SubWorldID2Idx(5) >= 0 then<enter>  KNpc.Add2(7058, 90, -1, 5, 1611, 3116);<enter>end<enter>if SubWorldID2Idx(6) >= 0 then<enter>  KNpc.Add2(7058, 90, -1, 6, 1596, 3110);<enter>end<enter>"														
89	6	军营击杀boss	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""											AddItem:"18,1,1461,1",1,1,""														
89	8	逍遥谷3关	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""											SetLuaScript:"local tbXoyo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nWinCount = tonumber(tbXoyo[3]) or 0;<enter><enter>if nWinCount == 3 then    <enter>    me.AddItemEx(18,1,1462,1,{bForceBind = 1});<enter>    return 0;<enter>end<enter>return 1;"														
89	9	跨服宋金	action_finishtask		0	0	TaskFinish:"SuperBattle",1,""											SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tb[1]) or 0;<enter>if nGrade >= 1000 then<enter>   me.AddItemEx(18,1,1463,1,{bForceBind = 1});<enter>   return 0;<enter>end<enter>return 1;"														
89	10	新服宋金产出	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckTimeFrame:"OpenLevel150",0,""								SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tb[1]) or 0;<enter>if nGrade >= 3000 then<enter>   me.AddItemEx(18,1,1463,1,{bForceBind = 1});<enter>   return 0;<enter>end<enter>return 1;<enter>"														
89	11	我只是路过			0	0																										
90	1	商会任务	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"MerchantTask",2,""											SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",2,1,szTimeOut);<enter>"														
90	2	宋金战场	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"Battle",1,""			CheckLuaScript:"local nScore = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (nScore >= 5000) then<enter>return 0;<enter>else<enter>return 1;<enter>end",""								SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",1,1,szTimeOut);<enter>"														
90	3	白虎堂	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"BaiHuTangBoss",1,""											SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",1,1,szTimeOut);<enter>"														
90	4	逍遥谷	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if (nLevel ~= 4) then<enter>return 1;<enter>end<enter>return 0;",""								SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",1,1,szTimeOut);<enter>"														
90	5	击杀首领怪	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"JYAndSLDeath",1,""			CheckLuaScript:"if him.GetNpcType() == 2 then<enter>   return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",1,1,szTimeOut);<enter>"														
90	6	军营	action_finishtask		2010/09/20/00/00	2010/10/09/00/00	TaskFinish:"ArmyCampBoss",1,""											SetLuaScript:"local nCurDate = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>local nCrossDaySec = Lib:GetDate2Time(nCurDate) + 86400;<enter>local szTimeOut = tostring(os.date(\"%Y/%m/%d\", nCrossDaySec));<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1009,1\",1,1,szTimeOut);<enter>"														
91	1	欢乐篝火 神州同乐	default		0	0		TimerStart:1945	TimerStart:2045									SetLuaScriptNotMe:"local tbNpc<tab>= Npc:GetClass(\"gouhuonpc\");<enter>local nGouhuoId = 7059<enter>local tbMapList = {<enter> {29,1627,3925},<enter> {24,1769,3537},<enter> {27,1616,3225},<enter>}<enter>for _, tbMap in ipairs(tbMapList) do<enter><tab>local nMapId = SubWorldID2Idx(tbMap[1]);<enter><tab>if nMapId >= 0 then<enter>        <tab>local pNpc = nil<enter><tab><tab>if tbMap[1] then<enter><tab><tab><tab>pNpc = KNpc.Add(nGouhuoId , 1, -1, nMapId, tbMap[2] * 32, tbMap[3] * 32);<enter><tab><tab>else<enter><tab><tab><tab>pNpc = KNpc.Add2(nGouhuoId , 1, -1, nMapId, tbMap[2], tbMap[3]);<enter><tab><tab>end<enter><tab><tab>if pNpc then<enter><tab><tab><tab>tbNpc:InitGouHuo(pNpc.dwId, 0, 1800, 15, 45, 400, 0, 0);<enter><tab><tab><tab>tbNpc:StartNpcTimer(pNpc.dwId);<enter><tab><tab>else<enter><tab><tab><tab>print(\"添加中秋国庆活动篝火失败, mapId:\"..tbMap[1]);<enter><tab><tab>end<enter><tab>end<enter>end<enter>"														
91	2	普天同庆烟花	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckInMapLevel:25,0,"",""								SetDropItemId:16,1														
91	3	领取热辣辣的礼包	npc_getaward		0	0	Npc:7059			CheckLuaScript:"local nDateTime = tonumber(os.date(\"%Y%m%d\", GetTime()));<enter>if Lib:GetDate2Time(nDateTime) > EventManager:GetTask(180) then<enter><tab>return 0;<enter>end<enter>return 1, \"您今天已经领取过礼包。\"",""	CheckFreeBag:1,"您的背包空间不够，必须需要1格背包空间！",""								AddItem:"18,1,1012,1",1,1,43200	SetLuaScript:"EventManager:SetTask(180, GetTime())"				AddTask:181,1	SetLuaScript:"if EventManager:GetTask(181) == 10 then<enter><tab>me.AddTitle(6,38,1,0);<enter><tab>me.SetCurTitle(6,38,1,0);<enter><tab>me.Msg(\"恭喜您，本次活动您表现非常积极，获得称号：<color=red>神州万里同欢乐<color>。\")<enter>end<enter>return 0;"							
91	4	提醒公告1	default		0	0		TimerStart:1940	TimerStart:2040										SetLuaScriptNotMe:"KDialog.NewsMsg(0, Env.NEWSMSG_NORMAL, \"欢乐神州篝火五分钟后将在临安、成都、凤翔三大城市刷出，侠客们可前去烤火、放烟花、共度欢乐时光。\");"													
91	5	提醒公告2			0	0		TimerStart:1944	TimerStart:2044										SetLuaScriptNotMe:"KDialog.NewsMsg(0, Env.NEWSMSG_NORMAL, \"欢乐神州篝火即将在临安、成都、凤翔三大城市刷出，侠客们可前去烤火、放烟花、共度欢乐时光。\");<enter><enter>"							TimerStart:2144						
93	1	使用烟花-爱我中华	item_useitem		0	0	ItemGId:"18,1,1005,1","",0,1,""												SetLuaScript:"me.CastSkill(1636, 1, -1, me.GetNpc().nIndex);"													
93	2	使用烟花-千里共婵娟	item_useitem		0	0	ItemGId:"18,1,1006,1","",0,1,""												SetLuaScript:"me.CastSkill(1637, 1, -1, me.GetNpc().nIndex);"													
93	3	使用烟花-欢乐神州	item_useitem		0	0	ItemGId:"18,1,1007,1","",0,1,""												SetLuaScript:"me.CastSkill(1635, 1, -1, me.GetNpc().nIndex);"													
94	1	普通怪掉落	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1;<enter>end<enter>return 0;",""	CheckNpcType:0	CheckNpcLevel:75,3						SetDropItemId:18,1														
94	2	精英	boss_dropitem		0	0	DropNpcType:"_JINGYING"			CheckNpcLevel:75,3	CheckNpcType:1	CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1;<enter>end<enter>return 0;<enter>",""						SetDropItemId:19,1														
94	3	首领	boss_dropitem		0	0	DropNpcType:"_SHOULING"			CheckNpcLevel:75,3	CheckNpcType:2	CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1;<enter>end<enter>return 0;<enter>",""						SetDropItemId:20,1														
94	4	55boss	boss_dropitem		0	0	DropNpcType:"uniqueboss"			CheckNpcLevel:55,2	CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1;<enter>end<enter>return 0;<enter>",""							SetDropItemId:21,1														
94	5	兑换剑雨风云	npc_getaward		0	0	Npc:6724				CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1,\"该活动不在本服务器开放！\";<enter>end<enter>return 0;<enter>",""	CheckGTask:2139,1,30,"您已经兑换的足够多了，机会还是留给其他人吧！",""						SetAwardIdUi:36,7														
94	6	兑换淘宝江湖	npc_getaward		0	0	Npc:6724				CheckLuaScript:"local nState = KGblTask.SCGetDbTaskInt(DBTASD_EVENT_TAOBAOSWITCH);<enter>if nState == 0 then<enter>   return 1,\"该活动不在本服务器开放！\";<enter>end<enter>return 0;<enter>",""	CheckGTask:2139,1,30,"您已经兑换的足够多了，机会还是留给其他人吧！",""						SetAwardIdUi:37,7														
94	7	兑换跳转，设任务变量			0	0												AddGTask:2139,1,1														
94	8	淘宝活动介绍	npc_getaward		0	0	Npc:6724											SetLuaScript:"SpecialEvent.tbTaobaoCooperate:OnDialog()"														
95	1	充值588和988元购买和氏璧	npc_getaward		0	0				CheckPayIsAction:1	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>，不能购买和氏璧！",""	CheckFreeBag:1,"购买和氏璧需要<color=yellow>1格<color>背包空间，去整理下再来！",""						CoinBuyHeShiBi:"你将以<color=yellow>8000金币<color>购买1个和氏璧!"														
95	2	月桂花换玄晶宝箱	npc_getaward		0	0		AddSelect:"    如果你有<color=yellow>一个<color>广寒月桂花，可以在我这里换取<color=yellow>一个<color>玄晶宝箱，你有花吗？","我有"										SetAwardIdUi:22,0														
95	3	菩提果兑换特别的精魄	npc_getaward		0	0		AddSelect:"    这位客官，如果你有<color=yellow>菩提果<color>，我想用<color=yellow>5个特别的精魄<color>和你换，你要换吗？","我要兑换"										SetAwardIdUi:25,0														
95	4	充值188元购买一折黄金智慧精华	npc_getaward		0	0				CheckMonthPay:188,"您本月累计充值不足188元，不能购买智慧精华！",""	CheckTaskEq:173,1,"您尚未领取188奖励，获得购买黄金智慧精华的资格！",""	CheckFreeBag:1,"购买黄金精华需要1格背包空间，去整理下再来！",""						CoinBuyItem:3														
95	5	充值988元购买第四页储物箱	npc_getaward		0	0				CheckMonthPay:988,"您本月累计充值不足988元，不能购买第四页储物箱！",""	CheckFreeBag:1,"需要<color=yellow>1格<color>背包空间，去整理下再来！",""							CoinBuyItem:21														
95	6	充值4988元购买八折和氏璧	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:174,1,"您尚未领取4988奖励称号，获得购买八折和氏璧的资格！",""	CheckFreeBag:1,"购买和氏璧需要1格背包空间，去整理下再来！",""						CoinBuyItem:4														
95	7	充值4988元购买武林大会英雄令牌	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:166,1,"您尚未领取4988奖励称号，获得购买英雄令牌的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:1														
95	8	充值4988元购买2010盛夏纪念徽章	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:175,1,"您尚未领取4988奖励称号，获得购买盛夏徽章的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:2														
95	9	充值4988元购买跨服联赛声望白玉	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:190,1,"您尚未领取4988奖励称号，获得购买白玉的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:5														
95	10	充值4988元购买寒武遗迹雪魂令	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望牌子！",""	CheckTaskEq:199,1,"您尚未领取4988奖励称号，获得购买雪魂令的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:17														
95	11	充值4988元购买雷霆印碎片	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买声望碎片！",""	CheckTaskEq:216,1,"您尚未领取4988奖励称号，获得购买雷霆印碎片的资格！",""	CheckFreeBag:1,"购买声望牌子需要1格背包空间，去整理下再来！",""						CoinBuyItem:25														
95	12	充值4988元购买巾帼英雄赛24格包	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买24格背包！",""	CheckFreeBag:1,"需要<color=yellow>1格<color>背包空间，去整理下再来！",""							CoinBuyItem:12														
95	13	充值4988元购买极品真元包	npc_getaward		0	0				CheckMonthPay:4988,"您本月累计充值不足4988元，不能购买极品真元包！",""	CheckFreeBag:1,"需要<color=yellow>1格<color>背包空间，去整理下再来！",""							CoinBuyItem:24														
95	14	雷霆印碎片换雷霆印	npc_getaward		0	0	AddSelect:"    客官，<color=yellow>10个雷霆印碎片<color>可以换取<color=yellow>1个雷霆印<color>，你想兑换吗？","我要兑换"											SetAwardIdUi:58,0														
96	1	[戒指]武林大会英雄令牌	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以优惠价格21888金币购买武林大会英雄令牌资格<color>奖励吗？共可购买<color=yellow>16<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:166,1	AddBuyItemSum:16,1	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,31,1,9"			SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"							
96	2	[武器]八折购买和氏璧成品	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以每个8000金币的优惠价格购买和氏璧资格<color>奖励吗？共可购买<color=yellow>50<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:174,1	AddBuyItemSum:50,4	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,33,1,9"			SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"							
96	3	[项链]2010年盛夏纪念徽章	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以优惠价格7000金币购买2010年盛夏纪念徽章资格<color>奖励吗？共可购买<color=yellow>150<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:175,1	AddBuyItemSum:150,2	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,32,1,9"			SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"							
96	4	[玉佩&腰坠]跨服联赛声望白玉	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以优惠价格7500金币购买跨服联赛声望白玉资格<color>奖励吗？共可购买<color=yellow>48<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！！",""	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:190,1	AddBuyItemSum:48,5	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,47,1,9"			SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"							
96	5	[护腕]寒武遗迹雪魂令	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以优惠价格6000金币购买寒武遗迹雪魂令资格<color>奖励吗？共可购买<color=yellow>60<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！！",""	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:199,1	AddBuyItemSum:60,17	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,52,1,9"			SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"							
96	6	[印鉴]雷霆印碎片	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>以优惠价格240000金币购买雷霆印碎片的资格<color>奖励吗？共可购买<color=yellow>2<color>个，领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！！",""	CheckTimeFrame:"OpenLevel150",1,"该选项需要服务器开放150等级上限后均可开放！"	CheckTaskEq:166,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:174,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:175,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:190,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:216,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	CheckTaskEq:199,0,"您已经领取过4988元的充值奖励，不要太贪心啊！",""	SetTask:216,1	AddBuyItemSum:2,25	SetMsg:0,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	SetMsg:2,"恭喜您已成功领取<color=yellow>充值无价至尊大礼包<color>的优惠奖励！"	AddTitle:"6,89,1,9"				CheckPayIsAction:1	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"					
97	1	2个充值优惠乾坤袋	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>2个充值优惠乾坤袋<color>奖励吗？领取后就不能领取其他奖励了。<enter><color=green>（充值优惠乾坤袋：获得8玄/9玄/10玄/同伴特殊秘籍[同伴技能+1]四种奖励中的一种）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:2,"领奖需要<color=yellow>2格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,718,1",2,1,""	SetMsg:0,"恭喜您成功领取了本月充值<color=yellow>充值荣耀礼包充值乾坤袋<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值<color=yellow>充值荣耀礼包充值乾坤袋<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	2	3次优惠购买机会[秦陵·和氏璧]	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>购买3个秦陵·和氏璧资格<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""						SetTask:153,1	AddBuyHeShiBiSum:3	SetMsg:0,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>优惠购买和氏璧机会<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>优惠购买和氏璧机会<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	3	3个中级祈福令牌	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>3个中级祈福令牌<color>奖励吗？领取后就不能领取其他奖励了。<enter><color=green>（中级祈福令牌：每个获得200点祈福声望和10次祈福机会，更快速积累祈福声望，可用于购买祈福护身符[激活所有首饰的暗属性]等装备）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:3,"领奖需要<color=yellow>3格<color>背包空间，去整理下再来！",""					SetTask:153,1	SetMsg:0,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>中级祈福令牌<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>中级祈福令牌<color>奖励！"	SetAwardId:16	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	4	30个昏暗封印·真元	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>昏暗封印·真元30个<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	SetMsg:0,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>昏暗封印·真元30个<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>昏暗封印·真元30个<color>奖励！"	AddItem:"18,1,1025,2",30,1,""	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	5	1个[同伴]纤纤（六技能）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[同伴]纤纤（六技能）<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,666,9",1,1,""	SetMsg:0,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>[同伴]纤纤（六技能）<color>奖励！"	SetMsg:2,"恭喜您成功领取了本月充值荣耀礼包的<color=yellow>[同伴]纤纤（六技能）<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	6	1个[宠物宝箱]财宝兔（7天）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>【宠物宝箱】财宝兔（7天）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,1748,1",1,0,43200	SetMsg:0,"恭喜您成功领取充值荣耀礼包的【宠物宝箱】财宝兔（7天）奖励！"	SetMsg:2,"恭喜您成功领取充值荣耀礼包的【宠物宝箱】财宝兔（7天）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	7	1个[护体真元]叶静（六技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[护体真元]叶静（六技能同伴凝聚）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取该项奖励，不能再领了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:153,1	AddItem:"18,1,712,6",1,1,""	SetMsg:0,"恭喜您成功领取充值荣耀礼包的[护体真元]叶静（六技能）奖励！"	SetMsg:2,"恭喜您成功领取充值荣耀礼包的[护体真元]叶静（六技能）奖励！<enter>"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	8	1次购买机会[储物箱扩展令牌Lv3]	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>50000金币购买第四页储物箱的资格<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:988,"您本月累计充值不足988元，不能领奖！",""						SetTask:153,1	AddBuyItemSum:1,21	SetMsg:0,"恭喜您成功领取充值荣耀礼包的金币购买第四页储物箱的资格奖励！"	SetMsg:2,"恭喜您成功领取充值荣耀礼包的金币购买第四页储物箱的资格奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	9	1个[同伴]东方若寒（经验技能）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[同伴]东方若寒（经验技能）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:988,"您本月累计充值不足988元，不能领奖！",""						SetTask:153,1	AddItem:"18,1,729,1",1,1,""	SetMsg:0,"恭喜您成功领取充值荣耀礼包的[同伴]东方若寒（经验技能）奖励！"	SetMsg:2,"恭喜您成功领取充值荣耀礼包的[同伴]东方若寒（经验技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
97	10	500个游龙古币	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>500个游龙古币<color>吗？领取后就不能领取其他奖励了。<enter><color=green>（游龙古币：累积一定数量可在【龙五太爷】处兑换获得白银/黄金装备/高级秘籍/高级阵法/同伴道具等稀有物品。）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:153,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:988,"您本月累计充值不足988元，不能领奖！",""						SetTask:153,1	AddItem:"18,1,553,1",500,1,""	SetMsg:0,"恭喜您成功领取充值荣耀礼包的<color=yellow>游龙古币500枚<color>奖励！"	SetMsg:2,"恭喜您成功领取充值荣耀礼包的<color=yellow>游龙古币500枚<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	1	2个充值优惠乾坤袋	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>2个充值优惠乾坤袋<color>奖励吗？领取后就不能领取其他奖励了。<enter><color=green>（充值优惠乾坤袋：获得8玄/9玄/10玄/同伴特殊秘籍[同伴技能+1]四种奖励中的一种）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:2,"领取奖励需要<color=yellow>2格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	AddItem:"18,1,718,1",2,1,""	SetMsg:0,"恭喜您成功领取<color=yellow>充值尊贵礼包的充值乾坤袋<color>奖励！"	SetMsg:2,"恭喜您成功领取<color=yellow>充值尊贵礼包的充值乾坤袋<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	2	3个中级祈福令牌	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>3个中级祈福令牌<color>奖励吗？领取后就不能领取其他奖励了。<enter><color=green>（中级祈福令牌：每个获得200点祈福声望和10次祈福机会，更快速积累祈福声望，可用于购买祈福护身符[激活所有首饰的暗属性]等装备）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:3,"领取奖励需要<color=yellow>3格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	SetAwardId:16	SetMsg:0,"恭喜您成功领取充值尊贵礼包的3个<color=yellow>中级祈福令牌<color>奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的3个<color=yellow>中级祈福令牌<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	3	2次8折购买机会[秦陵·和氏璧]	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>购买和氏璧机会的<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddBuyHeShiBiSum:2	SetMsg:0,"恭喜您成功领取充值尊贵礼包的优惠<color=yellow>购买2个和氏璧<color>的资格奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的优惠<color=yellow>购买2个和氏璧<color>的资格奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	4	500个游龙古币	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>500个游龙古币<color>奖励吗？领取后就不能领取其他奖励了。<enter><color=green>（游龙古币：累积一定数量可在【龙五太爷】处兑换获得白银/黄金装备/高级秘籍/高级阵法/同伴道具等稀有物品。）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:1,"领取奖励需要<color=yellow>1格<color>背包空间，去整理下再来吧！",""					SetTask:152,1	AddItem:"18,1,553,1",500,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的<color=yellow>500游龙古币<color>奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的<color=yellow>500游龙古币<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	5	1个[同伴]萧不实（五技能）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[同伴]萧不实（五技能）<color>奖励吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""	CheckFreeBag:1,"领取奖励需要1格背包空间，去整理下再来吧！",""					SetTask:152,1	AddItem:"18,1,666,2",1,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的<color=yellow>[同伴]萧不实（五技能）<color>奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的<color=yellow>[同伴]萧不实（五技能）<color>奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	6	1个[护体真元]宝玉（五技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[护体真元]宝玉（五技能同伴凝聚）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"18,1,712,3",1,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的[护体真元]宝玉（五技能）奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的[护体真元]宝玉（五技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	7	1个[护体真元]叶静（五技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[护体真元]叶静（五技能同伴凝聚）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"18,1,712,4",1,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的[护体真元]叶静（五技能）奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的[护体真元]叶静（五技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	8	1个[护体真元]紫苑（五技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[护体真元]紫苑（五技能同伴凝聚）<color>吗？领取后就不能领取其他奖励了。","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"18,1,712,7",1,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的[护体真元]紫苑（五技能）奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的[护体真元]紫苑（五技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	9	1个同伴经验书·箱（内含150本）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>1个同伴经验书·箱（内含150本）<color>吗？领取后就不能领取其他奖励了。<enter><color=green>（同伴经验书（箱）：同伴道具，使用后可以增加同伴或真元的经验值，1箱包含150本同伴经验书）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"18,1,716,1",1,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的同伴经验书·箱（内含150本）奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的同伴经验书·箱（内含150本）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
98	10	1颗点逸石（可交易）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>1颗点逸石<color>吗？领取后就不能领取其他奖励了。<enter><color=green>（点逸石（可交易）：特殊宝石，镶嵌在防具特殊孔，杀死敌人经验增加+5%）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:152,0,"您已经领取过该项奖励，不能在领奖了！",""	CheckMonthPay:588,"您本月累计充值不足588元，不能领奖！",""						SetTask:152,1	AddItem:"24,1,37,1",1,0,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的特殊经验宝石奖励！"	SetMsg:2,"恭喜您成功领取充值尊贵礼包的特殊经验宝石奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	1	1个充值优惠乾坤袋	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>1个充值优惠乾坤袋<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！<enter><color=green>(充值优惠乾坤袋：获得8玄/9玄/10玄/同伴特殊秘籍[同伴技能+1]四种奖励中的一种)<color>","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,718,1",1,1,""	SetMsg:0,"恭喜您成功领取充值极致礼包的充值优惠乾坤袋奖励！"	SetMsg:2,"恭喜您成功领取充值极致礼包的充值优惠乾坤袋奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	2	200个游龙古币	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>200个游龙古币<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！<enter><color=green>（游龙古币：累积一定数量可在【龙五太爷】处兑换获得白银/黄金装备/高级秘籍/高级阵法/同伴道具等稀有物品。）<color>","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,553,1",200,1,""	SetMsg:2,"恭喜您成功领取充值极致礼包的200游龙古币奖励！"	SetMsg:0,"恭喜您成功领取充值极致礼包的200游龙古币奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	3	50次1折购买机会[黄金智慧精华]	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>一折购买50个黄金智慧精华资格<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1		CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckTaskEq:173,0,"您已经领取了购买精华液资格，请勿重复领取！",""				SetTask:173,1	SetMsg:0,"恭喜您成功领取充值极致礼包的一折购买黄金智慧精华资格！"	SetMsg:2,"恭喜您成功领取充值极致礼包的一折购买黄金智慧精华资格！"	AddBuyItemSum:50,3	SetTask:158,1	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"									
99	4	1个菩提果	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>菩提果<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,564,2",1,1,""	SetMsg:0,"恭喜您成功领取充值极致礼包的菩提果奖励！"	SetMsg:2,"恭喜您成功领取充值极致礼包的菩提果奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	5	1个[真元]夏小倩（四技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[真元]夏小倩（四技能同伴凝聚）<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,712,9",1,1,""	SetMsg:0,"恭喜您成功领取充值极致礼包的[真元]夏小倩（四技能）奖励！"	SetMsg:2,"恭喜您成功领取充值极致礼包的[真元]夏小倩（四技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	6	1个[真元]紫苑（四技能同伴凝聚）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[真元]紫苑（四技能同伴凝聚）<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,712,10",1,1,""	SetMsg:0,"恭喜您成功领取充值极致礼包的[真元]紫苑（四技能）奖励！"	SetMsg:2,"恭喜您成功领取充值极致礼包的[真元]紫苑（四技能）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
99	7	1个[同伴]夏侯小小（四技能）	npc_getaward		0	0		AddSelect:"您确定领取<color=yellow>[同伴]夏侯小小（四技能）<color>奖励吗？领取后就不能领取<color=yellow>其他奖励<color>了！","确定"		CheckPayIsAction:1	CheckTaskEq:158,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""	CheckFreeBag:1,"领奖需要<color=yellow>1格<color>背包空间，去整理下再来！",""					SetTask:158,1	AddItem:"18,1,666,1",1,1,""	SetMsg:0,"恭喜您成功领取充值极致礼包的<color=yellow>[同伴]夏侯小小（四技能<color>）奖励！"	SetMsg:2,"恭喜您成功领取充值极致礼包的<color=yellow>[同伴]夏侯小小（四技能<color>）奖励！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"										
100	1	充值50元奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能领奖！",""	CheckTaskEq:149,0,"不能领奖，您已经领取过充值达<color=yellow>50元<color>的奖励！",""	CheckFreeBag:14,"领奖需要<color=yellow>14格<color>背包空间，去整理下再来！",""					SetTask:149,1	SetAwardId:18	AddItem:"18,1,524,1",10,1,""	AddItem:"18,1,544,6",5,1,""	AddItem:"18,1,736,1",1,1,""	AddItem:"18,1,541,6",3,1,""	AddItem:"18,1,525,1",2,1,""	AddItem:"18,1,205,1",750,1,""	SetAwardId:28	SetMsg:0,"恭喜您成功领取充值幸福礼包的奖励！"	SetMsg:2,"恭喜您成功领取充值幸福礼包的奖励！"	AddItem:"18,1,258,1",2,1,""	AddItem:"18,1,1701,1",1,1,"2012/10/01/00/01"	SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,510,1\",2,1);<enter>EventManager.tbChongZhiEvent:GetData(1);"	
100	2	充值188元奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckTaskEq:150,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:188,"您本月累计充值不足<color=yellow>188元<color>，不能领奖！",""		CheckFreeBag:14,"领奖需要<color=yellow>14格<color>背包空间，去整理下再来！",""				SetTask:150,1	SetAwardId:18	AddItem:"18,1,524,1",20,1,""	SetMsg:2,"恭喜你成功领取了充值极致礼包的奖励。"	SetMsg:0,"恭喜你成功领取了充值极致礼包的奖励。"	AddItem:"18,1,1700,1",3,1,43200	AddItem:"18,1,205,1",750,1,""	AddItem:"18,1,544,6",5,1,""	SetAwardId:28	AddItem:"18,1,1025,2",3,1,""	AddItem:"18,1,1198,1",1,1,""	AddItem:"18,1,1805,1",1,1,43200	AddItem:"18,1,510,1",3,1,""	SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,1806,1\",1,1,43200);<enter>EventManager.tbChongZhiEvent:GetData(1);<enter>"	
100	3	充值588元基本奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckTaskEq:155,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:588,"您本月累计充值不足<color=yellow>588元<color>，不能领奖！",""		CheckFreeBag:14,"领奖需要<color=yellow>14格<color>背包空间，去整理下再来！",""				SetTask:155,1	AddItem:"18,1,524,1",30,1,""	AddItem:"18,1,205,1",1500,1,""	SetMsg:0,"恭喜您成功领取充值尊贵礼包的奖励！"	SetMsg:4,"成功领取了含有<color=red>100%传承优惠符、游龙古币、玫瑰情缘<color>等道具的<color=green>充值尊贵礼包<color>。"	SetAwardId:28	AddItem:"18,1,718,1",1,1,""	AddItem:"1,12,10,4",1,0,57600	AddItem:"18,1,553,1",200,1,""	AddItem:"18,1,1700,1",2,1,43200	AddItem:"18,1,1198,1",1,1,""	AddItem:"18,1,1702,1",1,1,"2012/10/01/00/01"	AddItem:"18,1,1655,1",1,1,43200	SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,1805,1\",2,1,43200);<enter>EventManager.tbChongZhiEvent:GetData(1);<enter>EventManager:ExeFun(\"SetMsg\", 3, \"<%me.szName%>成功领取了含有<color=red>100%传承优惠符、游龙古币、玫瑰情缘<color>等道具的<color=green>充值尊贵礼包<color>。\");<enter>"	
100	4	充值988元基本奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckTaskEq:162,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:988,"您本月累计充值不足<color=yellow>988元<color>，不能领奖！",""	CheckFreeBag:13,"领奖需要<color=yellow>13格<color>背包空间，去整理下再来！",""					SetTask:162,1	SetMsg:0,"恭喜您成功领取了含有稀世坐骑-吉祥虎、玫瑰情缘、月光宝盒等道具的充值荣耀礼包!"	SetMsg:3,"<%me.szName%>成功领取了含有<color=red>稀世坐骑-吉祥虎、玫瑰情缘、月光宝盒<color>等道具的<color=green>充值荣耀礼包<color>。"	SetAwardId:28	AddItem:"18,1,924,1",2,1,43200	AddItem:"18,1,1706,1",1,0,57600	AddItem:"18,1,718,1",1,1,""	AddItem:"18,1,1700,1",3,1,43200	AddItem:"18,1,1764,1",1,0,14400	AddItem:"18,1,1198,1",3,1,""	AddItem:"18,1,553,1",200,1,""	AddItem:"18,1,1657,1",1,1,43200	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"	SetMsg:4,"成功领取了含有<color=red>稀世坐骑-吉祥虎、玫瑰情缘、月光宝盒<color>等道具的<color=green>充值荣耀礼包<color>"	
100	5	充值1000元以上绑金返还领取	npc_getaward		0	0				CheckPayIsAction:1	CheckMonthPay:1000,"您本月累计充值不足<color=yellow>1000元<color>，不能领奖！",""							AddExBindCoinByPay:154,1000,0,20	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"													
100	6	充值4988元基本奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckTaskEq:217,0,"您已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:4988,"您本月累计充值不足<color=yellow>4988元<color>，不能领奖！",""						SetTask:217,1	SetMsg:0,"恭喜您成功领取充值无价至尊大礼包的奖励！"	SetMsg:2,"恭喜您成功领取无价至尊大礼包的奖励！"	AddBuyItemSum:1,12	AddBuyItemSum:1,24	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"									
100	7	充值1988元基本奖励领取	npc_getaward		0	0				CheckPayIsAction:1	CheckTaskEq:218,0,"你已经领取过该项奖励，不能再领奖了！",""	CheckMonthPay:1988,"您本月累计充值不足<color=yellow>1988元<color>，不能领奖！",""	CheckFreeBag:4,"领奖需要<color=yellow>4格<color>背包空间，去整理下再来！",""					SetTask:218,1	SetMsg:0,"恭喜您成功领取尊享礼包的奖励！"	SetMsg:3,"<%me.szName%>成功领取了含有<color=red>尊贵坐骑-绝世雪羽、超富跟宠-财宝兔、玫瑰情缘、月光宝盒<color>等道具的<color=green>充值尊享礼包<color>。"	AddItem:"18,1,1725,1",1,0,43200	AddItem:"18,1,1765,1",1,0,43200	AddItem:"18,1,1749,1",1,1,57600	AddItem:"18,1,1786,1",1,0,14400	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"	SetMsg:4,"成功领取了含有<color=red>尊贵坐骑-绝世雪羽、超富跟宠-财宝兔、玫瑰情缘、月光宝盒<color>等道具的<color=green>充值尊享礼包<color>。"						
101	1	<color=yellow>充值优惠领奖激活<color>	npc_getaward		0	0		AddSelect:"您确定激活当前角色的领奖资格么？激活后其他角色就不可以领奖了！","确定"				CheckMonthPay:50,"您本月累计充值不足<color=yellow>50元<color>，不能激活领奖资格！",""						SetPayAction:1		SetMsg:0,"恭喜您成功激活了当前角色本月的领奖资格！"	SetMsg:2,"恭喜您成功激活了当前角色本月的领奖资格！"	SetLuaScript:"EventManager.tbChongZhiEvent:GetValue(1);<enter>"	SetLuaScript:"EventManager.tbChongZhiEvent:GetData(1);<enter>"									
101	2	<color=yellow>参加本月充值促销活动<color>	npc_getaward		0	0	Npc:2601,0											SetLuaScript:"EventManager.tbChongZhiEvent:ApplyOpenPayAward();<enter>"														
102	1	2012年9月充值抽奖活动	npc_getaward		0	0	Npc:2601											SetLuaScript:"NewLottery:OnDialog();<enter>"														
102	2	九月抽奖	default		0	0												SetLotteryDataEx:"九月充值",201209200000,201209300000														
103	1	9级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""				CheckGTask:2139,8,1,"您已经领取过了！",""	CheckLevel:9,"您的等级不足9级！",""	CheckFreeBag:1,"背包空间不足，需要空出1格背包！",""					AddTitle:"6,43,1,9"	AddItem:"18,1,339,1",1,1,""	SetGTask:2139,8,1	GoToEvent:9											
103	2	19级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""			CheckGTask:2139,9,1,"您已经领取过了！",""	CheckLevel:19,"您的等级不足19级！",""	CheckFreeBag:20,"背包空间不足，需要空出20格背包！",""	CheckBindMoneyMax:100000,"您携带的绑定银两即将达到上限，请整理下！",0					AddBindMoney:100000	AddItem:"18,1,71,2",20,1,""	SetGTask:2139,9,1	GoToEvent:9											
103	3	29级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""				CheckGTask:2139,10,1,"您已经领取过了！",""	CheckLevel:29,"您的等级不足29级！",""	CheckFreeBag:1,"背包空间不足，需要空出1格背包！",""					AddItem:"18,1,85,1",1,1,""	AddBindCoin:3000	SetGTask:2139,10,1	GoToEvent:9											
103	4	39级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""				CheckGTask:2139,11,1,"您已经领取过了！",""	CheckLevel:39,"您的等级不足39级！",""	CheckFreeBag:12,"背包空间不足，需要空出12格背包！",""					AddItem:"18,1,71,2",10,1,""	AddItem:"18,1,212,1",2,1,""	SetGTask:2139,11,1	GoToEvent:9											
103	5	49级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""			CheckGTask:2139,12,1,"您已经领取过了！",""	CheckFreeBag:3,"背包空间不足，需要空出3格背包！",""	CheckBindMoneyMax:1000000,"您携带的绑定银两即将达到上限，请整理下！",0	CheckLevel:9,"您的等级不足9级！",""					AddBindMoney:1000000	AddItem:"18,1,114,6",3,1,43200	SetGTask:2139,12,1	GoToEvent:9											
103	6	59级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""			CheckGTask:2139,13,1,"您已经领取过了！",""	CheckLevel:59,"您的等级不足59级！",""		CheckFreeBag:5,"背包空间不足，需要空出5格背包！",""					AddItem:"18,1,933,1",4,1,""	AddItem:"1,12,27,4",1,1,4320	SetGTask:2139,13,1	GoToEvent:9											
103	7	69级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""			CheckGTask:2139,14,1,"您已经领取过了！",""	CheckLevel:69,"您的等级不足69级！",""		CheckFreeBag:3,"背包空间不足，需要空出3格背包！",""					AddItem:"18,1,244,2",1,1,""	AddItem:"18,1,114,7",2,1,43200	SetGTask:2139,14,1	GoToEvent:9											
103	8	79级奖励	item_useitem		0	0	ItemGId:"18,1,709,1","",0,0,""			CheckGTask:2139,15,1,"您已经领取过了！",""	CheckLevel:79,"您的等级不足79级！",""	CheckBindMoneyMax:2000000,"您携带的绑定银两即将达到上限，请整理下！",0		CheckFreeBag:10,"背包空间不足，需要空出10格背包！",""				AddBindMoney:2000000	AddItem:"18,1,71,3",10,1,""	SetGTask:2139,15,1	GoToEvent:9											
103	9	删除道具			0	0												SetLuaScript:"print(it.szName,me.szName)<enter>for i = 8, 15 do<enter>  if me.GetTask(2139,i) == 0 then<enter>     return 0;<enter>  end<enter>end<enter>it.Delete(me);<enter>return 0;"														
104	1	铸造黄金龙	npc_getaward		0	0	Npc:3561			CheckLevel:60,"您的等级不足60，还是提升下再来吧！",""								SetAwardIdUi:38,0														
104	2	铸造白银龙	npc_getaward		0	0	Npc:3561			CheckLevel:60,"您的等级不足60，还是提升下再来吧！",""								SetAwardIdUi:39,0														
104	3	小怪掉落龙形模具	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckNpcLevel:65,1	CheckNpcType:0							SetDropItemId:22,1														
104	4	首领掉落	boss_dropitem		0	0	DropNpcType:"_SHOULING"			CheckNpcLevel:65,1								SetDropItemId:24,5														
104	5	精英掉落	boss_dropitem		0	0	DropNpcType:"_JINGYING"			CheckNpcLevel:65,1	CheckRandom:50,100,""							SetDropItemId:24,2														
104	6	宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""											SetLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>local tbTemp = EventManager:GetTempTable();<enter>if nGrade >= 3000 then<enter>   tbTemp.nState = 1;  <enter>   return 0;<enter>end<enter>return 1;"	GoToEvent:9													
104	7	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""											SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>tbTemp.nState = 1;<enter>return 0;"	GoToEvent:9													
104	8	老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""											SetLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbLaoBao[1]) or 0;<enter>local tbTemp = EventManager:GetTempTable();<enter>if nGrade >= 50 then<enter>   tbTemp.nState = 1;  <enter>   return 0;<enter>end<enter>return 1;"	GoToEvent:9													
104	9	统一接口			0	0												SetLuaScript:"local tbTemp = EventManager:GetTempTable();<enter>if tbTemp.nState == 1 then<enter>  EventManager:ExeFun(\"AddItem\",\"18,1,1031,1\",5,0,0); <enter>end<enter>return 0;"														
104	10	银龙商店	npc_getaward		0	0	Npc:3561											SetLuaScript:"me.OpenShop(180,1)"														
104	11	查询已使用的龙数量	npc_getaward		0	0	Npc:3561											SetLuaScript:"SpecialEvent.tbVnBaiYinLong:OnDialog()"														
105	1	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""											SetLuaScript:"local tbXoYoGame = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFloor = tonumber(tbXoYoGame[1]);<enter>if nFloor ~= 5 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",1,1,0); <enter>return 0;"														
105	2	商会	action_finishtask		0	0	TaskFinish:"MerchantTask",1,""											AddItem:"18,1,1023,1",10,1,""														
105	3	军营	action_finishtask		2010/09/01/00/00	2010/09/01/00/00	TaskFinish:"ArmyCampTask",1,""											SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",1,1,0); <enter>return 0;"														
105	4	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""											SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFloor = tonumber(tbBaiHu[2]);<enter>if nFloor ~= 3 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",1,1,0); <enter>return 0;"														
105	5	联赛	action_finishtask		2010/10/01/00/00	2010/10/01/00/00	TaskFinish:"Wlls",1,""											SetLuaScript:"EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",1,1,0); <enter>return 0;"														
105	6	门派竞技	action_finishtask		0	0	TaskFinish:"FactionBattle",0,"local tbMenPai = EventManager:GetLibTable().tbTaskFinishArg;<enter>return tonumber(tbMenPai[3]) *4;"											SetLuaScript:"local tbMenPai = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nNum = tonumber(tbMenPai[3]) * 4;<enter>if nNum <= 0 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",nNum,1,0); <enter>return 0;"														
105	7	家族周目标	action_finishtask		0	0	TaskFinish:"KinWeekAction",0,"local tbKin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nNum = tonumber(tbKin[1]);<enter>return nNum;"											SetLuaScript:"local tbKin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nNum = tonumber(tbKin[1]);<enter>if nNum <= 0 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1023,1\",nNum,1,0); <enter>return 0;"														
106	1	教师节材料商店	npc_getaward		0	0	Npc:3565											OpenShop:180,1,100														
106	2	写历史书	npc_getaward		0	0	Npc:3565			CheckLevel:60,"你的等级不足60级！",""								SetAwardIdUi:41,""														
106	3	写地理书	npc_getaward		0	0	Npc:3565			CheckLevel:60,"你的等级不足60级！",""								SetAwardIdUi:40,""														
106	4	查询已使用的书数量	npc_getaward		0	0	Npc:3565											SetLuaScript:"SpecialEvent.tbVnTeacher:OnDialog()"														
106	5	宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""											SetLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>if nGrade >= 3000 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,1056,1\",5,0,0); <enter>   return 0;<enter>end<enter>return 1;"														
106	6	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""											AddItem:"18,1,1056,1",5,0,""														
106	7	老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""											SetLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nCount = tonumber(tbLaoBao[1]) or 0;<enter>if nCount >= 50 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,1056,1\",5,0,0); <enter>   return 0;<enter>end<enter>return 1;"														
106	8	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""											SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFloor = tonumber(tbBaiHu[2]) or 0;<enter>if nFloor >= 1 and nFloor <= 3 then<enter>   EventManager:ExeFun(\"AddItem\",\"18,1,1056,1\",nFloor,0,0); <enter>   return 0;<enter>end<enter>return 1;"														
106	9	小怪掉落	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckNpcLevel:65,1								SetDropItemId:25,1														
107	1	杂货店	npc_getaward		0	0	Npc:6723											OpenShop:177,1,100														
108	1	击杀精英怪	boss_dropitem		0	0	DropNpcType:"_JINGYING"			CheckNpcLevel:85,1								SetDropItemId:28,1														
108	2	击杀首领怪	boss_dropitem		0	0	DropNpcType:"_SHOULING"			CheckNpcLevel:85,1								SetDropItemId:28,1														
108	3	军营剧情任务	action_finishtask		0	0	TaskFinish:"ArmyCampTask",1,""											AddItem:"18,1,1099,1",1,1,""														
108	4	换绑金雪人	npc_getaward		0	0	Npc:7230			CheckTaskDay:5,191,192,"谢谢哥哥姐姐，今天我已经收到足够的礼物，请您明天再来吧~^_^",""	CheckFreeBag:1,"您的背包空间不够，必须需要1格背包空间！",""	CheckItemInBag:"18,1,1099,1",1,0,"快去通过活动获得香喷喷的圣诞火鸡来送给我吧~",""	CheckLevel:60,"请先加入门派并且等级大于60级再来找我吧。",""	CheckFaction:13,"请先加入门派并且等级大于60级再来找我吧。",""				AddTaskDay:191,192	DelItem:"18,1,1099,1",1	AddItem:"18,1,1100,1",1,1,1440												
108	5	换绑银雪人	npc_getaward		0	0	Npc:7230			CheckTaskDay:5,191,192,"谢谢哥哥姐姐，今天我已经收到足够的礼物，请您明天再来吧~^_^",""	CheckFreeBag:1,"您的背包空间不够，必须需要1格背包空间！",""	CheckItemInBag:"18,1,1099,1",1,0,"快去通过活动获得香喷喷的圣诞火鸡来送给我吧~",""	CheckLevel:60,"请先加入门派并且等级大于60级再来找我吧。",""	CheckFaction:13,"请先加入门派并且等级大于60级再来找我吧。",""				AddTaskDay:191,192	DelItem:"18,1,1099,1",1	AddItem:"18,1,1100,2",1,1,1440												
108	6	活动介绍	npc_getaward		0	0	Npc:7230											SetMsg:1,"   在充满祥和喜庆的日子里，你可以通过参加军营、逍遥谷、白虎堂、击杀野外精英首领、联赛和门派竞技获得香喷喷的火鸡。把它送给我可以换取高额绑金或绑银。活动将于<color=yellow>1月2日<color>截止，千万不要错过哦。<enter>   圣诞老爷爷每天<color=yellow>12:45、13:45、18:45、19:45、20:45<color>将会在临安、大理中心广场出现，并绕城一周送出祝福，紧跟圣诞老人将会有意想不到的收获哦。"														
108	7	逍遥过三关	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if (nLevel == 3) then<enter>return 0;<enter>end<enter>return 1;",""								AddItem:"18,1,1099,1",1,1,""														
108	8	白虎堂过二层	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 1) then<enter>return 0;<enter>end<enter>return 1;",""								AddItem:"18,1,1099,1",1,1,""														
108	9	门派竞技	action_finishtask		0	0	TaskFinish:"FactionBattle",1,""											SetLuaScript:"local tbMenPai = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nNum = tonumber(tbMenPai[3]);<enter>if nNum <= 0 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1099,1\",nNum,1,0); <enter>return 0;"														
108	10	武林联赛	action_finishtask		0	0	TaskFinish:"Wlls",1,""											AddItem:"18,1,1099,1",1,1,""														
108	11	堆绑金雪人	item_useitem		0	0	ItemGId:"18,1,1100,1",0,0,1,""			CheckInMapType:"city",0,"该道具只能在各大主城使用",""	CheckLuaScript:"return EventManager:CheckFun(\"AddNpcInNear\");",""							SetLuaScript:"local tbNpcList = {7249, 7251, 7252, 7253, 7254, 7255};<enter>local nMapId, nPosX, nPosY = me.GetWorldPos();<enter>local nRand = MathRandom(1,#tbNpcList);<enter>local nNpcId = tbNpcList[nRand];<enter>EventManager:ExeFun(\"AddNpcInNear\",nNpcId, 900, 1, \"\");"	SetAwardId:47	SetAwardId:48												
108	12	堆绑银雪人	item_useitem		0	0	ItemGId:"18,1,1100,2",0,0,1,""			CheckInMapType:"city",0,"该道具只能在各大主城使用",""	CheckLuaScript:"return EventManager:CheckFun(\"AddNpcInNear\");",""							SetLuaScript:"local tbNpcList = {7249, 7251, 7252, 7253, 7254, 7255};<enter>local nMapId, nPosX, nPosY = me.GetWorldPos();<enter>local nRand = MathRandom(1,#tbNpcList);<enter>local nNpcId = tbNpcList[nRand];<enter>EventManager:ExeFun(\"AddNpcInNear\",nNpcId, 900, 1, \"\");"	SetAwardId:47	SetAwardId:49												
109	1	酿酒	npc_getaward		0	0	Npc:7222			CheckLevel:69,"你的等级不足69级！",""								SetAwardIdUi:46,""														
109	2	add卖火柴小妹	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",0,""			CheckNpcLevel:65,1								SetLuaScript:"local nMapId,nX,nY = him.GetWorldPos();<enter>for i=1, 2 do<enter>  SpecialEvent.tbVnChristmas:CallRabbit(nMapId, nX*32, nY*32, 6722);<enter>end<enter>return 0;"														
109	3	摘果实	npc_getaward		0	0	Npc:7222											SetLuaScript:"SpecialEvent.tbZaiGuoShi:OnDialog()"														
110	3	兑换圣诞礼盒	npc_getaward		0	0	Npc:3571	AddSelect:"你有没有集齐的boss令牌手册呢？我这里有丰富的奖励，需要兑换吗？","兑换"		CheckGTaskEq:2147,1,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2147,2,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2147,3,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2147,4,1,"你确定你已经收集齐五行令牌了吗？",""	CheckGTaskEq:2147,5,1,"你确定你已经收集齐五行令牌了吗？",""				SetAwardId:27	SetLuaScript:"for i =1, 5 do<enter>   me.SetTask(2147,i,0);<enter>end<enter>"													
111	1	元旦烟花	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckInMapType:"fight",0,"",""								SetDropItemId:29,1														
114	1	点击完成登记信息	npc_getaward		0	0	Npc:2601			CheckPayIsAction:1	CheckTaskEq:197,0,"您已经完成了信息登记，希望您能好运中奖！",""	CheckMonthPay:100,"您本月累计充值不足<color=yellow>100元<color>，不能进行抽奖登记！",""						WriteLog:"冲100促销"	SetTask:197,1	SetMsg:0,"您已经完成了信息登记，希望您能好运中奖！"	SetMsg:2,"您已经完成了信息登记，希望您能好运中奖！"											
116	1	地图召唤NPC	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(108,4);<enter>if tbTemp.nNpcId then<enter>   return 0;<enter>end<enter>if SubWorldID2Idx(25) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 25, 1654, 3163);<enter>end<enter>if SubWorldID2Idx(23) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 23, 1582, 3102);<enter>end<enter>if SubWorldID2Idx(27) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 27, 1631, 3223);<enter>end<enter><enter>if SubWorldID2Idx(28) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 28, 1506, 3272);<enter>end<enter>if SubWorldID2Idx(26) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 26, 1598, 3198);<enter>end<enter>if SubWorldID2Idx(29) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 29, 1647, 3939);<enter>end<enter>if SubWorldID2Idx(24) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 24, 1782, 3542);<enter>end<enter><enter>tbTemp.nNpcId = 1;<enter>"														
116	2	<color=yellow>探索寒武遗迹<color>	npc_getaward		0	0	Npc:7230											SetLuaScript:"Npc:GetClass(\"dataosha_city\"):OnDialog()"														
116	3	<color=yellow>寒武勇士大猜想<color>	npc_getaward		2011/09/28/00/00	2011/10/19/00/00	Npc:7230,0											SetLuaScript:"SpecialEvent.Dts_Vote:Vote()"														
116	4	<color=yellow>五一开心乐翻天<color>	npc_getaward		2012/04/26/00/00	2012/05/03/00/00	Npc:7230											SetLuaScript:"Npc:GetClass(\"dataosha_city\"):BuyAge()"														
117	1	新年杂货店	npc_getaward		0	0	Npc:6723											OpenShop:177,1,100														
117	2	合成五果白银盘	npc_getaward		0	0	Npc:6723			CheckLevel:65,"你的等级不足65级。",""								SetAwardIdUi:50,""														
117	3	合成五果黄金盘	npc_getaward		0	0	Npc:6723			CheckLevel:65,"你的等级不足65级。",""								SetAwardIdUi:51,""														
117	4	查询使用五果盘数量	npc_getaward		0	0	Npc:6723											SetLuaScript:"SpecialEvent.JanuaryEvent_vn:OnDialog_GP()"														
117	5	查询燃放烟花的数量	npc_getaward		0	0	Npc:6723											SetLuaScript:"SpecialEvent.JanuaryEvent_vn:OnDialog_YH()"														
117	6	查询当天煮粽子数量	npc_getaward		0	0	Npc:6723											SetLuaScript:"SpecialEvent.JanuaryEvent_vn:OnDialog_ZZ()"														
117	7	烟花-老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLevel:60,"",""		CheckLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nCount = tbLaoBao[1] or 0;<enter>if nCount>= 50 then<tab><enter><tab>return 0;<enter>end<enter>return 1;<enter>",""						AddItem:"18,1,1126,1",1,0,""														
117	8	烟花-精英	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:60,"",""	CheckNpcLevel:60,1	CheckNpcType:1	CheckRandom:50,100,""					AddItem:"18,1,1126,1",1,0,""														
117	9	烟花-首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckNpcLevel:60,1	CheckNpcType:2	CheckLevel:60,"",""						AddItem:"18,1,1126,1",1,0,""														
117	10	烟花-宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLevel:60,"",""	CheckLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nCount = tbSongJin[1] or 0;<enter>if nCount>= 3000 then<tab><enter><tab>return 0;<enter>end<enter>return 1;<enter><enter>",""							AddItem:"18,1,1126,1",1,0,""														
117	11	烟花-军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckLevel:60,"",""								AddItem:"18,1,1126,1",1,0,""														
117	12	果篮-老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLevel:65,"",""	CheckLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nCount = tbLaoBao[1] or 0;<enter>if nCount>= 50 then<tab><enter><tab>return 0;<enter>end<enter>return 1;<enter><enter>",""							AddItem:"18,1,1128,1",10,0,""														
117	13	果篮-小怪	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckNpcLevel:65,1	CheckLevel:65,"",""							SetDropItemId:30,1														
117	14	果篮-精英	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:65,"",""	CheckNpcLevel:65,1	CheckNpcType:1	CheckRandom:50,100,""					AddItem:"18,1,1128,1",2,0,""														
117	15	果篮-首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:65,"",""	CheckNpcLevel:65,1	CheckNpcType:2						AddItem:"18,1,1128,1",5,0,""														
117	16	果篮-宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLevel:65,"",""	CheckLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nCount = tbSongJin[1] or 0;<enter>if nCount>= 3000 then<tab><enter><tab>return 0;<enter>end<enter>return 1;<enter><enter>",""							AddItem:"18,1,1128,1",5,0,""														
117	17	果篮-军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""											AddItem:"18,1,1128,1",5,0,""														
117	18	果篮-逍遥	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLevel:65,"",""								AddItem:"18,1,1128,1",1,0,""														
119	1	add白秋林	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"Require(\"\\script\\event\\specialevent\\nianshouseige\\nianshousiege_def.lua\");<enter>SpecialEvent.NianShouSiege = SpecialEvent.NianShouSiege or {};<enter>local tbNianShouSiege = SpecialEvent.NianShouSiege or {};<enter>if SubWorldID2Idx(24) >= 0 and not tbNianShouSiege .nNpcDialogQiuYiId then<enter>     local pNpc = KNpc.Add2(7287, 120, -1, 24, 1786, 3532);<enter>     if pNpc then<enter><tab>tbNianShouSiege .nNpcDialogQiuYiId = pNpc.dwId;<enter>     end<enter>end"														
122	1	领取返还战书	npc_getaward		0	0	Npc:3571,0			CheckFreeBag:1,"你的背包空间不足1格！",""								SetLuaScript:"local nCount = me.GetTask(2106, 10);<enter>local nBatch = me.GetTask(2106, 11);<enter>if nBatch ~= Youlongmibao.nBatch then<enter>   nCount = 0;<enter>end<enter>local nRebackNum = math.floor(nCount/500);<enter>if nRebackNum <= 0 then<tab><enter><tab>Dialog:Say(\"你没有返还的战书。\", {\"我知道了\"});<enter><tab>return 0;<enter>end<enter>if nRebackNum <= nCount%100 then<tab><enter><tab>Dialog:Say(\"你已经领走了返还给你的战书了。\", {\"我知道了\"});<enter><tab>return 0;<enter>end<enter>me.AddStackItem(18, 1, 524, 1, {bForceBind = 1}, nRebackNum - nCount%100);<enter>me.SetTask(2106, 10, nCount - nCount%100 + nRebackNum);<enter>return 0;<enter>"														
123	1	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckGTask:2190,13,10,"",""								SetLuaScript:"local tbXoYoGame = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFloor = tonumber(tbXoYoGame[1]);<enter>if nFloor < 3 then<enter>  return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1690,1\",1,1,0); <enter>return 0;"	AddGTask:2190,13,1													
123	2	官府通缉	action_finishtask		0	0	TaskFinish:"FinishWanted",1,""			CheckGTask:2190,13,10,"",""								AddItem:"18,1,1690,1",1,1,""	AddGTask:2190,13,1													
123	3	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckGTask:2190,13,10,"",""								AddItem:"18,1,1690,1",1,1,""	AddGTask:2190,13,1													
123	4	宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckGTask:2190,13,10,"",""								SetLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>if nGrade < 3000 then<enter>   return 1;<enter>end<enter>EventManager:ExeFun(\"AddItem\",\"18,1,1690,1\",1,1,0); <enter>return 0;"	AddGTask:2190,13,1													
123	5	精英首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckGTask:2190,13,10,"",""								AddItem:"18,1,1690,1",1,1,""	AddGTask:2190,13,1													
124	1	领取植树节道具	npc_getaward		0	0	Npc:3569,0											SetLuaScript:"SpecialEvent.tbZhiShu2011:GetXiWangItem(me.nId)"														
124	2	希望之种商店	npc_getaward		0	0	Npc:3569,0											OpenShop:188,3,100														
126	1	逍遥谷-老玩家每关加经验威望	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"XoyoGame",0,""			CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""							SetLuaScript:"local tbXoyo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbXoyo[1]) or 0;<enter>local tbPrestige = {0,1,2,5,8};<enter>local tbTeamMemberList = KTeam.GetTeamMemberList(me.nTeamId) or {};<enter>local nServercoe = math.min(20, math.max(1, TimeFrame:GetServerOpenDay() - 96));<enter>if #tbTeamMemberList > 1 then<enter><tab>me.AddExp(math.floor(me.GetBaseAwardExp() * 5 * (#tbTeamMemberList -1 + 10 + nLevel + nServercoe)));<enter><tab>me.AddKinReputeEntry((tbPrestige[nLevel] or 8) * 2);<enter>end<enter>return 1;"														
126	2	白虎堂	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"BaiHuTang",0,""			CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""							SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHu[2]) or 0;<enter>local tbTeamMemberList = KTeam.GetTeamMemberList(me.nTeamId) or {};<enter>local nServercoe = math.min(20, math.max(1, TimeFrame:GetServerOpenDay() - 96));<enter>if nLevel > 0 and #tbTeamMemberList > 1 then   <enter><tab>me.AddExp(math.floor(me.GetBaseAwardExp() * 5 * (#tbTeamMemberList -1 + 10 + nLevel + nServercoe)));<enter><tab>me.AddKinReputeEntry(2);<enter><tab>local nTimestamp = me.GetTask(2009,6) --参加白虎的时间戳<enter><tab>for i = 1, #tbTeamMemberList do<enter><tab><tab>local pPlayer = KPlayer.GetPlayerObjById(tbTeamMemberList[i]);<enter><tab><tab>if pPlayer then<enter><tab><tab><tab>local nTime = pPlayer.GetTask(2093,34);<enter><tab><tab><tab>local nLastLevel = pPlayer.GetTask(2093,35);<enter><tab><tab><tab>if GetTime() - nTime >= 1800 then<enter><tab><tab><tab><tab>pPlayer.SetTask(2093,34,GetTime());<enter><tab><tab><tab><tab>nLastLevel = 0;<enter><tab><tab><tab>end<enter><tab><tab>         local nMyTimestamp = pPlayer.GetTask(2009,6);<enter><tab><tab><tab>if me.nId ~= pPlayer.nId and pPlayer.GetTask(2138,143) ~= 1 and nTimestamp == nMyTimestamp and nLastLevel < nLevel then<enter><tab><tab><tab><tab>pPlayer.AddBindCoin(50 * nLevel );<enter><tab><tab><tab><tab>pPlayer.AddBindMoney(5000 * nLevel);<enter><tab><tab><tab><tab>pPlayer.Msg('恭喜你和武林前辈一起参加活动获得丰厚奖励，继续加油哦。');<enter><tab><tab><tab><tab>pPlayer.SetTask(2093,35, nLevel);<enter><tab><tab><tab>end<enter><tab><tab>end<enter><tab>end<enter>end<enter>return 1;"														
126	3	商会	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"MerchantTask",0,""				CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""						AddKinRepute:30	SetLuaScript:"me.AddExp(me.GetBaseAwardExp() * 800);"													
126	4	无尽的征程	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"EverQuest",0,""			CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""							AddKinRepute:15	SetLuaScript:"me.AddExp(me.GetBaseAwardExp() * 240);"													
126	5	大盗-家族	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"FinishWanted",0,""			CheckHaveKin:3,""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""	CheckGTaskEq:2138,143,1,"",""						SetLuaScript:"if me.GetTask(2138,152) < 2  then<enter>       Dbg:WriteLog(\"老玩家完成任务\", \"大盗\", me.szName);<enter><tab>me.SetTask(2138, 152, me.GetTask(2138, 152) + 1);<enter>end"														
126	6	宋金-家族	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"Battle",0,""			CheckHaveKin:3,""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""	CheckGTaskEq:2138,143,1,"",""						SetLuaScript:"if me.GetTask(2138,153) < 2  then<enter>       Dbg:WriteLog(\"老玩家完成任务\", \"宋金\", me.szName);<enter><tab>me.SetTask(2138, 153, me.GetTask(2138, 153) + 1);<enter>end"														
126	7	逍遥谷通关-家族	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"XoyoGameFinish",0,""			CheckGTaskEq:2138,143,1,"",""	CheckHaveKin:3,""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""						SetLuaScript:"if me.GetTask(2138,150) < 2 then<enter>      Dbg:WriteLog(\"老玩家完成任务\", \"逍遥\", me.szName);<enter><tab>me.SetTask(2138, 150, me.GetTask(2138, 150) + 1);<enter>end<enter>return 1;<enter>"														
126	8	白虎堂2层-家族	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"BaiHuTang",0,""			CheckGTaskEq:2138,143,1,"",""	CheckHaveKin:3,""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""						SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHu[2]) or 0;<enter>if nLevel == 2 and me.GetTask(2138,151) < 2  then<enter>       Dbg:WriteLog(\"老玩家完成任务\", \"白虎2层\", me.szName);<enter><tab>me.SetTask(2138, 151, me.GetTask(2138, 151) + 1);<enter>end<enter>return 1;"														
126	9	侠客任务-家族	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"XiaKeDaily",1,""			CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1233,1",1,1,""	AddKinRepute:10	SetLuaScript:"local bKin = EventManager:CheckFun(\"CheckHaveKin\",3);<enter>if me.GetTask(2138,154) < 2 and me.dwKinId > 0 and bKin == 0 then<enter>       Dbg:WriteLog(\"老玩家完成任务\", \"侠客任务\", me.szName);<enter><tab>me.SetTask(2138, 154, me.GetTask(2138, 154) + 1);<enter>end<enter>return 1;"												
126	10	<color=yellow>武林前辈冲新服奖励<color>	npc_getaward		2012/10/08/00/00	2012/12/16/00/00	Npc:2601,0				CheckLuaScript:"return SpecialEvent.tbOldPlayerBack:CheckHaveOldPlayer(1);",""							SetLuaScript:"SpecialEvent.tbOldPlayerBack:OnDialog_New()"														
126	11	<color=yellow>重礼邀江湖前辈重出江湖<color>	npc_getaward		2012/10/08/00/00	2012/11/16/00/00	Npc:2601,0											SetLuaScript:"SpecialEvent.tbOldPlayerBack:OnDialog_Old()"														
126	12	<color=yellow>激活家族奖励<color>	npc_getaward		2012/10/08/00/00	2012/12/16/00/00	Npc:2601,0											SetLuaScript:"SpecialEvent.tbOldPlayerBack:ActivateKinAward()"														
126	13	<color=yellow>领取武林前辈激活家族奖励<color>			2012/10/08/00/00	2012/12/16/00/00	Npc:2601,0											SetLuaScript:"SpecialEvent.tbOldPlayerBack:GetKinAward()"														
126	14	查询武林前辈完成任务情况	npc_getaward		2012/10/08/00/00	2012/12/16/00/00	Npc:2601,0											SetLuaScript:"SpecialEvent.tbOldPlayerBack:QueryKinTaskFinsh()"														
126	15	逍遥最终加新玩家绑金绑银	action_finishtask		2012/10/08/00/00	2012/12/16/00/00	TaskFinish:"XoyoGameFinish",0,""			CheckGTaskEq:2138,143,1,"",""	CheckLuaScript:"local nActivate = me.GetTask(2138,157);<enter>local nNowTime = GetTime();<enter>if nNowTime - nActivate < 30*24*3600 then<enter>  return 0;<enter>end<enter>return 1;",""							SetLuaScript:"local tbXoyo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbXoyo[1]) or 0;<enter>local nDiff = tonumber(tbXoyo[2]) or 0;<enter>local nWinCount = tonumber(tbXoyo[3]) or 0;<enter>local tbLevelStar = {[1] = 1, [3] = 2, [5] = 3, [7] = 4};<enter>local tbTeamMemberList = KTeam.GetTeamMemberList(me.nTeamId) or {};<enter>if nWinCount <= 0 then<enter>  nLevel = 0;<enter>end<enter>nLevel = math.min(nLevel , (tbLevelStar[nDiff] or 10) + nWinCount - 1);<enter>if #tbTeamMemberList > 1 then<enter><tab>if nLevel > 5 then<enter><tab><tab>nLevel = 5;<enter><tab>end<enter><tab>if nLevel > 2 then<tab><enter><tab><tab>for i = 1, #tbTeamMemberList do<enter><tab><tab><tab>local pPlayer = KPlayer.GetPlayerObjById(tbTeamMemberList[i]);<tab><enter><tab><tab><tab>if pPlayer then<enter><tab><tab><tab><tab>local nTime = pPlayer.GetTask(2093,33);<enter><tab><tab><tab><tab>if me.nId ~= pPlayer.nId and pPlayer.GetTask(2138,143) ~= 1 and GetTime() - nTime > 10  then<enter><tab><tab><tab><tab><tab>pPlayer.AddBindCoin(250 * nLevel);<enter><tab><tab><tab><tab><tab>pPlayer.AddBindMoney(25000 * nLevel);<enter><tab><tab><tab><tab><tab>pPlayer.Msg('恭喜你和武林前辈一起参加活动获得丰厚奖励，继续加油哦。');<enter><tab><tab><tab><tab><tab>pPlayer.SetTask(2093,33,GetTime());<enter><tab><tab><tab><tab>end<enter><tab><tab><tab>end<enter><tab><tab>end<enter><tab>end<enter>end<enter>return 1;"														
128	1	制作米饼	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你等级不足65级。",""								SetAwardIdUi:52,""														
128	2	制作粽子	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你的等级不足65级。",""								SetAwardIdUi:53,""														
128	3	兑换活跃礼盒	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你的等级不足65级。",""	CheckGTaskDay:10,2147,32,33,"每天最多只能兑换10个。",""	CheckGTask:2147,34,100,"活动期间最多只能对话100个，机会还是留给别人吧。",""	CheckLuaScript:"if me.dwCurGTP < 1000 or me.dwCurMKP < 1000 then<enter>   return 1,\"您的精活不足，需要精活各1000点。\";<enter>end<enter>return 0;",""					SetAwardIdUi:54,4														
128	4	扣精活			0	0												SetLuaScript:"me.ChangeCurGatherPoint(-1000);<tab>--减1000精力<enter>me.ChangeCurMakePoint(-1000);<tab>--减1000活力"	AddGTaskDay:2147,32,33	AddGTask:2147,34,1	SetLuaScript:"if me.GetTask(2147,34) >= 100 then<enter>   me.AddSkillState(892, 1, 2, 24 *3600*18, 1, 0, 1);<enter>   me.Msg(\"恭喜您兑换了100个活跃礼包，获得强化优惠奖励。\");<enter>end<enter>return 0;"	SetMsg:0,"恭喜你兑换了一个活跃礼盒，同时被扣除了1000精力和1000活力。"										
128	5	出售奔宵马牌	npc_getaward		0	0	Npc:6723,0											SetLuaScript:"SpecialEvent.tbMarchEvent_vn:OnDialog_Horse()"														
128	6	查询已使用粽子和米饼数量	npc_getaward		0	0	Npc:6723,0											SetLuaScript:"SpecialEvent.tbMarchEvent_vn:OnDialog()<enter>"														
128	7	查询兑换礼盒的数量	npc_getaward		0	0	Npc:6723,0											SetLuaScript:"SpecialEvent.tbMarchEvent_vn:OnDialog_LiHe()"														
128	8	老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLevel:65,"",""	CheckLuaScript:"local tbLaoBao = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nTimes = tonumber(tbLaoBao[1]) or 0;<enter>if nTimes >= 50 then<enter>   return 0;<enter>end<enter>return 1;<enter>",""							AddItem:"18,1,1213,1",10,0,""														
128	9	小怪掉落	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckLevel:65,"",""	CheckNpcType:0							SetDropItemId:31,1														
128	10	精英首领掉落	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:65,"",""	CheckNpcType:1	CheckRandom:50,100,""						AddItem:"18,1,1213,1",3,0,""														
128	11	宋金	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLevel:65,"",""	CheckLuaScript:"local tbSongJin = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tonumber(tbSongJin[1]) or 0;<enter>if nGrade >= 4000 then<enter>  return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1213,1",10,0,""														
128	12	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckLevel:65,"",""								AddItem:"18,1,1213,1",10,0,""														
128	13	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",0,""			CheckLevel:65,"",""								AddItem:"18,1,1213,1",2,0,""														
128	14	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLevel:65,"",""		CheckLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHu[2]) or 0;<enter>if nLevel > 0 then<enter>   return 0;<enter>end<enter>return 1;",""						AddItem:"18,1,1213,1",3,0,""														
129	1	【清明玄香产出】逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter>local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if (nLevel ~= 4 and nLevel ~= 5) then<enter>return 1;<enter>end<enter>return 0;",""	CheckLevel:60,"清明活动需要60级",""	CheckGTaskDay:6,2160,2,1,"",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
129	2	【清明玄香产出】官府通缉	action_finishtask		0	0	TaskFinish:"FinishWanted",1,""			CheckGTaskDay:6,2160,2,1,"",""	CheckLevel:60,"清明活动需要60级",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>    return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
129	3	【清明玄香产出】军营副本	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckGTaskDay:6,2160,2,1,"",""	CheckLevel:60,"清明活动需要60级",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>    return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
129	4	【清明玄香产出】宋金战场	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLuaScript:"<enter>if me.nFaction <= 0 then<enter>    return 1;<enter>end<enter>local nScore = EventManager:GetLibTable().tbTaskFinishArg[1]<enter>if nScore and nScore < 3000 then<enter>    return 1<enter>end<enter><enter>return 0",""	CheckGTaskDay:6,2160,2,1,"",""	CheckLevel:60,"",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
129	5	【清明玄香产出】精英首领击杀	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckGTaskDay:6,2160,2,1,"",""	CheckLevel:60,"清明活动需要60级",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>    return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
129	6	【清明玄香产出】白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter>local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor < 2) then<enter>return 1;<enter>end<enter>return 0;",""	CheckGTaskDay:6,2160,2,1,"",""	CheckLevel:60,"清明活动需要60级",""	CheckLuaScript:"local nServerStartSec = tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME));<enter>local nSec = Lib:GetDate2Time(20110301);<enter>if nServerStartSec < nSec then<enter>return 0;<enter>end<enter><enter>return 1;<enter>",""					AddItem:"18,1,1247,1",1,1,""	AddGTaskDay:2160,2,1	SetLuaScript:"Dialog:SendBlackBoardMsg(me, \"你获得了一个清明玄香。\");"												
131	1	老包	action_finishtask		0	0	TaskFinish:"LinkTask",1,""			CheckLevel:65,"",""	CheckLuaScript:"local nLaoBao = tonumber(EventManager:GetLibTable().tbTaskFinishArg[1]) or 0;<enter>if nLaoBao >= 50 then<enter>  return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1265,1",5,0,""														
131	2	逍遥	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLevel:65,"",""	CheckLuaScript:"local nXoyoGame = tonumber(EventManager:GetLibTable().tbTaskFinishArg[1]) or 0;<enter>if nXoyoGame >= 1 then<enter>   return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1265,1",1,0,""														
131	3	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLevel:65,"",""	CheckLuaScript:"local nBaiHu = tonumber(EventManager:GetLibTable().tbTaskFinishArg[2]) or 0;<enter>if nBaiHu >= 1 then<enter>  return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1265,1",1,0,""														
131	4	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckLevel:65,"",""								AddItem:"18,1,1265,1",2,0,""														
131	5	小怪掉落	boss_dropitem		0	0	DropNpcType:"_ALLNPC"			CheckLevel:65,"",""	CheckNpcType:0							SetDropItemId:32,1														
131	6	兑换水袋子	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你的等级不足65级。",""								SetAwardIdUi:55,7														
131	8	兑换干粮袋子	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你的等级不足65级。",""								SetAwardIdUi:56,9														
131	10	宋金旗帜	action_finishtask		0	0	TaskFinish:"Battle",5,""			CheckLevel:65,"",""	CheckLuaScript:"local nSongJin = tonumber(EventManager:GetLibTable().tbTaskFinishArg[1]) or 0;<enter>if nSongJin >= 3000 then<enter>  return 0;<enter>end<enter>return 1;",""							AddItem:"18,1,1270,1",5,0,43200														
131	11	精英首领旗帜	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:65,"",""								AddItem:"18,1,1270,1",1,0,43200														
131	12	兑换凯旋酒	npc_getaward		0	0	Npc:6723,0			CheckLevel:65,"你的等级不足65级。",""								SetLuaScript:"SpecialEvent.tbAprilEvent_vn:ChangeWine();"														
131	13	活动商店	npc_getaward		0	0	Npc:6723,0											OpenShop:180,1,100														
131	14	查询已经兑换的水袋子、干粮数量、插旗和使用凯旋酒的数量	npc_getaward		0	0	Npc:6723,0											SetLuaScript:"SpecialEvent.tbAprilEvent_vn:OnDialog()"														
131	15	帮会选举	npc_getaward		0	0	Npc:2606,0											SetLuaScript:"SpecialEvent.Tong_Vote.tbDialogNpc:OnDialog()"														
134	1	领取五一劳动者宝箱	npc_getaward		0	0	Npc:7230,0											SetLuaScript:"SpecialEvent.tbMeijiujie20110501:GetLibao()"														
134	2	空酒瓶兑换奖励	npc_getaward		2011/05/04/23/00	2011/05/12/00/00	Npc:7230,0											SetLuaScript:"SpecialEvent.tbMeijiujie20110501:Duijiang();"														
134	3	五一美酒节商店	npc_getaward		2011/04/30/00/00	2011/05/04/23/00	Npc:7230,0											OpenShop:191,1,100														
135	1	逍遥谷过关	action_finishtask		0	0	TaskFinish:"XoyoGame",3,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate >= 3) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local tbCount = {[3]=3,[4]=4,[5]=5};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if nGate >= 3 and nGate <= 5 then<enter>    me.AddStackItem(18,1,1292,1,{bForceBind = 1},tbCount[nGate]);<enter>    me.AddStackItem(18,1,1293,1,{bForceBind = 1},tbCount[nGate]);<enter>    me.AddStackItem(18,1,1294,1,{bForceBind = 1},tbCount[nGate]);<enter>return 0;<enter>end<enter>return 1;<enter><enter>"														
135	2	白虎堂过层	action_finishtask		0	0	TaskFinish:"BaiHuTang",3,""			CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor > 1) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>local tbCount = {[2]=2,[3]=6};<enter>if (nFloor > 1 and nFloor < 4) then<enter>  me.AddStackItem(18,1,1292,1,{bForceBind = 1},tbCount[nFloor ]);<enter>  me.AddStackItem(18,1,1293,1,{bForceBind = 1},tbCount[nFloor ]);<enter>  me.AddStackItem(18,1,1294,1,{bForceBind = 1},tbCount[nFloor ]);<enter><enter>return 0;<enter>end<enter>return 1;"														
135	3	宋金	action_finishtask		0	0	TaskFinish:"Battle",3,""			CheckLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint ) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								AddItem:"18,1,1292,1",6,1,""	AddItem:"18,1,1293,1",6,1,""	AddItem:"18,1,1294,1",6,1,""												
135	4	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",3,""											AddItem:"18,1,1292,1",6,1,""	AddItem:"18,1,1293,1",6,1,""	AddItem:"18,1,1294,1",6,1,""												
135	5	商会	action_finishtask		0	0	TaskFinish:"MerchantTask",3,""											AddItem:"18,1,1292,1",10,1,""	AddItem:"18,1,1293,1",10,1,""	AddItem:"18,1,1294,1",10,1,""												
138	1	白虎堂过二层	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLevel:60,"",""	CheckFaction:13,"",""	CheckTaskDay:5,201,200,"",""	CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 2) then<enter>return 0;<enter>end<enter>return 1;<enter><enter>",""	CheckLuaScript:"local pItem = me.GetEquip(Item.EQUIPPOS_MASK);<enter>if not pItem then<enter>  return 1;<enter>end<enter><enter>local tbMask = <enter>{<enter>   [\"1,13,12,1\"] = 1,<enter>   [\"1,13,16,1\"] = 1,<enter>   [\"1,13,13,1\"] = 1,<enter>   [\"1,13,17,1\"] = 1,<enter>   [\"1,13,31,1\"] = 1,<enter>   [\"1,13,72,1\"] = 1,<enter>   [\"1,13,74,1\"] = 1,<enter>   [\"1,13,32,1\"] = 1,<enter>   [\"1,13,73,1\"] = 1,<enter>   [\"1,13,75,1\"] = 1,<enter>   [\"1,13,85,1\"] = 1,<enter>   [\"1,13,84,1\"] = 1,<enter>};<enter>local szKey = string.format(\"%s,%s,%s,%s\", pItem.nGenre, pItem.nDetail, pItem.nParticular, pItem.nLevel);<enter>if tbMask[szKey] then<enter>   return 0;<enter>end<enter>return 1<enter><enter>",""	CheckFreeBag:1,"",""			AddTaskDay:201,200	AddItem:"18,1,1304,1",1,1,10080													
138	2	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLevel:60,"",""	CheckFaction:13,"",""	CheckTaskDay:5,201,200,"",""	CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate == 4) then<enter>return 0;<enter>end<enter>return 1;<enter><enter>",""	CheckLuaScript:"local pItem = me.GetEquip(Item.EQUIPPOS_MASK);<enter>if not pItem then<enter>  return 1;<enter>end<enter><enter>local tbMask = <enter>{<enter>   [\"1,13,12,1\"] = 1,<enter>   [\"1,13,16,1\"] = 1,<enter>   [\"1,13,13,1\"] = 1,<enter>   [\"1,13,17,1\"] = 1,<enter>   [\"1,13,31,1\"] = 1,<enter>   [\"1,13,72,1\"] = 1,<enter>   [\"1,13,74,1\"] = 1,<enter>   [\"1,13,32,1\"] = 1,<enter>   [\"1,13,73,1\"] = 1,<enter>   [\"1,13,75,1\"] = 1,<enter>   [\"1,13,85,1\"] = 1,<enter>   [\"1,13,84,1\"] = 1,<enter>};<enter>local szKey = string.format(\"%s,%s,%s,%s\", pItem.nGenre, pItem.nDetail, pItem.nParticular, pItem.nLevel);<enter>if tbMask[szKey] then<enter>   return 0;<enter>end<enter>return 1<enter><enter><enter>",""	CheckFreeBag:1,"",""			AddTaskDay:201,200	AddItem:"18,1,1304,1",1,1,10080													
138	3	军营击杀boss	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckLevel:60,"",""	CheckFaction:13,"",""	CheckTaskDay:5,201,200,"",""	CheckLuaScript:"local pItem = me.GetEquip(Item.EQUIPPOS_MASK);<enter>if not pItem then<enter>  return 1;<enter>end<enter><enter>local tbMask = <enter>{<enter>   [\"1,13,12,1\"] = 1,<enter>   [\"1,13,16,1\"] = 1,<enter>   [\"1,13,13,1\"] = 1,<enter>   [\"1,13,17,1\"] = 1,<enter>   [\"1,13,31,1\"] = 1,<enter>   [\"1,13,72,1\"] = 1,<enter>   [\"1,13,74,1\"] = 1,<enter>   [\"1,13,32,1\"] = 1,<enter>   [\"1,13,73,1\"] = 1,<enter>   [\"1,13,75,1\"] = 1,<enter>   [\"1,13,85,1\"] = 1,<enter>   [\"1,13,84,1\"] = 1,<enter>};<enter>local szKey = string.format(\"%s,%s,%s,%s\", pItem.nGenre, pItem.nDetail, pItem.nParticular, pItem.nLevel);<enter>if tbMask[szKey] then<enter>   return 0;<enter>end<enter>return 1<enter><enter><enter><enter>",""	CheckFreeBag:1,"",""				AddTaskDay:201,200	AddItem:"18,1,1304,1",1,1,10080													
138	4	宋金战场	action_finishtask		0	0	TaskFinish:"Battle",1,""			CheckLevel:60,"",""	CheckFaction:13,"",""	CheckFreeBag:1,"",""	CheckTaskDay:5,201,200,"",""	CheckLuaScript:"local pItem = me.GetEquip(Item.EQUIPPOS_MASK);<enter>if not pItem then<enter>  return 1;<enter>end<enter><enter>local tbMask = <enter>{<enter>   [\"1,13,12,1\"] = 1,<enter>   [\"1,13,16,1\"] = 1,<enter>   [\"1,13,13,1\"] = 1,<enter>   [\"1,13,17,1\"] = 1,<enter>   [\"1,13,31,1\"] = 1,<enter>   [\"1,13,72,1\"] = 1,<enter>   [\"1,13,74,1\"] = 1,<enter>   [\"1,13,32,1\"] = 1,<enter>   [\"1,13,73,1\"] = 1,<enter>   [\"1,13,75,1\"] = 1,<enter>   [\"1,13,85,1\"] = 1,<enter>   [\"1,13,84,1\"] = 1,<enter>};<enter>local szKey = string.format(\"%s,%s,%s,%s\", pItem.nGenre, pItem.nDetail, pItem.nParticular, pItem.nLevel);<enter>if tbMask[szKey] then<enter>   return 0;<enter>end<enter>return 1<enter><enter><enter><enter><enter>",""	CheckLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint ) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>return 0;<enter>end<enter>return 1;<enter><enter>",""			AddTaskDay:201,200	AddItem:"18,1,1304,1",1,1,10080													
138	5	击杀首领	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:60,"",""	CheckFaction:13,"",""	CheckFreeBag:1,"",""	CheckTaskDay:5,201,200,"",""	CheckLuaScript:"local pItem = me.GetEquip(Item.EQUIPPOS_MASK);<enter>if not pItem then<enter>  return 1;<enter>end<enter><enter>local tbMask = <enter>{<enter>   [\"1,13,12,1\"] = 1,<enter>   [\"1,13,16,1\"] = 1,<enter>   [\"1,13,13,1\"] = 1,<enter>   [\"1,13,17,1\"] = 1,<enter>   [\"1,13,31,1\"] = 1,<enter>   [\"1,13,72,1\"] = 1,<enter>   [\"1,13,74,1\"] = 1,<enter>   [\"1,13,32,1\"] = 1,<enter>   [\"1,13,73,1\"] = 1,<enter>   [\"1,13,75,1\"] = 1,<enter>   [\"1,13,85,1\"] = 1,<enter>   [\"1,13,84,1\"] = 1,<enter>};<enter>local szKey = string.format(\"%s,%s,%s,%s\", pItem.nGenre, pItem.nDetail, pItem.nParticular, pItem.nLevel);<enter>if tbMask[szKey] then<enter>   return 0;<enter>end<enter>return 1<enter><enter><enter><enter><enter>",""				AddTaskDay:201,200	AddItem:"18,1,1304,1",1,1,10080													
140	1	逍遥谷宋金周	action_opentask		2011/06/28/00/00	2011/07/05/00/00	SetSongJinAwardTimes:3	SetXoyoCardTimes:2																								
140	2	家族关卡白虎堂周	action_opentask		2011/07/05/00/00	2011/07/12/00/00	SetBaiHuAwardTimes:2	SetKinGameCoinAwardTimes:3																								
140	3	祝福树宋金掉落	action_finishtask		2011/06/28/00/00	2011/07/05/00/00	TaskFinish:"Battle",1,""			CheckLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter>local tb = EventManager:GetTempTable(140)<enter>if (nPoint >= 3000) and tb.nBattleTime~= GetTime() then<enter>  me.AddStackItem(18,1,1326,1,{bForceBind = 1}, 1);<enter>  tb.nBattleTime = GetTime();<enter>return 0;<enter>end<enter>return 1;"														
140	4	祝福树逍遥谷掉落	action_finishtask		2011/06/28/00/00	2011/07/05/00/00	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate == 3) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate == 3) then<enter>me.AddStackItem(18,1,1326,1,{bForceBind = 1}, 1);<enter>return 0;<enter>end<enter>return 1;<enter>"														
140	5	祝福树白虎堂掉落	action_finishtask		2011/06/28/00/00	2011/07/05/00/00	TaskFinish:"BaiHuTang",1,""			CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 2) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 2) then<enter>  me.AddStackItem(18,1,1326,1,{bForceBind = 1}, 1);<enter>return 0;<enter>end<enter>return 1;<enter>"														
140	6	祝福树军营副本掉落	action_finishtask		2011/06/28/00/00	2011/07/05/00/00	TaskFinish:"ArmyCampBoss",1,""											SetLuaScript:"me.AddStackItem(18,1,1326,1,{bForceBind = 1}, 1);<enter>"														
140	7	花团锦簇逍遥谷掉落	action_finishtask		2011/07/06/00/00	2011/07/14/00/00	TaskFinish:"XoyoGame",2,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate == 3) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate == 3) then<enter> me.AddStackItem(18,1,1327,1,{bForceBind = 1}, 2);<enter>return 0;<enter>end<enter>return 1;<enter>"														
140	8	花团锦簇白虎掉落	action_finishtask		2011/07/06/00/00	2011/07/14/00/00	TaskFinish:"BaiHuTang",1,""			CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 2) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 2) then<enter>  me.AddStackItem(18,1,1327,1,{bForceBind = 1}, 1);<enter>return 0;<enter>end<enter>return 1;<enter>"														
140	9	花团锦簇宋金掉落	action_finishtask		2011/07/06/00/00	2011/07/14/00/00	TaskFinish:"Battle",1,""			CheckLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter><enter>local tb = EventManager:GetTempTable(140);<enter>if (nPoint >= 3000) and tb.nBattleTime~= GetTime() then<enter>  me.AddStackItem(18,1,1327,1,{bForceBind = 1}, 1);<enter>  tb.nBattleTime = GetTime();<enter>  return 0;<enter>end<enter>return 1;"														
140	10	花团锦簇军营副本掉落	action_finishtask		2011/07/06/00/00	2011/07/14/00/00	TaskFinish:"ArmyCampBoss",1,""			CheckLuaScript:"",""								SetLuaScript:"me.AddStackItem(18,1,1327,1,{bForceBind = 1}, 2);"														
147	1	<color=green>额外购买五个四折精气散<color>	item_useitem		2011/08/04/00/00	2011/08/08/23/59	Item:"xiulianzhu","",0,0,""			CheckFuliJingHuoWeiWang:"你没有资格购买四折精活"								SetLuaScript:"if tonumber(os.date(\"%Y%m%d\",me.GetTask(2172,1))) < tonumber(os.date(\"%Y%m%d\",GetTime())) and    tonumber(os.date(\"%Y%m%d\",GetTime())) <= 20110808 then<enter>  me.SetTask(2172,1,GetTime());<enter>  EventManager:ExeFun(\"AddBuyItemSum\",1,22);<enter>  EventManager:ExeFun(\"AddExMKPUse\",5);<enter>end<enter>"	CoinBuyItem:22													
147	2	<color=green>额外购买五个四折活气散<color>	item_useitem		2011/08/04/00/00	2011/08/08/23/59	Item:"xiulianzhu","",0,0,""			CheckFuliJingHuoWeiWang:"你没有资格购买四折精活"								SetLuaScript:"if tonumber(os.date(\"%Y%m%d\",me.GetTask(2172,2))) < tonumber(os.date(\"%Y%m%d\",GetTime())) and    tonumber(os.date(\"%Y%m%d\",GetTime())) <= 20110808 then<enter>  me.SetTask(2172,2,GetTime());<enter>  EventManager:ExeFun(\"AddBuyItemSum\",1,23);<enter>  EventManager:ExeFun(\"AddExGTPUse\",5);<enter>end<enter>"	CoinBuyItem:23													
147	3	逍遥谷过关	action_finishtask		0	0	TaskFinish:"XoyoGame",2,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>if (nGate >= 3) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>local nDiff = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if not nLevel or not nDiff then<enter>return 1;<enter>end<enter>local tbTemp = {1,1,2,2,3,3,4,4};<enter>local nGate = nLevel - tbTemp[nDiff] + 1;<enter>local nXoyoGetTime = me.GetTask(2172,3);<enter>if tonumber(os.date(\"%Y%m%d\",nXoyoGetTime)) < tonumber(os.date(\"%Y%m%d\",GetTime())) then<enter>   me.SetTask(2172,3,GetTime());<enter>   me.SetTask(2172,4,0);<enter>end<enter>if (nGate == 3) then<enter>  for i =1 ,2 do<enter>     local nGetCount = me.GetTask(2172,4);<enter>     if nGetCount < 6 then<enter>       local nLevel = MathRandom(1000)%4 + 4;<enter>       local pItem = me.AddItemEx(18,1,1356,nLevel,{bForceBind = 1});<enter>       if pItem then<enter>         me.SetTask(2172,4,nGetCount + 1);<enter>       end<enter>     end<enter>  end<enter>return 0;<enter>end<enter>return 1;<enter>"														
147	4	野外精英掉落	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""											SetLuaScript:"local nJyslGetTime = me.GetTask(2172,5);<enter>if tonumber(os.date(\"%Y%m%d\",nJyslGetTime )) < tonumber(os.date(\"%Y%m%d\",GetTime())) then<enter>   me.SetTask(2172,5,GetTime());<enter>   me.SetTask(2172,6,0);<enter>end<enter>local nGetCount = me.GetTask(2172,6);<enter>if nGetCount < 4 then<enter>   local pItem = me.AddItemEx(18,1,1356,MathRandom(1,3),{bForceBind = 1});<enter>   if pItem then<enter>      me.SetTask(2172,6,nGetCount + 1);<enter>   end<enter>end"														
147	5	军营击杀boss	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",2,""											SetLuaScript:"local nArmyGetTime = me.GetTask(2172,3);<enter>if tonumber(os.date(\"%Y%m%d\",nArmyGetTime)) < tonumber(os.date(\"%Y%m%d\",GetTime())) then<enter>   me.SetTask(2172,3,GetTime());<enter>   me.SetTask(2172,4,0);<enter>end<enter>for i =1 ,2 do<enter>   local nGetCount = me.GetTask(2172,4);<enter>   if nGetCount < 6 then<enter>     local nLevel = MathRandom(1000)%4 + 4;<enter>     local pItem = me.AddItemEx(18,1,1356,nLevel,{bForceBind = 1});<enter>     if pItem then<enter>       me.SetTask(2172,4,nGetCount + 1);<enter>     end<enter>   end<enter>end<enter>"														
150	1	领取	npc_getaward		0	0	Npc:9682,0			CheckLevel:60,"等级不足60级不能领取国庆节烟花。",""	CheckFaction:13,"需要加入门派才能领取。",""	CheckFreeBag:4,"需要4格背包空间。",""	CheckTaskDay:1,210,211,"你今天已经领取过了。",""					AddItem:"18,1,1480,1",2,1,"2011/10/08/00/00"	AddItem:"18,1,1480,2",2,1,"2011/10/08/00/00"	AddTaskDay:210,211												
150	2	Add篝火	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(150,2);<enter>if tbTemp.nNpcId then<enter>   return 0;<enter>end<enter><enter>local tbPos = {<enter>{25, 1626, 3168},<enter>{23, 1568, 3107},<enter>{27, 1616, 3230},<enter>{28, 1492, 3282},<enter>{26, 1584, 3205},<enter>{24, 1766, 3540},<enter>{29, 1628, 3954},<enter>}<enter>for _, tb in ipairs(tbPos) do<enter><tab>if SubWorldID2Idx(tb[1]) >= 0 then<enter><tab><tab>KNpc.Add2(9682, 90, -1, tb[1], tb[2], tb[3]);<tab><tab><enter><tab>end<enter>end<enter><enter>tbTemp.nNpcId = 1;"														
150	3	逍遥翻倍	action_opentask		0	0												SetXoyoCardTimes:2														
150	4	家族关卡翻倍	action_opentask		0	0												SetKinGameCoinAwardTimes:2														
150	5	白虎堂翻倍	action_opentask		0	0												SetBaiHuAwardTimes:2														
150	6	95金boss掉落	boss_dropitem		0	0	DropNpc:2421											SetDroprate:"\setting\npc\droprate\worldboss\droprate_boss_95_jin.txt",24														
150	7	95木boss掉落	boss_dropitem		0	0	DropNpc:2422											SetDroprate:"\setting\npc\droprate\worldboss\droprate_boss_95_mu.txt",24														
150	8	95水boss掉落	boss_dropitem		0	0	DropNpc:2423											SetDroprate:"\setting\npc\droprate\worldboss\droprate_boss_95_shui.txt",24														
150	9	95火boss掉落	boss_dropitem		0	0	DropNpc:2424											SetDroprate:"\setting\npc\droprate\worldboss\droprate_boss_95_huo.txt",24														
150	10	95土boss掉落	boss_dropitem		0	0	DropNpc:2425											SetDroprate:"\setting\npc\droprate\worldboss\droprate_boss_95_tu.txt",24														
151	1	领取幸运之种和幸运之水	npc_getaward		0	2011/10/12/00/00	Npc:9681,0			CheckLevel:60,"您等级不足60级。",""	CheckFaction:13,"请加入门派。",""	CheckTask:214,1,"每个人只能领取一次。",""	CheckFreeBag:2,"需要2格背包空间。",""					AddItem:"18,1,1470,1",1,1,"2011/10/12/00/00"	AddItem:"18,1,1471,1",1,1,"2011/10/12/00/00"	SetTask:214,1	SetMsg:2,"恭喜您获得幸运之水和幸运之种。"											
151	3	精英产灯笼	action_finishtask		2011/10/01/00/00	2011/10/08/00/00	TaskFinish:"JYAndSLDeath",1,""			CheckNpcLevel:60,1								SetLuaScript:"if me.nTeamId > 0 then<enter><tab>local tbPlayerList = KTeam.GetTeamMemberList(me.nTeamId);<enter><tab>for i = 1, #tbPlayerList do<enter><tab><tab>local pPlayer = KPlayer.GetPlayerObjById(tbPlayerList[i]);<enter><tab><tab>if pPlayer then<enter><tab><tab><tab>local oldme = me;<enter><tab><tab><tab>me = pPlayer;<enter><tab><tab><tab>local nTaskFlag = EventManager:CheckFun(\"CheckTaskDay\",5,212,213,\"\",\"\"); <enter><tab>             <tab>local nLevelFlag = EventManager:CheckFun(\"CheckLevel\",60,\"\",\"\");<enter><tab><tab><tab>if nTaskFlag ==0  and nLevelFlag ==0 then<enter><tab><tab><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1474,1\",1,1,1440);<enter><tab><tab><tab><tab>EventManager:ExeFun(\"AddTaskDay\",212,213<tab>);<enter><tab><tab><tab>end<enter><tab><tab><tab>me = oldme;<enter><tab><tab>end<tab><enter><tab>end<enter>else<enter><tab>local nTaskFlag = EventManager:CheckFun(\"CheckTaskDay\",5,212,213,\"\",\"\"); <enter>       local nLevelFlag = EventManager:CheckFun(\"CheckLevel\",60,\"\",\"\");<enter><tab>if nTaskFlag ==0  and nLevelFlag ==0 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1474,1\",1,1,1440);<enter><tab><tab>EventManager:ExeFun(\"AddTaskDay\",212,213<tab>);<enter><tab>end<enter>end<enter>return 0;"														
151	4	兑换果篮	npc_getaward		0	0	Npc:9681,0			CheckLevel:60,"您等级不足60级。",""	CheckFaction:13,"请加入门派。",""							SetAwardIdUi:57,""														
151	5	领取累积的果实	npc_getaward		0	0	Npc:9681,0											SetLuaScript:"SpecialEvent.tbKinPlant_2011:DialogGetAward()"														
156	1	逍遥	action_finishtask		0	0	TaskFinish:"XoyoGame",0,""			CheckLuaScript:"local nNowDate = tonumber(GetLocalDate(\"%Y%m%d\"));<enter>if nNowDate >= SpecialEvent.tbNewGateEvent.nSeniorStartTime and nNowDate <= SpecialEvent.tbNewGateEvent.nSeniorEndTime then<enter><tab>return 0;<enter>end<enter>return 1, \"不在活动期\";",""	CheckLuaScript:"local nServerStarTime = tonumber(os.date(\"%Y%m%d\", tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME))));<enter>if nServerStarTime >= SpecialEvent.tbNewGateEvent.nServerStarLimit then<enter>    return 0;<enter>end<enter>return 1, \"不是新开服务器\";",""	CheckLuaScript:"if SpecialEvent.tbNewGateEvent:CheckIsXiaoBai(me) == 1 and SpecialEvent.tbNewGateEvent:CheckHasNeworOld(2) == 1 then<enter><tab>return 0;<enter>elseif SpecialEvent.tbNewGateEvent:CheckIsXiaoBai(me) == 0 and SpecialEvent.tbNewGateEvent:CheckHasNeworOld(1) == 1 then<enter><tab>return 0;<enter>end<enter>return 1, \"没有新秀玩家或者是大师兄大师姐。\";",""						SetLuaScript:"local tbXoyo = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nFinishCount = tonumber(tbXoyo[4]) or 0;<enter>local nWinCount = tonumber(tbXoyo[3]) or 0;<enter>if nFinishCount == 5 and nWinCount >= 2 then<enter>   if SpecialEvent.tbNewGateEvent:CheckIsXiaoBai(me) == 1 then<enter><tab>me.AddBindCoin(nWinCount * 100);<enter>   else<enter>       me.AddBindCoin(nWinCount * 80);<enter>   end<tab><enter>end"														
156	2	白虎	action_finishtask		0	0	TaskFinish:"BaiHuTang",0,""			CheckLuaScript:"local nNowDate = tonumber(GetLocalDate(\"%Y%m%d\"));<enter>if nNowDate >= SpecialEvent.tbNewGateEvent.nSeniorStartTime and nNowDate <= SpecialEvent.tbNewGateEvent.nSeniorEndTime then<enter><tab>return 0;<enter>end<enter>return 1, \"不在活动期\";",""	CheckLuaScript:"local nServerStarTime = tonumber(os.date(\"%Y%m%d\", tonumber(KGblTask.SCGetDbTaskInt(DBTASD_SERVER_STARTTIME))));<enter>if nServerStarTime >= SpecialEvent.tbNewGateEvent.nServerStarLimit then<enter>    return 0;<enter>end<enter>return 1, \"不是新开服务器\";",""	CheckLuaScript:"if SpecialEvent.tbNewGateEvent:CheckIsXiaoBai(me) == 1 then<enter><tab>return 0;<enter>end<enter>return 1, \"不是新秀玩家。\";",""	CheckLuaScript:"local nTimestamp = me.GetTask(2009,6);<enter>local nCount = me.GetTask(2176,115);<enter>local nLastTimestamp = me.GetTask(2176, 116);<enter>if nCount < 3 or nLastTimestamp == nTimestamp then<enter><tab>return 0;<enter>end<enter>return 1, \"已经返还了3次了\"",""					SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHu[2]) or 0;<enter>local tbTeamMemberList = KTeam.GetTeamMemberList(me.nTeamId) or {};<enter>local nMyTimestamp = me.GetTask(2009,6);<enter>local bHasAward = 0;<enter>if nLevel < 3 and #tbTeamMemberList > 1 then<tab><enter><tab>for i = 1, #tbTeamMemberList do<enter><tab><tab>local pPlayer = KPlayer.GetPlayerObjById(tbTeamMemberList[i]);<enter><tab><tab>if pPlayer then<enter><tab><tab><tab>local nPlayerTimestamp = pPlayer.GetTask(2009,6);<enter><tab><tab><tab>local nTime = pPlayer.GetTask(2093,34);<enter><tab><tab><tab>local nLastLevel = pPlayer.GetTask(2093,35);<enter><tab><tab><tab>if GetTime() - nTime >= 1800 then<enter><tab><tab><tab><tab>pPlayer.SetTask(2093,34,GetTime());<enter>                           pPlayer.SetTask(2093,35,0);<enter><tab><tab><tab><tab>nLastLevel = 0;<enter><tab><tab><tab>end<tab><tab><tab><enter><tab><tab><tab>--大师兄大师姐，批次一样，本层的还没领取<tab><tab><tab><enter><tab><tab><tab>if me.nId ~= pPlayer.nId and SpecialEvent.tbNewGateEvent:CheckIsXiaoBai(pPlayer) == 0 and nPlayerTimestamp == nMyTimestamp then<enter><tab><tab><tab><tab>if nLastLevel < nLevel  then<enter><tab><tab><tab><tab><tab>if nLevel == 1 then <enter><tab><tab><tab><tab><tab><tab>pPlayer.AddItem(18, 1, 1352, 1);<enter><tab><tab><tab><tab><tab><tab>pPlayer.AddBindMoney(50000);<enter><tab><tab><tab><tab><tab>elseif nLevel == 2 then <enter><tab><tab><tab><tab><tab><tab>pPlayer.AddStackItem(18, 1, 1309, 1, nil, 2);<enter><tab><tab><tab><tab><tab><tab>pPlayer.AddBindCoin(500);<enter><tab><tab><tab><tab><tab>end<enter><tab><tab><tab><tab><tab>pPlayer.Msg('恭喜你和江湖新秀一起参加活动获得丰厚奖励。');<enter><tab><tab><tab><tab><tab>pPlayer.SetTask(2093,35, nLevel);<enter><tab><tab><tab><tab>end<enter><tab><tab><tab><tab>bHasAward =1;<enter><tab><tab><tab>end<enter><tab><tab>end<enter><tab>end<enter>        if bHasAward == 1  then<enter><tab><tab>if nLevel == 1 then <enter><tab><tab><tab>me.AddItem(18, 1, 1352, 1);<enter><tab><tab><tab>me.AddBindMoney(50000);<enter><tab><tab>elseif nLevel == 2 then <enter><tab><tab><tab>me.AddStackItem(18, 1, 1309, 1, nil, 2);<enter><tab><tab><tab>me.AddBindCoin(500);<enter><tab><tab>end<enter>                me.Msg('恭喜你和大师兄大师姐一起参加活动获得丰厚奖励。');<enter><tab>end<enter>end<enter>return 0;"	SetLuaScript:"local tbBaiHu = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nLevel = tonumber(tbBaiHu[2]) or 0;<enter>local nTimestamp = me.GetTask(2009,6);<enter>local nLastTimestamp = me.GetTask(2176, 116);<enter>if nLevel > 2 or nLastTimestamp == nTimestamp then<enter><tab>return;<enter>end<enter>me.SetTask(2176,115, me.GetTask(2176,115) + 1);<enter>me.SetTask(2176,116, nTimestamp);"													
159	1	领取圣诞假面盒	npc_getaward		2011/12/22/00/00	2012/01/03/00/00	Npc:7230			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20111222 or nTime >= 20120103 then<enter>   return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.Xmas2011 and SpecialEvent.Xmas2011.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.Xmas2011:OnEventNpcDialog(1);"														
159	2	领取袜子配对奖励	npc_getaward		2011/12/22/00/00	2012/01/03/00/00	Npc:7230			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20111222 or nTime >= 20120103 then<enter>   return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.Xmas2011 and SpecialEvent.Xmas2011.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.Xmas2011:OnEventNpcDialog(2);"														
159	3	领取未完成的雪人坯	npc_getaward		2011/12/22/00/00	2012/01/03/00/00	Npc:7230			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20111222 or nTime >= 20120103 then<enter>   return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.Xmas2011 and SpecialEvent.Xmas2011.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.Xmas2011:OnEventNpcDialog(3);"														
159	4	地图刷NPC	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(159,4);<enter>if tbTemp.nNpcId then<enter>   return 0;<enter>end<enter>if SubWorldID2Idx(25) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 25, 1654, 3163);<enter>end<enter>if SubWorldID2Idx(23) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 23, 1582, 3102);<enter>end<enter>if SubWorldID2Idx(27) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 27, 1631, 3223);<enter>end<enter><enter>if SubWorldID2Idx(28) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 28, 1506, 3272);<enter>end<enter>if SubWorldID2Idx(26) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 26, 1598, 3198);<enter>end<enter>if SubWorldID2Idx(29) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 29, 1647, 3939);<enter>end<enter>if SubWorldID2Idx(24) >= 0 then<enter>  KNpc.Add2(7230, 90, -1, 24, 1782, 3542);<enter>end<enter>tbTemp.nNpcId = 1;"														
159	5	逍遥谷掉落	action_finishtask		2011/12/22/00/00	2012/01/03/00/00	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if not nLevel then<enter>return 1;<enter>end<enter>if (nLevel == 5) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nLevel = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if not nLevel then<enter>   return 1;<enter>end<enter>if (nLevel == 5) then<enter>   local nRand = MathRandom(100);<enter>   if nRand <= 50 then<enter>      local pItem = me.AddItem(18,1,1536,1);<enter>      if pItem then<enter>         StatLog:WriteStatLog(\"stat_info\",\"shengdanjie_2011\",\"room_get_item\",me.nId,pItem.szName);<enter>         return 0;<enter>      else<enter>         return 1;<enter>      end<enter>   end<enter>end<enter>return 1;<enter>"														
159	6	圣诞秘境	npc_getaward		2011/12/22/00/00	2012/01/03/00/00	Npc:7230			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20111222 or nTime >= 20120103 then<enter>   return 1;<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.Xmas2011 and SpecialEvent.Xmas2011.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.Xmas2011:OnEventNpcDialog(4);"														
162	1	逍遥掉卡翻倍	action_opentask		2012/01/01/00/00	2012/01/04/00/00												SetXoyoCardTimes:2														
163	1	地图刷财神	default		2012/01/15/00/00	2012/02/14/00/00	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(163,1);<enter>if tbTemp.nCaishenNpcId then<enter>   return 0;<enter>end<enter>if SubWorldID2Idx(23) >= 0 then<enter>  KNpc.Add2(9891, 90, -1, 23, 1579, 3101);<enter>end<enter>if SubWorldID2Idx(29) >= 0 then<enter>  KNpc.Add2(9891, 90, -1, 29, 1647, 3942);<enter>end<enter>tbTemp.nCaishenNpcId = 1;<enter>"														
163	2	新春拜大年	npc_getaward		2012/01/15/00/00	2012/02/07/00/00	Npc:9891			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20120115 or nTime > 20120206 then<enter>   return 1,\"对不起，该活动已经结束！\"<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(1);"														
163	3	聚宝对对碰	npc_getaward		2012/01/15/00/00	2012/01/31/00/00	Npc:9891			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20120115 or nTime > 20120130 then<enter>   return 1,\"对不起，该活动已经结束！\";<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(4);"														
163	4	祈愿贺龙年	npc_getaward		2012/01/15/00/00	2012/02/10/00/00	Npc:9891			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20120115 or nTime > 20120209 then<enter>   return 1,\"对不起，该活动已经结束！\";<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(6);"														
163	5	灯笼高高挂	npc_getaward		2012/01/15/00/00	2012/01/31/00/00	Npc:9891			CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""								SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(8);"														
163	6	地图刷聚宝盆	default		2012/01/15/00/00	2012/02/07/00/00	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(163,6);<enter>if tbTemp.nJuBaopenNpcId then<enter>   return 0;<enter>end<enter>if SubWorldID2Idx(23) >= 0 then<enter>  KNpc.Add2(9893, 90, -1, 23, 1583, 3100);<enter>end<enter>if SubWorldID2Idx(29) >= 0 then<enter>  KNpc.Add2(9893, 90, -1, 29, 1651, 3940);<enter>end<enter>tbTemp.nJuBaopenNpcId = 1;<enter>"														
163	7	元宵汤圆甜	npc_getaward		2012/01/15/00/00	2012/02/08/00/00	Npc:9891			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20120205 then<enter>   return 1,\"对不起，该活动还未开启！\";<enter>elseif nTime > 20120207 then<enter>   return 1,\"对不起，该活动已经结束！\";<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(2);"														
163	8	藏宝图掉落新年福袋	action_finishtask		2012/01/15/00/00	2012/02/07/00/00	TaskFinish:"TreasureMapComplete",1,""			CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>   return 0;<enter>end<enter>return 1;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>   SpecialEvent.SpringFestival2012:GiveExtFudai(11);<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveUnFireMatch then<enter>      SpecialEvent.SpringFestival2012:GiveUnFireMatch();<enter>   end<enter>   return 0;<enter>end<enter>return 1;"														
163	9	家园收红包	npc_getaward		2012/01/15/00/00	2012/02/07/00/00	Npc:9891				CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""	SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(3);"																				
163	10	逍遥谷通关3关给福袋	action_finishtask		2012/01/15/00/00	2012/02/07/00/00	TaskFinish:"XoyoGame",1,""			CheckLuaScript:"local nGate = EventManager:GetLibTable().tbTaskFinishArg[3];<enter>if nGate == 3 then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nGate = EventManager:GetLibTable().tbTaskFinishArg[3];<enter>if nGate == 3 then<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>      SpecialEvent.SpringFestival2012:GiveExtFudai(9);<enter>   end<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveUnFireMatch then<enter>      SpecialEvent.SpringFestival2012:GiveUnFireMatch();<enter>   end<enter>   return 0;<enter>end<enter>return 1;<enter><enter>"														
163	11	白虎堂到达第二层给福袋	action_finishtask		2012/01/15/00/00	2012/02/07/00/00	TaskFinish:"BaiHuTang",1,""			CheckLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 1) then<enter>return 0;<enter>end<enter>return 1;<enter>",""								SetLuaScript:"local nFloor = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nFloor) then<enter>return 1;<enter>end<enter>if (nFloor == 1) then<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>      SpecialEvent.SpringFestival2012:GiveExtFudai(10);<enter>   end<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveUnFireMatch then<enter>      SpecialEvent.SpringFestival2012:GiveUnFireMatch();<enter>   end<enter>   return 0;<enter>end<enter>return 1;<enter>"														
163	12	军营通关给福袋	action_finishtask		2012/01/15/00/00	2012/02/07/00/00	TaskFinish:"ArmyCampBoss",1,""											SetLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>   SpecialEvent.SpringFestival2012:GiveExtFudai(8);<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveUnFireMatch   then<enter>      SpecialEvent.SpringFestival2012:GiveUnFireMatch();<enter>   end<enter>   return 0;<enter>end<enter>return 1;<enter>"														
163	13	宋金分数3000给福袋	action_finishtask		2012/01/15/00/00	2012/02/07/00/00	TaskFinish:"Battle",1,""			CheckLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nPoint = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if (not nPoint) then<enter>return 1;<enter>end<enter>if (nPoint >= 3000) then<enter>  if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>   SpecialEvent.SpringFestival2012:GiveExtFudai(7);<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveUnFireMatch then<enter>      SpecialEvent.SpringFestival2012:GiveUnFireMatch();<enter>   end<enter>   return 0;<enter>  end<enter>end<enter>return 1;"														
163	14	福币兑好礼	npc_getaward		2012/01/15/00/00	2012/02/14/00/00	Npc:9891			CheckLuaScript:"local nTime = tonumber(os.date(\"%Y%m%d\",GetTime()));<enter>if nTime < 20120115 or nTime > 20120213 then<enter>   return 1,\"对不起，该活动已经关闭！\";<enter>end<enter>return 0;",""	CheckLuaScript:"if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.OnEventNpcDialog then<enter>   return 0;<enter>end<enter>return 1;",""							SetLuaScript:"SpecialEvent.SpringFestival2012:OnEventNpcDialog(7);"														
163	15	地图刷许愿树	default		2012/01/15/00/00	2012/02/07/00/00	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(163,15);<enter>if tbTemp.nHopeTreeNpcId then<enter>   return 0;<enter>end<enter>if SubWorldID2Idx(23) >= 0 then<enter>  KNpc.Add2(9897, 90, -1, 23, 1586, 3082);<enter>end<enter>if SubWorldID2Idx(29) >= 0 then<enter>  KNpc.Add2(9897, 90, -1, 29, 1624, 3927);<enter>end<enter>tbTemp.nHopeTreeNpcId = 1;<enter>"														
163	16	家园种植收获额外	action_finishtask		2012/01/15/00/00	2012/02/10/00/00	TaskFinish:"KinPlantGetFruit",1,""			CheckLuaScript:"local nSeed = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if nSeed >= 10 and nSeed <= 12 then<enter>return 0;<enter>end<enter>return 1;",""								SetLuaScript:"local nSeed = EventManager:GetLibTable().tbTaskFinishArg[1];<enter>if nSeed >= 10 and nSeed <= 12 then<enter>   if SpecialEvent.SpringFestival2012 and SpecialEvent.SpringFestival2012.GiveExtFudai then<enter>      SpecialEvent.SpringFestival2012:GiveExtFudai(5);<enter>   end<enter>   return 0;<enter>end<enter>return 1;<enter><enter>"														
171	1	逍遥谷1	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckLevel:60,"",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter>local nLevel = EventManager:GetLibTable().tbTaskFinishArg[3];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if (nLevel ~= 4 and nLevel ~= 5) then<enter>return 1;<enter>end<enter>local nCount = me.GetTask(2192, 17)<enter>if nCount >= 8 then<enter>return 1;<enter>end<enter><enter>return 0;",""							SetLuaScript:"local nCount = me.GetTask(2192, 17)<enter><enter>if nCount == 7 then<enter>me.AddStackItem(18, 1, 1705, 1, nil, 1)<enter>me.SetTask(2192, 17,nCount + 1 )<enter>elseif nCount <7 then<enter>me.AddStackItem(18, 1, 1705, 1, nil, 2)<enter>me.SetTask(2192, 17,nCount + 2 )<enter>else<enter>return 1;<enter>end<enter>return 0;"														
171	2	军营副本	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",1,""			CheckLevel:60,"",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter>local nCount = me.GetTask(2192, 17)<enter>if nCount >= 8 then<enter>return 1;<enter>end<enter><enter>return 0;<enter>",""							SetLuaScript:"local nCount = me.GetTask(2192, 17)<enter><enter>if nCount > 7 then<enter>return 1;<enter>else<enter>me.AddStackItem(18, 1, 1705, 1, nil, 1)<enter>me.SetTask(2192, 17,nCount + 1 )<enter>return 0;<enter>end"														
171	3	精英首领击杀	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckLevel:60,"",""	CheckLuaScript:"<enter>if me.nFaction <= 0 then<enter>return 1;<enter>end<enter><enter>local nCount = me.GetTask(2192, 17) or 0;<enter>if nCount >= 8 then<enter>return 1;<enter>end<enter><enter>return 0;<enter>",""							SetLuaScript:"local nCount = me.GetTask(2192, 17)<enter><enter>if nCount > 7 then<enter>return 1;<enter>else<enter>me.AddStackItem(18, 1, 1705, 1, nil, 1)<enter>me.SetTask(2192, 17,nCount + 1 )<enter>return 0;<enter>end<enter>"														
171	4	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",1,""			CheckLevel:60,"",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter>local nLevel = EventManager:GetLibTable().tbTaskFinishArg[2];<enter>if (not nLevel) then<enter>return 1;<enter>end<enter>if nLevel < 2  then<enter>return 1;<enter>end<enter>local nCount = me.GetTask(2192, 17)<enter>if nCount >= 8 then<enter>return 1;<enter>end<enter><enter>return 0;",""							SetLuaScript:"local nCount = me.GetTask(2192, 17)<enter><enter>if nCount > 7 then<enter>return 1;<enter>else<enter>me.AddStackItem(18, 1, 1705, 1, nil, 1)<enter>me.SetTask(2192, 17,nCount + 1 )<enter>return 0;<enter>end<enter>"														
171	5	大盗	action_finishtask		0	0	TaskFinish:"FinishWanted",1,""			CheckLevel:60,"",""	CheckLuaScript:"if me.nFaction <= 0 then<enter>return 1;<enter>end<enter><enter>local nCount = me.GetTask(2192, 17)<enter>if nCount >= 8 then<enter>return 1;<enter>end<enter><enter>return 0;<enter><enter>",""							SetLuaScript:"local nCount = me.GetTask(2192, 17)<enter><enter>if nCount > 7 then<enter>return 1;<enter>else<enter>me.AddStackItem(18, 1, 1705, 1, nil, 1)<enter>me.SetTask(2192, 17,nCount + 1 )<enter>return 0;<enter>end<enter>"														
173	1	领取[变身咒]    	npc_getaward		0	0	Npc:10139,0			CheckLevel:60,"很抱歉，您的等级小于60级，无法参加此活动。",""		CheckGTaskDay:1,2192,38,39,"每人每天只能领取1个整蛊道具，不要贪心哦。",""	CheckFreeBag:1,"背包空间不足1格。",""					AddItem:"18,1,1726,1",1,1,""	AddGTaskDay:2192,38,39	SetMsg:2,"你领取到了一个[变身咒]，快去寻找符合要求的人进行变身吧！"												
173	2	解除[变身咒]	npc_getaward		0	0	Npc:10139,0											SetLuaScript:"SpecialEvent.tbChildrenDay2012:ClearPlayer()"														
173	3	【葫芦兄弟送大礼】	npc_getaward		2012/05/01/00/00	2012/05/01/00/00	Npc:10139,0			CheckLevel:60,"很抱歉，您的等级小于60级，无法参加此活动。",""								SetLuaScript:"SpecialEvent.tbChildrenDay2012:OnFirst()"														
173	4	AddNpc	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(173,4);<enter>if tbTemp.nFlag then<enter>   return 0;<enter>end<enter><enter><enter>local tbPoint = {<enter><tab>{<enter><tab>{29,1626,3929},<enter><tab>{29,1622,3929},<enter><tab>{29,1626,3925},<enter><tab>{29,1617,3928},<enter><tab>{29,1620,3925},<enter><tab>{29,1623,3922},<enter><tab>{29,1626,3919},<enter><tab>},<enter><tab>{<enter><tab>{24,1765,3503},<enter><tab>{24,1761,3503},<enter><tab>{24,1765,3499},<enter><tab>{24,1756,3502},<enter><tab>{24,1759,3499},<enter><tab>{24,1762,3496},<enter><tab>{24,1765,3493},<enter><tab>},<enter>}<enter><enter>local tbName = {\"大娃\",\"二娃\",\"三娃\",\"四娃\",\"五娃\",\"六娃\",\"七娃\",}<enter>for _, tb in ipairs(tbPoint) do<enter><tab>for i, tbEx in ipairs(tb) do<enter><tab><tab>if SubWorldID2Idx(tbEx[1]) >= 0 then<enter><tab><tab>         local pNpc = nil;<enter>                  <tab>if i == 1 then<enter><tab><tab><tab><tab>pNpc = KNpc.Add2(10139, 90, -1, unpack(tbEx));<enter><tab><tab><tab>else<enter><tab><tab><tab><tab>pNpc = KNpc.Add2(10140, 90, -1, unpack(tbEx));<enter><tab><tab><tab>end<enter><tab><tab><tab>if pNpc then<enter><tab><tab><tab><tab>pNpc.ChangeColorScheme(7 - i);<enter><tab><tab><tab><tab>pNpc.szName = tbName[i]<enter><enter><tab><tab><tab>end<enter><tab><tab>end<enter><tab>end<enter>end<enter>tbTemp.nFlag = 1;"														
173	5	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGameFinish",1,""			CheckLevel:60,"",""								SetLuaScript:"local nMaxCount = SpecialEvent.tbChildrenDay2012.nDayEventMaxCount;<enter>Player:CheckTask(2192, 40, \"%Y%m%d\", 41, nMaxCount);<enter>local nCount = me.GetTask(2192,41);<enter>local nAddCount = 1;<enter>if nCount < nMaxCount then<enter><tab>nAddCount = math.min(nAddCount, nMaxCount - nCount);<enter>else<enter>       return 0;<enter>end<enter>local pItem = me.AddItem(18,1,1728,1);<enter>if pItem then<enter><tab>pItem.Bind(1);<enter>       me.SetItemTimeout(pItem,GetLocalDate(\"%Y/%m/%d/\")..\"23/59/59\",0);<enter><tab>me.SetTask(2192,41, nCount + nAddCount);<enter>end"														
173	6	军营	action_finishtask		0	0	TaskFinish:"ArmyCampTask",1,""			CheckLevel:60,"",""								SetLuaScript:"local nMaxCount = SpecialEvent.tbChildrenDay2012.nDayEventMaxCount;<enter>Player:CheckTask(2192, 40, \"%Y%m%d\", 41, nMaxCount);<enter>local nCount = me.GetTask(2192,41);<enter>local nAddCount = 1;<enter>if nCount < nMaxCount then<enter><tab>nAddCount = math.min(nAddCount, nMaxCount - nCount);<enter>else<enter>       return 0;<enter>end<enter>local pItem = me.AddItem(18,1,1728,1);<enter>if pItem then<enter><tab>pItem.Bind(1);<enter>       me.SetItemTimeout(pItem,GetLocalDate(\"%Y/%m/%d/\")..\"23/59/59\",0);<enter><tab>me.SetTask(2192,41, nCount + nAddCount);<enter>end<enter>"														
173	7	藏宝图	action_finishtask		0	0	TaskFinish:"TreasureMapComplete",1,""			CheckLevel:60,"",""								SetLuaScript:"local nMaxCount = SpecialEvent.tbChildrenDay2012.nDayEventMaxCount;<enter>Player:CheckTask(2192, 40, \"%Y%m%d\", 41, nMaxCount);<enter>local nCount = me.GetTask(2192,41);<enter>local nAddCount = 1;<enter>if nCount < nMaxCount then<enter><tab>nAddCount = math.min(nAddCount, nMaxCount - nCount);<enter>else<enter>       return 0;<enter>end<enter>local pItem = me.AddItem(18,1,1728,1);<enter>if pItem then<enter><tab>pItem.Bind(1);<enter>       me.SetItemTimeout(pItem,GetLocalDate(\"%Y/%m/%d/\")..\"23/59/59\",0);<enter><tab>me.SetTask(2192,41, nCount + nAddCount);<enter>end<enter>"														
174	1	确定	npc_getaward		0	0	Npc:10139,0			CheckLevel:60,"很抱歉，您的等级小于60级，无法参加此活动。",""								SetLuaScript:"SpecialEvent.tbChildrenDay2012:OnFirst()"														
175	1	领取[家族团圆粽]	npc_getaward		0	0	Npc:10231,0			CheckLevel:50,"您的等级不足50级，无法参加此活动。",""	CheckFaction:13,"请先加入门派再来吧。",""	CheckActiveNum:1,30,"您今天的活跃度不足30点。"	CheckFreeBag:1,"背包空间不足1格。",""	CheckHaveKin:0,"您还没有家族，请加入家族。"	CheckLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>return 0;",""	CheckGTask:2192,66,1,"您今天已经领取过了。",""		AddItem:"18,1,1744,1",1,1,""	SetGTask:2192,66,1													
175	2	领取[雕纹石锅]	npc_getaward		0	0	Npc:10231,0			CheckLevel:50,"等级不足50级。",""	CheckFaction:13,"请先加入门派再来吧。",""							SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:GetItem()"														
175	3	击杀精英	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",0,""			CheckLevel:50,"",""	CheckFaction:13,"",""	CheckLuaScript:"if me.GetTask(2192,68) ~= 1 then<enter><tab>if me.CountFreeBagCell() < 2 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>else<enter><tab>if me.CountFreeBagCell() < 1 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>end<enter>return 0;",""						SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>local nCount = me.GetTask(2192,61);<enter>if nCount < 20 then<enter><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1740,1\",1,0,\"\");<enter><tab>me.SetTask(2192,61,nCount + 1);<enter><tab>if me.GetTask(2192,68) ~= 1 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1745,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,68,1)<enter><tab>end<enter>end<enter>return 0;"														
175	4	官府通缉任务	action_finishtask		0	0	TaskFinish:"FinishWanted",0,""			CheckLuaScript:"if me.GetTask(2192,68) ~= 1 then<enter><tab>if me.CountFreeBagCell() < 2 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>else<enter><tab>if me.CountFreeBagCell() < 1 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>end<enter>return 0;",""								SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>local nCount = me.GetTask(2192,63);<enter>if nCount < 20 then<enter><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1741,1\",1,0,\"\");<enter><tab>me.SetTask(2192,63,nCount + 1);<enter><tab>if me.GetTask(2192,68) ~= 1 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1745,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,68,1)<enter><tab>end<enter>end<enter>return 0;"														
175	5	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",0,""			CheckLuaScript:"if me.GetTask(2192,68) ~= 1 then<enter><tab>if me.CountFreeBagCell() < 2 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>else<enter><tab>if me.CountFreeBagCell() < 1 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>end<enter>return 0;",""								SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>local nCount = me.GetTask(2192,62);<enter>if nCount < 5 then<enter><tab>if MathRandom(100) <= 30 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1742,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,62,nCount + 1);<enter><tab>end<enter><tab>if me.GetTask(2192,68) ~= 1 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1745,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,68,1)<enter><tab>end<enter>end<enter>return 0;"														
175	6	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",0,""			CheckLuaScript:"if me.GetTask(2192,68) ~= 1 then<enter><tab>if me.CountFreeBagCell() < 2 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>else<enter><tab>if me.CountFreeBagCell() < 1 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>end<enter>return 0;",""								SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>local nCount = me.GetTask(2192,62);<enter>if nCount < 5 then<enter><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1742,1\",1,1,\"\");<enter><tab>me.SetTask(2192,62,nCount + 1);<enter><tab>if me.GetTask(2192,68) ~= 1 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1745,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,68,1)<enter><tab>end<enter>end<enter>return 0;"														
175	7	藏宝图	action_finishtask		0	0	TaskFinish:"TreasureMapComplete",0,""			CheckLuaScript:"if me.GetTask(2192,68) ~= 1 then<enter><tab>if me.CountFreeBagCell() < 2 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>else<enter><tab>if me.CountFreeBagCell() < 1 then<enter><tab><tab>return 1, \"\";<enter><tab>end<enter>end<enter>return 0;",""								SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:ChangeTask(me)<enter>local nCount = me.GetTask(2192,62);<enter>if nCount < 5 then<enter><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1742,1\",1,1,\"\");<enter><tab>me.SetTask(2192,62,nCount + 1);<enter><tab>if me.GetTask(2192,68) ~= 1 then<enter><tab><tab>EventManager:ExeFun(\"AddItem\",\"18,1,1745,1\",1,1,\"\");<enter><tab><tab>me.SetTask(2192,68,1)<enter><tab>end<enter>end<enter>return 0;"														
175	8	callnpc	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(175,8);<enter>if tbTemp.nFlag then<enter>   return 0;<enter>end<enter><enter>local tbPoint = {<enter><tab>{29,1648,3941},<enter><tab>{24,1778,3534},<enter><tab>{25,1651,3163},<enter>}<enter><enter>for _, tb in ipairs(tbPoint) do<enter><tab>if SubWorldID2Idx(tb[1]) >= 0 then<enter><tab><tab>KNpc.Add2(10231, 90, -1, unpack(tb));<enter><tab>end<enter>end<enter>tbTemp.nFlag = 1;<enter>"														
175	9	购买莲子粽	npc_getaward		0	0	Npc:10231,0											SetLuaScript:"SpecialEvent.tbDragonBoatFestival2012:BuyItem()"														
177	1	大盗	action_finishtask		0	0	TaskFinish:"FinishWanted",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""								SetLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,23)<enter>local nMaxCount = math.min(nRate * 9, 36)<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,23, nCanAttend + 1);<enter><tab>me.Msg(\"恭喜你活动一次官府通缉加速机会，请使用征战江湖令领取奖励。\")<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end"														
177	2	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGameFinish",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""								SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>if tb[3] >= 4 then<enter><tab>local nRate = me.GetTask(2195, 46)<enter><tab>local nCanAttend = me.GetTask(2195,25)<enter><tab>local nMaxCount = math.min(nRate * 3, 15)<enter><tab>if nCanAttend < nMaxCount then<enter><tab><tab>me.SetTask(2195,25, nCanAttend + 1);<enter><tab><tab>me.Msg(\"恭喜你活动一次逍遥谷加速机会，请使用征战江湖令领取奖励。\")<enter><tab><tab>return 0;<enter><tab>else<enter><tab><tab>return 1;<enter><tab>end<enter>end<enter>return 1;"														
177	3	藏宝图	action_finishtask		0	0	TaskFinish:"TreasureMapComplete",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""								SetLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,27)<enter>local nMaxCount = math.min(nRate * 3, 15)<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,27, nCanAttend + 1);<enter><tab>me.Msg(\"恭喜你活动一次藏宝图加速机会，请使用征战江湖令领取奖励。\")<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end"														
177	4	白虎堂	action_finishtask		0	0	TaskFinish:"BaiHuTang",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""								SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>if tb[2] == 2 then<enter><tab>local nRate = me.GetTask(2195, 46)<enter><tab>local nCanAttend = me.GetTask(2195,29)<enter><tab>local nMaxCount = math.min(nRate * 2, 10)<enter><tab>if nCanAttend < nMaxCount then<enter><tab><tab>me.SetTask(2195,29, nCanAttend + 1);<enter><tab><tab>me.Msg(\"恭喜你活动一次白虎堂加速机会，请使用征战江湖令领取奖励。\")<enter><tab><tab>return 0;<enter><tab>else<enter><tab><tab>return 1;<enter><tab>end<enter>end<enter>return 1;"														
177	5	军营	action_finishtask		0	0	TaskFinish:"ArmyCampTask",2,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""	CheckLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,31)<enter>local nMaxCount = math.min(nRate * 3, 30)<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,31, nCanAttend + 1);<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""							AddKinRepute:1	AddTaskRepute:1,2,1	AddItem:"18,1,1758,1",1,1,4320	AddItem:"18,1,1755,1",1,1,4320	SetMsg:0,"恭喜你获得军营加速奖励。"	AddGTask:2195,32,1	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 5);"								
177	6	灯谜活动	action_finishtask		0	0	TaskFinish:"GuessGame",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""	CheckLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,33)<enter>local nMaxCount = math.min(nRate * 2, 20)<enter>if nCanAttend < nMaxCount then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""							SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nGrade = tb[1];<enter>if nGrade >= 200 then<enter><tab>local nAddExp = math.floor( (nGrade / 200) * 120 * me.GetBaseAwardExp() );<enter><tab>if nAddExp > 5000000 then<enter><tab><tab>nAddExp = 5000000;<enter><tab>end<enter><tab>me.Msg(\"恭喜你获得一次灯谜加速双倍奖励。\");<enter><tab>local nAddExpReal = me.AddExp2(nAddExp,\"guessgame\");<enter><tab>local szMsg = string.format(\"您获得了<color=yellow>%s<color>点经验奖励。\", nAddExp);<enter><tab>local nAddWeiWang = 0;<enter><tab>for nId = #GuessGame.TBWEIWANG.GRADE, 1, -1 do<enter><tab><tab>if nGrade >= GuessGame.TBWEIWANG.GRADE[nId] then<enter><tab><tab><tab>nAddWeiWang = GuessGame.TBWEIWANG.WEIWANG[nId];<enter><tab><tab><tab>break;<enter><tab><tab>end<enter><tab>end<enter><tab>if nAddWeiWang ~= 0 then<enter><tab><tab>me.AddKinReputeEntry(nAddWeiWang);<tab><enter><tab>end<enter>        return 0;<enter>end<enter>return 1;"	AddGTask:2195,34,1	AddGTask:2195,33,1	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 6);"											
177	7	家族关卡	action_finishtask		0	0	TaskFinish:"KinGame",0,""			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""								SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nType = tb[2];<enter>local nTaskId = 35;<enter>local nFinishTaskId = 36;<enter>if nType == 2 then<enter><tab>nTaskId = 37;<enter>       nFinishTaskId = 38;<enter>end<enter>local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,nTaskId)<enter>local nMaxCount = math.min(nRate * 2, 10);<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,nTaskId, nCanAttend + 1);<enter><tab>local nGroupId = KinGame.TASK_GROUP_ID;<enter><tab>local nTaskId = KinGame.TASK_BAG_ID;<enter><tab>local szMsg = \"恭喜你获得家族加速奖励60古铜币。\"<enter><tab>if nType == 2 then<enter><tab><tab>nGroupId = KinGame2.TASK_GROUP_ID;<enter><tab><tab>nTaskId = KinGame2.TASK_GOLD_COIN;<enter><tab><tab>szMsg =  \"恭喜你获得家族加速奖励60古金币。\"<enter><tab>end<enter><tab>me.SetTask(nGroupId, nTaskId, me.GetTask(nGroupId, nTaskId) + 60);<enter>        me.SetTask(2195, nFinishTaskId, me.GetTask(2195, nFinishTaskId) + 1);<enter><tab>me.Msg(szMsg);<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end"	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 7);"													
177	8	领土争夺	action_finishtask		0	0	TaskFinish:"DomainbattleTask",0,"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>return KItem.GetNeedFreeBag(18,1,252,1, nil, tb[2])"			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""	CheckLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>if tb[1] >= 1000 then<enter>       local nRate = me.GetTask(2195, 46)<enter>       local nCanAttend = me.GetTask(2195,39)<enter>       local nMaxCount = math.min(nRate * 1, 5)<enter>       if nCanAttend < nMaxCount then<enter><tab>       me.SetTask(2195,39, nCanAttend + 1);<enter><tab>       return 0;<enter>       else<enter><tab>       return 1;<enter>       end<enter>end<enter>return 1;",""							SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>if tb[1] >= 1000 then<enter>      local nCount = tb[2];<enter>      EventManager:ExeFun(\"AddItem\",\"18,1,252,1\", nCount, 1, \"\");<enter>      me.Msg(\"恭喜你获得领土战加速双倍箱子奖励。\")<enter>end"	AddGTask:2195,40,1	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 8);"												
177	9	家园种植	action_finishtask		0	0	TaskFinish:"KinPlantGetFruit",0,"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nIndex = tb[1];<enter>local nNum = tb[2]<enter>local tbFruit = KinPlant:GetFruitItem(nIndex);<enter>return KItem.GetNeedFreeBag(tbFruit[1], tbFruit[2], tbFruit[3], tbFruit[4], nil, nNum)"			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""	CheckLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,41)<enter>local nMaxCount = math.min(nRate * 6, 60)<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,41, nCanAttend + 1);<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""							SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nIndex = tb[1];<enter>local nNum = tb[2]<enter>local tbFruit = KinPlant:GetFruitItem(nIndex);<enter>EventManager:ExeFun(\"AddItem\",string.format(\"%s,%s,%s,%s\",unpack(tbFruit)), nNum, 1, \"\");<enter>me.Msg(\"恭喜你获得种植加速双倍收成奖励。\")"	AddGTask:2195,42,1	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 9);"												
177	10	侠客任务	action_finishtask		0	0	TaskFinish:"XiaKeDaily",0,"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nIndex = tb[1];<enter>local tbCount = {2,2,2,2,6}<enter>return KItem.GetNeedFreeBag(18, 1, 1233, 1, nil, tbCount[nIndex])"			CheckLuaScript:"local nGetBatch = me.GetTask(2195, 1)<enter>local nGetTime = me.GetTask(2195, 2)<enter>local nBatch = me.GetTask(2195, 45)<enter>if nBatch == nGetBatch and GetTime() - nGetTime <= 30*24*3600 then<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""	CheckLuaScript:"local nRate = me.GetTask(2195, 46)<enter>local nCanAttend = me.GetTask(2195,43)<enter>local nMaxCount = math.min(nRate * 1, 4)<enter>if nCanAttend < nMaxCount then<enter><tab>me.SetTask(2195,43, nCanAttend + 1);<enter><tab>return 0;<enter>else<enter><tab>return 1;<enter>end",""							SetLuaScript:"local tb = EventManager:GetLibTable().tbTaskFinishArg;<enter>local nIndex = tb[1];<enter>local tbCount = {2,2,2,2,6}<enter>EventManager:ExeFun(\"AddItem\",\"18, 1, 1233, 1\", tbCount[nIndex], 1, \"\");<enter>me.Msg(\"恭喜你获得侠客任务加速双倍侠客令奖励。\")"	AddGTask:2195,44,1	SetLuaScript:"StatLog:WriteStatLog(\"stat_info\", \"roleback\", \"lingpai_use\", me.nId, 10);"												
184	1	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGameFinish",0,""			CheckLevel:50,"",""	CheckLuaScript:"<enter>local tblMemberList, _ = me.GetTeamMemberList()<enter><tab>if (not tblMemberList) then<enter><tab><tab>return 1;<enter><tab>end<enter>for _, teamMember in pairs(tblMemberList) do<enter><tab><tab>if teamMember then<enter>                  local bHuiHuang = teamMember.GetTask(2197, 39)<enter>                  if bHuiHuang  == 1 then<enter>                    return 0;<enter>                  end<enter><tab><tab>end<enter>end<enter>return 1;",""	CheckLuaScript:"if  me.GetTask(2197, 40) == 0 then<enter>   return 0;<enter>else<enter>   return 1;<enter>end<enter>                  ",""						SetLuaScript:"<enter>me.AddBindCoin(500)<enter>--记录log<enter>StatLog:WriteStatLog(\"stat_info\", \"olympic2012\", \"guess_award\", me.nId, 1, 2, 500);<enter>me.SetTask(2197, 40, 1)<enter>return 0;<enter>"														
184	2	军营	action_finishtask		0	0	TaskFinish:"ArmyCampBoss",0,""			CheckLevel:50,"",""	CheckLuaScript:"<enter>local tblMemberList, _ = me.GetTeamMemberList()<enter><tab>if (not tblMemberList) then<enter><tab><tab>return 1;<enter><tab>end<enter>for _, teamMember in pairs(tblMemberList) do<enter><tab><tab>if teamMember then<enter>                  local bHuiHuang = teamMember.GetTask(2197, 39)<enter>                  if bHuiHuang  == 1 then<enter>                    return 0;<enter>                  end<enter><tab><tab>end<enter>end<enter>return 1;",""	CheckLuaScript:"if  me.GetTask(2197, 41) == 0 then<enter>   return 0;<enter>else<enter>   return 1;<enter>end",""						SetLuaScript:"<enter>me.AddBindCoin(500)<enter><enter>--记录log<enter>StatLog:WriteStatLog(\"stat_info\", \"olympic2012\", \"guess_award\", me.nId, 2, 2, 500);<enter>me.SetTask(2197, 41, 1)<enter>return 0;"														
184	3	添加npc	default		0	0	TimerStart:-1											SetLuaScriptNotMe:"local tbTemp = EventManager:GetLibTable(184,3)<enter>if tbTemp.bAddNpc then<enter>   return 1;<enter>end<enter><enter>tbTemp.bAddNpc = 1;<enter>SpecialEvent.tbShengXia2012:AddNpc()<enter>return 0;"														
185	1	逍遥谷	action_finishtask		0	0	TaskFinish:"XoyoGame",1,""			CheckTaskDay:6,221,220,"",""								SetLuaScript:"local pItem = me.AddItem(18,1,1779,1);<enter>if pItem then<enter>    pItem.Bind(1);<enter>    local nDate = tonumber(GetLocalDate(\"%Y%m%d\"));<enter>    local nValidTime = Lib:GetDate2Time(nDate) + 24 * 3600 - 1;<enter>    me.SetItemTimeout(pItem, os.date(\"%Y/%m/%d/%H/%M/%S\", nValidTime));<enter>    StatLog:WriteStatLog(\"stat_info\", \"qixi_2012\", \"jiexinyu_get\", me.nId, 1, 1);<enter>end"	AddTaskDay:221,220													
185	2	军营任务	action_finishtask		0	0	TaskFinish:"ArmyCampTask",4,""			CheckTaskDay:6,221,220,"",""								SetLuaScript:"local nTaskDay = me.GetTask(2026, 220);<enter>local nDay = tonumber(GetLocalDate(\"%Y%m%d\"));<enter>if nDay > nTaskDay then<enter>    me.SetTask(2026, 220, nDay);<enter>    me.SetTask(2026, 221, 0);<enter>end<enter>local nTaskCount = me.GetTask(2026, 221);<enter>local nCount = 6- nTaskCount;<enter>if nCount <= 0 then<enter>    return 0;<enter>end<enter>if nCount > 4 then<enter>    nCount = 4;<enter>end<enter>local nValidTime = Lib:GetDate2Time(nDay) + 24 * 3600 - 1;<enter>for i = 1, nCount do<enter>    local pItem = me.AddItem(18,1,1779,1);<enter>    if pItem then<enter>        pItem.Bind(1);<enter>        me.SetItemTimeout(pItem, os.date(\"%Y/%m/%d/%H/%M/%S\", nValidTime));<enter>    end<enter>end<enter>me.SetTask(2026, 221, nTaskCount+nCount)<enter>StatLog:WriteStatLog(\"stat_info\", \"qixi_2012\", \"jiexinyu_get\", me.nId, 3, nCount);<enter>return 0;"														
185	3	精英首领怪掉落	action_finishtask		0	0	TaskFinish:"JYAndSLDeath",1,""			CheckTaskDay:0,221,220,"",""								SetLuaScript:"local nTaskDay = me.GetTask(2026, 220);<enter>local nDay = tonumber(GetLocalDate(\"%Y%m%d\"));<enter>if nDay > nTaskDay then<enter>    me.SetTask(2026, 220, nDay);<enter>    me.SetTask(2026, 221, 0);<enter>end<enter>local nTaskCount = me.GetTask(2026, 221);<enter>if nTaskCount >= 6 then<enter>    return 0;<enter>end<enter>if me.CountFreeBagCell() < 1 then<enter>    return 0;<enter>end<enter>if MathRandom(100) > 50 then<enter>    return 0;<enter>end<enter>local nValidTime = Lib:GetDate2Time(nDay ) + 24 * 3600 - 1;<enter>local pItem = me.AddItem(18,1,1779,1);<enter>if pItem then<enter>    pItem.Bind(1);<enter>    me.SetItemTimeout(pItem, os.date(\"%Y/%m/%d/%H/%M/%S\", nValidTime));<enter>    me.SetTask(2026, 221, nTaskCount + 1)<enter>    StatLog:WriteStatLog(\"stat_info\", \"qixi_2012\", \"jiexinyu_get\", me.nId, 2, 1);<enter>  end<enter><enter>return 0;"														
